"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const Dt=require("obsidian"),An=require("node:crypto"),Qe=!1;var Nt=Array.isArray,kn=Array.prototype.indexOf,We=Array.from,Pt=Object.defineProperty,Ee=Object.getOwnPropertyDescriptor,On=Object.getOwnPropertyDescriptors,Fn=Object.prototype,Mn=Array.prototype,It=Object.getPrototypeOf,Et=Object.isExtensible;const Te=()=>{};function Cn(e){return e()}function et(e){for(var t=0;t<e.length;t++)e[t]()}function Lt(){var e,t,n=new Promise((r,s)=>{e=r,t=s});return{promise:n,resolve:e,reject:t}}const E=2,Vt=4,Ge=8,Dn=1<<24,X=16,Z=32,he=64,Xe=128,q=512,S=1024,F=2048,Y=4096,D=8192,W=16384,ct=32768,xe=65536,Tt=1<<17,qt=1<<18,Oe=1<<19,Bt=1<<20,re=1<<25,ae=32768,tt=1<<21,dt=1<<22,ie=1<<23,Se=Symbol("$state"),Nn=Symbol("legacy props"),be=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Ut(e){return e===this.v}function jt(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function $t(e){return!jt(e,this.v)}function Pn(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function In(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Ln(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Vn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function qn(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Bn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Un(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function jn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function $n(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Yn(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}let Fe=!1,Kn=!1;function Hn(){Fe=!0}const zn=1,Wn=2,Gn=16,Xn=2,Zn=4,Jn=8,Qn=2,T=Symbol();let y=null;function Re(e){y=e}function ht(e,t=!1,n){y={p:y,i:!1,c:null,e:null,s:e,x:null,l:Fe&&!t?{s:null,u:null,$:[]}:null}}function vt(e){var t=y,n=t.e;if(n!==null){t.e=null;for(var r of n)vn(r)}return t.i=!0,y=t.p,{}}function Le(){return!Fe||y!==null&&y.l===null}let me=[];function er(){var e=me;me=[],et(e)}function _t(e){if(me.length===0){var t=me;queueMicrotask(()=>{t===me&&er()})}me.push(e)}function tr(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function we(e){if(typeof e!="object"||e===null||Se in e)return e;const t=It(e);if(t!==Fn&&t!==Mn)return e;var n=new Map,r=Nt(e),s=te(0),i=oe,u=l=>{if(oe===i)return l();var o=p,f=oe;k(null),At(i);var c=l();return k(o),At(f),c};return r&&n.set("length",te(e.length)),new Proxy(e,{defineProperty(l,o,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&Un();var c=n.get(o);return c===void 0?c=u(()=>{var d=te(f.value);return n.set(o,d),d}):z(c,f.value,!0),!0},deleteProperty(l,o){var f=n.get(o);if(f===void 0){if(o in l){const c=u(()=>te(T));n.set(o,c),De(s)}}else z(f,T),De(s);return!0},get(l,o,f){if(o===Se)return e;var c=n.get(o),d=o in l;if(c===void 0&&(!d||Ee(l,o)?.writable)&&(c=u(()=>{var h=we(d?l[o]:T),v=te(h);return v}),n.set(o,c)),c!==void 0){var a=x(c);return a===T?void 0:a}return Reflect.get(l,o,f)},getOwnPropertyDescriptor(l,o){var f=Reflect.getOwnPropertyDescriptor(l,o);if(f&&"value"in f){var c=n.get(o);c&&(f.value=x(c))}else if(f===void 0){var d=n.get(o),a=d?.v;if(d!==void 0&&a!==T)return{enumerable:!0,configurable:!0,value:a,writable:!0}}return f},has(l,o){if(o===Se)return!0;var f=n.get(o),c=f!==void 0&&f.v!==T||Reflect.has(l,o);if(f!==void 0||g!==null&&(!c||Ee(l,o)?.writable)){f===void 0&&(f=u(()=>{var a=c?we(l[o]):T,h=te(a);return h}),n.set(o,f));var d=x(f);if(d===T)return!1}return c},set(l,o,f,c){var d=n.get(o),a=o in l;if(r&&o==="length")for(var h=f;h<d.v;h+=1){var v=n.get(h+"");v!==void 0?z(v,T):h in l&&(v=u(()=>te(T)),n.set(h+"",v))}if(d===void 0)(!a||Ee(l,o)?.writable)&&(d=u(()=>te(void 0)),z(d,we(f)),n.set(o,d));else{a=d.v!==T;var m=u(()=>we(f));z(d,m)}var b=Reflect.getOwnPropertyDescriptor(l,o);if(b?.set&&b.set.call(c,f),!a){if(r&&typeof o=="string"){var N=n.get("length"),_=Number(o);Number.isInteger(_)&&_>=N.v&&z(N,_+1)}De(s)}return!0},ownKeys(l){x(s);var o=Reflect.ownKeys(l).filter(d=>{var a=n.get(d);return a===void 0||a.v!==T});for(var[f,c]of n)c.v!==T&&!(f in l)&&o.push(f);return o},setPrototypeOf(){jn()}})}var St,Yt,Kt,Ht;function nr(){if(St===void 0){St=window,Yt=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Kt=Ee(t,"firstChild").get,Ht=Ee(t,"nextSibling").get,Et(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Et(n)&&(n.__t=void 0)}}function le(e=""){return document.createTextNode(e)}function zt(e){return Kt.call(e)}function Ze(e){return Ht.call(e)}function ye(e,t){return zt(e)}function je(e,t=1,n=!1){let r=e;for(;t--;)r=Ze(r);return r}function rr(e){e.textContent=""}function Wt(){return!1}function Gt(e){var t=g;if(t===null)return p.f|=ie,e;if((t.f&ct)===0){if((t.f&Xe)===0)throw e;t.b.error(e)}else Ae(e,t)}function Ae(e,t){for(;t!==null;){if((t.f&Xe)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const qe=new Set;let w=null,L=null,U=[],pt=null,nt=!1;class j{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#r=0;#n=0;#o=null;#s=new Set;#i=new Set;skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#n>0}process(t){U=[],this.apply();var n={parent:null,effect:null,effects:[],render_effects:[]};for(const r of t)this.#l(r,n);this.is_fork||this.#a(),this.is_deferred()?(this.#f(n.effects),this.#f(n.render_effects)):(w=null,xt(n.render_effects),xt(n.effects),this.#o?.resolve()),L=null}#l(t,n){t.f^=S;for(var r=t.first;r!==null;){var s=r.f,i=(s&(Z|he))!==0,u=i&&(s&S)!==0,l=u||(s&D)!==0||this.skipped_effects.has(r);if((r.f&Xe)!==0&&r.b?.is_pending()&&(n={parent:n,effect:r,effects:[],render_effects:[]}),!l&&r.fn!==null){i?r.f^=S:(s&Vt)!==0?n.effects.push(r):Ve(r)&&((r.f&X)!==0&&this.#s.add(r),Pe(r));var o=r.first;if(o!==null){r=o;continue}}var f=r.parent;for(r=r.next;r===null&&f!==null;)f===n.effect&&(this.#f(n.effects),this.#f(n.render_effects),n=n.parent),r=f.next,f=f.parent}}#f(t){for(const n of t)(n.f&F)!==0?this.#s.add(n):(n.f&Y)!==0&&this.#i.add(n),this.#u(n.deps),R(n,S)}#u(t){if(t!==null)for(const n of t)(n.f&E)===0||(n.f&ae)===0||(n.f^=ae,this.#u(n.deps))}capture(t,n){this.previous.has(t)||this.previous.set(t,n),(t.f&ie)===0&&(this.current.set(t,t.v),L?.set(t,t.v))}activate(){w=this,this.apply()}deactivate(){w===this&&(w=null,L=null)}flush(){if(this.activate(),U.length>0){if(ir(),w!==null&&w!==this)return}else this.#r===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#t)t(this);this.#t.clear()}#a(){if(this.#n===0){for(const t of this.#e)t();this.#e.clear()}this.#r===0&&this.#c()}#c(){if(qe.size>1){this.previous.clear();var t=L,n=!0,r={parent:null,effect:null,effects:[],render_effects:[]};for(const i of qe){if(i===this){n=!1;continue}const u=[];for(const[o,f]of this.current){if(i.current.has(o))if(n&&f!==i.current.get(o))i.current.set(o,f);else continue;u.push(o)}if(u.length===0)continue;const l=[...i.current.keys()].filter(o=>!this.current.has(o));if(l.length>0){var s=U;U=[];const o=new Set,f=new Map;for(const c of u)Xt(c,l,o,f);if(U.length>0){w=i,i.apply();for(const c of U)i.#l(c,r);i.deactivate()}U=s}}w=null,L=t}this.committed=!0,qe.delete(this)}increment(t){this.#r+=1,t&&(this.#n+=1)}decrement(t){this.#r-=1,t&&(this.#n-=1),this.revive()}revive(){for(const t of this.#s)this.#i.delete(t),R(t,F),ce(t);for(const t of this.#i)R(t,Y),ce(t);this.flush()}oncommit(t){this.#e.add(t)}ondiscard(t){this.#t.add(t)}settled(){return(this.#o??=Lt()).promise}static ensure(){if(w===null){const t=w=new j;qe.add(w),j.enqueue(()=>{w===t&&t.flush()})}return w}static enqueue(t){_t(t)}apply(){}}function ir(){var e=fe;nt=!0;var t=null;try{var n=0;for(He(!0);U.length>0;){var r=j.ensure();if(n++>1e3){var s,i;sr()}r.process(U),se.clear()}}finally{nt=!1,He(e),pt=null}}function sr(){try{Bn()}catch(e){Ae(e,pt)}}let H=null;function xt(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(W|D))===0&&Ve(r)&&(H=new Set,Pe(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?bn(r):r.fn=null),H?.size>0)){se.clear();for(const s of H){if((s.f&(W|D))!==0)continue;const i=[s];let u=s.parent;for(;u!==null;)H.has(u)&&(H.delete(u),i.push(u)),u=u.parent;for(let l=i.length-1;l>=0;l--){const o=i[l];(o.f&(W|D))===0&&Pe(o)}}H.clear()}}H=null}}function Xt(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const s of e.reactions){const i=s.f;(i&E)!==0?Xt(s,t,n,r):(i&(dt|X))!==0&&(i&F)===0&&Zt(s,t,r)&&(R(s,F),ce(s))}}function Zt(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const s of e.deps){if(t.includes(s))return!0;if((s.f&E)!==0&&Zt(s,t,n))return n.set(s,!0),!0}return n.set(e,!1),!1}function ce(e){for(var t=pt=e;t.parent!==null;){t=t.parent;var n=t.f;if(nt&&t===g&&(n&X)!==0&&(n&qt)===0)return;if((n&(he|Z))!==0){if((n&S)===0)return;t.f^=S}}U.push(t)}function lr(e){let t=0,n=de(0),r;return()=>{Ie()&&(x(n),Tr(()=>(t===0&&(r=Me(()=>e(()=>De(n)))),t+=1,()=>{_t(()=>{t-=1,t===0&&(r?.(),r=void 0,De(n))})})))}}var fr=xe|Oe|Xe;function or(e,t,n){new ur(e,t,n)}class ur{parent;#e=!1;#t;#r=null;#n;#o;#s;#i=null;#l=null;#f=null;#u=null;#a=null;#c=0;#d=0;#v=!1;#h=null;#m=lr(()=>(this.#h=de(this.#c),()=>{this.#h=null}));constructor(t,n,r){this.#t=t,this.#n=n,this.#o=r,this.parent=g.b,this.#e=!!this.#n.pending,this.#s=wt(()=>{g.b=this;{var s=this.#g();try{this.#i=I(()=>r(s))}catch(i){this.error(i)}this.#d>0?this.#p():this.#e=!1}return()=>{this.#a?.remove()}},fr)}#w(){try{this.#i=I(()=>this.#o(this.#t))}catch(t){this.error(t)}this.#e=!1}#y(){const t=this.#n.pending;t&&(this.#l=I(()=>t(this.#t)),j.enqueue(()=>{var n=this.#g();this.#i=this.#_(()=>(j.ensure(),I(()=>this.#o(n)))),this.#d>0?this.#p():(ue(this.#l,()=>{this.#l=null}),this.#e=!1)}))}#g(){var t=this.#t;return this.#e&&(this.#a=le(),this.#t.before(this.#a),t=this.#a),t}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#_(t){var n=g,r=p,s=y;K(this.#s),k(this.#s),Re(this.#s.ctx);try{return t()}catch(i){return Gt(i),null}finally{K(n),k(r),Re(s)}}#p(){const t=this.#n.pending;this.#i!==null&&(this.#u=document.createDocumentFragment(),this.#u.append(this.#a),yn(this.#i,this.#u)),this.#l===null&&(this.#l=I(()=>t(this.#t)))}#b(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#b(t);return}this.#d+=t,this.#d===0&&(this.#e=!1,this.#l&&ue(this.#l,()=>{this.#l=null}),this.#u&&(this.#t.before(this.#u),this.#u=null))}update_pending_count(t){this.#b(t),this.#c+=t,this.#h&&ke(this.#h,this.#c)}get_effect_pending(){return this.#m(),x(this.#h)}error(t){var n=this.#n.onerror;let r=this.#n.failed;if(this.#v||!n&&!r)throw t;this.#i&&(O(this.#i),this.#i=null),this.#l&&(O(this.#l),this.#l=null),this.#f&&(O(this.#f),this.#f=null);var s=!1,i=!1;const u=()=>{if(s){tr();return}s=!0,i&&Yn(),j.ensure(),this.#c=0,this.#f!==null&&ue(this.#f,()=>{this.#f=null}),this.#e=this.has_pending_snippet(),this.#i=this.#_(()=>(this.#v=!1,I(()=>this.#o(this.#t)))),this.#d>0?this.#p():this.#e=!1};var l=p;try{k(null),i=!0,n?.(t,u),i=!1}catch(o){Ae(o,this.#s&&this.#s.parent)}finally{k(l)}r&&_t(()=>{this.#f=this.#_(()=>{j.ensure(),this.#v=!0;try{return I(()=>{r(this.#t,()=>t,()=>u)})}catch(o){return Ae(o,this.#s.parent),null}finally{this.#v=!1}})})}}function ar(e,t,n,r){const s=Le()?gt:bt;if(n.length===0&&e.length===0){r(t.map(s));return}var i=w,u=g,l=cr();function o(){Promise.all(n.map(f=>dr(f))).then(f=>{l();try{r([...t.map(s),...f])}catch(c){(u.f&W)===0&&Ae(c,u)}i?.deactivate(),Ke()}).catch(f=>{Ae(f,u)})}e.length>0?Promise.all(e).then(()=>{l();try{return o()}finally{i?.deactivate(),Ke()}}):o()}function cr(){var e=g,t=p,n=y,r=w;return function(i=!0){K(e),k(t),Re(n),i&&r?.activate()}}function Ke(){K(null),k(null),Re(null)}function gt(e){var t=E|F,n=p!==null&&(p.f&E)!==0?p:null;return g!==null&&(g.f|=Oe),{ctx:y,deps:null,effects:null,equals:Ut,f:t,fn:e,reactions:null,rv:0,v:T,wv:0,parent:n??g,ac:null}}function dr(e,t){let n=g;n===null&&In();var r=n.b,s=void 0,i=de(T),u=!p,l=new Map;return Er(()=>{var o=Lt();s=o.promise;try{Promise.resolve(e()).then(o.resolve,o.reject).then(()=>{f===w&&f.committed&&f.deactivate(),Ke()})}catch(a){o.reject(a),Ke()}var f=w;if(u){var c=!r.is_pending();r.update_pending_count(1),f.increment(c),l.get(f)?.reject(be),l.delete(f),l.set(f,o)}const d=(a,h=void 0)=>{if(f.activate(),h)h!==be&&(i.f|=ie,ke(i,h));else{(i.f&ie)!==0&&(i.f^=ie),ke(i,a);for(const[v,m]of l){if(l.delete(v),v===f)break;m.reject(be)}}u&&(r.update_pending_count(-1),f.decrement(c))};o.promise.then(d,a=>d(null,a||"unknown"))}),hn(()=>{for(const o of l.values())o.reject(be)}),new Promise(o=>{function f(c){function d(){c===s?o(i):f(s)}c.then(d,d)}f(s)})}function bt(e){const t=gt(e);return t.equals=$t,t}function Jt(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)O(t[n])}}function hr(e){for(var t=e.parent;t!==null;){if((t.f&E)===0)return(t.f&W)===0?t:null;t=t.parent}return null}function mt(e){var t,n=g;K(hr(e));try{e.f&=~ae,Jt(e),t=on(e)}finally{K(n)}return t}function Qt(e){var t=mt(e);if(e.equals(t)||(w?.is_fork||(e.v=t),e.wv=ln()),!ve)if(L!==null)(Ie()||w?.is_fork)&&L.set(e,t);else{var n=(e.f&q)===0?Y:S;R(e,n)}}let rt=new Set;const se=new Map;let en=!1;function de(e,t){var n={f:0,v:e,reactions:null,equals:Ut,rv:0,wv:0};return n}function te(e,t){const n=de(e);return _r(n),n}function tn(e,t=!1,n=!0){const r=de(e);return t||(r.equals=$t),Fe&&n&&y!==null&&y.l!==null&&(y.l.s??=[]).push(r),r}function z(e,t,n=!1){p!==null&&(!$||(p.f&Tt)!==0)&&Le()&&(p.f&(E|X|dt|Tt))!==0&&!G?.includes(e)&&$n();let r=n?we(t):t;return ke(e,r)}function ke(e,t){if(!e.equals(t)){var n=e.v;ve?se.set(e,t):se.set(e,n),e.v=t;var r=j.ensure();r.capture(e,n),(e.f&E)!==0&&((e.f&F)!==0&&mt(e),R(e,(e.f&q)!==0?S:Y)),e.wv=ln(),nn(e,F),Le()&&g!==null&&(g.f&S)!==0&&(g.f&(Z|he))===0&&(P===null?pr([e]):P.push(e)),!r.is_fork&&rt.size>0&&!en&&vr()}return t}function vr(){en=!1;var e=fe;He(!0);const t=Array.from(rt);try{for(const n of t)(n.f&S)!==0&&R(n,Y),Ve(n)&&Pe(n)}finally{He(e)}rt.clear()}function De(e){z(e,e.v+1)}function nn(e,t){var n=e.reactions;if(n!==null)for(var r=Le(),s=n.length,i=0;i<s;i++){var u=n[i],l=u.f;if(!(!r&&u===g)){var o=(l&F)===0;if(o&&R(u,t),(l&E)!==0){var f=u;L?.delete(f),(l&ae)===0&&(l&q&&(u.f|=ae),nn(f,Y))}else o&&((l&X)!==0&&H!==null&&H.add(u),ce(u))}}}function rn(e){var t=p,n=g;k(null),K(null);try{return e()}finally{k(t),K(n)}}let fe=!1;function He(e){fe=e}let ve=!1;function Rt(e){ve=e}let p=null,$=!1;function k(e){p=e}let g=null;function K(e){g=e}let G=null;function _r(e){p!==null&&(G===null?G=[e]:G.push(e))}let A=null,C=0,P=null;function pr(e){P=e}let sn=1,Ne=0,oe=Ne;function At(e){oe=e}function ln(){return++sn}function Ve(e){var t=e.f;if((t&F)!==0)return!0;if(t&E&&(e.f&=~ae),(t&Y)!==0){var n=e.deps;if(n!==null)for(var r=n.length,s=0;s<r;s++){var i=n[s];if(Ve(i)&&Qt(i),i.wv>e.wv)return!0}(t&q)!==0&&L===null&&R(e,S)}return!1}function fn(e,t,n=!0){var r=e.reactions;if(r!==null&&!G?.includes(e))for(var s=0;s<r.length;s++){var i=r[s];(i.f&E)!==0?fn(i,t,!1):t===i&&(n?R(i,F):(i.f&S)!==0&&R(i,Y),ce(i))}}function on(e){var t=A,n=C,r=P,s=p,i=G,u=y,l=$,o=oe,f=e.f;A=null,C=0,P=null,p=(f&(Z|he))===0?e:null,G=null,Re(e.ctx),$=!1,oe=++Ne,e.ac!==null&&(rn(()=>{e.ac.abort(be)}),e.ac=null);try{e.f|=tt;var c=e.fn,d=c(),a=e.deps;if(A!==null){var h;if(ze(e,C),a!==null&&C>0)for(a.length=C+A.length,h=0;h<A.length;h++)a[C+h]=A[h];else e.deps=a=A;if(Ie()&&(e.f&q)!==0)for(h=C;h<a.length;h++)(a[h].reactions??=[]).push(e)}else a!==null&&C<a.length&&(ze(e,C),a.length=C);if(Le()&&P!==null&&!$&&a!==null&&(e.f&(E|Y|F))===0)for(h=0;h<P.length;h++)fn(P[h],e);return s!==null&&s!==e&&(Ne++,P!==null&&(r===null?r=P:r.push(...P))),(e.f&ie)!==0&&(e.f^=ie),d}catch(v){return Gt(v)}finally{e.f^=tt,A=t,C=n,P=r,p=s,G=i,Re(u),$=l,oe=o}}function gr(e,t){let n=t.reactions;if(n!==null){var r=kn.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}n===null&&(t.f&E)!==0&&(A===null||!A.includes(t))&&(R(t,Y),(t.f&q)!==0&&(t.f^=q,t.f&=~ae),Jt(t),ze(t,0))}function ze(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)gr(e,n[r])}function Pe(e){var t=e.f;if((t&W)===0){R(e,S);var n=g,r=fe;g=e,fe=!0;try{(t&(X|Dn))!==0?Sr(e):gn(e),pn(e);var s=on(e);e.teardown=typeof s=="function"?s:null,e.wv=sn;var i;Qe&&Kn&&(e.f&F)!==0&&e.deps}finally{fe=r,g=n}}}function x(e){var t=e.f,n=(t&E)!==0;if(p!==null&&!$){var r=g!==null&&(g.f&W)!==0;if(!r&&!G?.includes(e)){var s=p.deps;if((p.f&tt)!==0)e.rv<Ne&&(e.rv=Ne,A===null&&s!==null&&s[C]===e?C++:A===null?A=[e]:A.includes(e)||A.push(e));else{(p.deps??=[]).push(e);var i=e.reactions;i===null?e.reactions=[p]:i.includes(p)||i.push(p)}}}if(ve){if(se.has(e))return se.get(e);if(n){var u=e,l=u.v;return((u.f&S)===0&&u.reactions!==null||an(u))&&(l=mt(u)),se.set(u,l),l}}else n&&(!L?.has(e)||w?.is_fork&&!Ie())&&(u=e,Ve(u)&&Qt(u),fe&&Ie()&&(u.f&q)===0&&un(u));if(L?.has(e))return L.get(e);if((e.f&ie)!==0)throw e.v;return e.v}function un(e){if(e.deps!==null){e.f^=q;for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&E)!==0&&(t.f&q)===0&&un(t)}}function an(e){if(e.v===T)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(se.has(t)||(t.f&E)!==0&&an(t))return!0;return!1}function Me(e){var t=$;try{return $=!0,e()}finally{$=t}}const br=-7169;function R(e,t){e.f=e.f&br|t}function cn(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Se in e)it(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Se in n&&it(n)}}}function it(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{it(e[r],t)}catch{}const n=It(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=On(n);for(let s in r){const i=r[s].get;if(i)try{i.call(e)}catch{}}}}}function dn(e){g===null&&(p===null&&qn(),Vn()),ve&&Ln()}function mr(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function J(e,t,n){var r=g;r!==null&&(r.f&D)!==0&&(e|=D);var s={ctx:y,deps:null,nodes:null,f:e|F|q,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{Pe(s),s.f|=ct}catch(l){throw O(s),l}else t!==null&&ce(s);var i=s;if(n&&i.deps===null&&i.teardown===null&&i.nodes===null&&i.first===i.last&&(i.f&Oe)===0&&(i=i.first,(e&X)!==0&&(e&xe)!==0&&i!==null&&(i.f|=xe)),i!==null&&(i.parent=r,r!==null&&mr(i,r),p!==null&&(p.f&E)!==0&&(e&he)===0)){var u=p;(u.effects??=[]).push(i)}return s}function Ie(){return p!==null&&!$}function hn(e){const t=J(Ge,null,!1);return R(t,S),t.teardown=e,t}function st(e){dn();var t=g.f,n=!p&&(t&Z)!==0&&(t&ct)===0;if(n){var r=y;(r.e??=[]).push(e)}else return vn(e)}function vn(e){return J(Vt|Bt,e,!1)}function wr(e){return dn(),J(Ge|Bt,e,!0)}function yr(e){j.ensure();const t=J(he|Oe,e,!0);return(n={})=>new Promise(r=>{n.outro?ue(t,()=>{O(t),r(void 0)}):(O(t),r(void 0))})}function Er(e){return J(dt|Oe,e,!0)}function Tr(e,t=0){return J(Ge|t,e,!0)}function _n(e,t=[],n=[],r=[]){ar(r,t,n,s=>{J(Ge,()=>e(...s.map(x)),!0)})}function wt(e,t=0){var n=J(X|t,e,!0);return n}function I(e){return J(Z|Oe,e,!0)}function pn(e){var t=e.teardown;if(t!==null){const n=ve,r=p;Rt(!0),k(null);try{t.call(null)}finally{Rt(n),k(r)}}}function gn(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const s=n.ac;s!==null&&rn(()=>{s.abort(be)});var r=n.next;(n.f&he)!==0?n.parent=null:O(n,t),n=r}}function Sr(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Z)===0&&O(t),t=n}}function O(e,t=!0){var n=!1;(t||(e.f&qt)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(xr(e.nodes.start,e.nodes.end),n=!0),gn(e,t&&!n),ze(e,0),R(e,W);var r=e.nodes&&e.nodes.t;if(r!==null)for(const i of r)i.stop();pn(e);var s=e.parent;s!==null&&s.first!==null&&bn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function xr(e,t){for(;e!==null;){var n=e===t?null:Ze(e);e.remove(),e=n}}function bn(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function ue(e,t,n=!0){var r=[];mn(e,r,!0);var s=()=>{n&&O(e),t&&t()},i=r.length;if(i>0){var u=()=>--i||s();for(var l of r)l.out(u)}else s()}function mn(e,t,n){if((e.f&D)===0){e.f^=D;var r=e.nodes&&e.nodes.t;if(r!==null)for(const l of r)(l.is_global||n)&&t.push(l);for(var s=e.first;s!==null;){var i=s.next,u=(s.f&xe)!==0||(s.f&Z)!==0&&(e.f&X)!==0;mn(s,t,u?n:!1),s=i}}}function yt(e){wn(e,!0)}function wn(e,t){if((e.f&D)!==0){e.f^=D,(e.f&S)===0&&(R(e,F),ce(e));for(var n=e.first;n!==null;){var r=n.next,s=(n.f&xe)!==0||(n.f&Z)!==0;wn(n,s?t:!1),n=r}var i=e.nodes&&e.nodes.t;if(i!==null)for(const u of i)(u.is_global||t)&&u.in()}}function yn(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var s=n===r?null:Ze(n);t.append(n),n=s}}const Rr=["touchstart","touchmove"];function Ar(e){return Rr.includes(e)}const En=new Set,lt=new Set;function kr(e){for(var t=0;t<e.length;t++)En.add(e[t]);for(var n of lt)n(e)}let kt=null;function Be(e){var t=this,n=t.ownerDocument,r=e.type,s=e.composedPath?.()||[],i=s[0]||e.target;kt=e;var u=0,l=kt===e&&e.__root;if(l){var o=s.indexOf(l);if(o!==-1&&(t===document||t===window)){e.__root=t;return}var f=s.indexOf(t);if(f===-1)return;o<=f&&(u=o)}if(i=s[u]||e.target,i!==t){Pt(e,"currentTarget",{configurable:!0,get(){return i||n}});var c=p,d=g;k(null),K(null);try{for(var a,h=[];i!==null;){var v=i.assignedSlot||i.parentNode||i.host||null;try{var m=i["__"+r];m!=null&&(!i.disabled||e.target===i)&&m.call(i,e)}catch(b){a?h.push(b):a=b}if(e.cancelBubble||v===t||v===null)break;i=v}if(a){for(let b of h)queueMicrotask(()=>{throw b});throw a}}finally{e.__root=t,delete e.currentTarget,k(c),K(d)}}}function Or(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Fr(e,t){var n=g;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function Je(e,t){var n=(t&Qn)!==0,r,s=!e.startsWith("<!>");return()=>{r===void 0&&(r=Or(s?e:"<!>"+e),r=zt(r));var i=n||Yt?document.importNode(r,!0):r.cloneNode(!0);return Fr(i,i),i}}function $e(e,t){e!==null&&e.before(t)}function Tn(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function Mr(e,t){return Cr(e,t)}const pe=new Map;function Cr(e,{target:t,anchor:n,props:r={},events:s,context:i,intro:u=!0}){nr();var l=new Set,o=d=>{for(var a=0;a<d.length;a++){var h=d[a];if(!l.has(h)){l.add(h);var v=Ar(h);t.addEventListener(h,Be,{passive:v});var m=pe.get(h);m===void 0?(document.addEventListener(h,Be,{passive:v}),pe.set(h,1)):pe.set(h,m+1)}}};o(We(En)),lt.add(o);var f=void 0,c=yr(()=>{var d=n??t.appendChild(le());return or(d,{pending:()=>{}},a=>{if(i){ht({});var h=y;h.c=i}s&&(r.$$events=s),f=e(a,r)||{},i&&vt()}),()=>{for(var a of l){t.removeEventListener(a,Be);var h=pe.get(a);--h===0?(document.removeEventListener(a,Be),pe.delete(a)):pe.set(a,h)}lt.delete(o),d!==n&&d.parentNode?.removeChild(d)}});return ft.set(f,c),f}let ft=new WeakMap;function Dr(e,t){const n=ft.get(e);return n?(ft.delete(e),n(t)):Promise.resolve()}class Nr{anchor;#e=new Map;#t=new Map;#r=new Map;#n=new Set;#o=!0;constructor(t,n=!0){this.anchor=t,this.#o=n}#s=()=>{var t=w;if(this.#e.has(t)){var n=this.#e.get(t),r=this.#t.get(n);if(r)yt(r),this.#n.delete(n);else{var s=this.#r.get(n);s&&(this.#t.set(n,s.effect),this.#r.delete(n),s.fragment.lastChild.remove(),this.anchor.before(s.fragment),r=s.effect)}for(const[i,u]of this.#e){if(this.#e.delete(i),i===t)break;const l=this.#r.get(u);l&&(O(l.effect),this.#r.delete(u))}for(const[i,u]of this.#t){if(i===n||this.#n.has(i))continue;const l=()=>{if(Array.from(this.#e.values()).includes(i)){var f=document.createDocumentFragment();yn(u,f),f.append(le()),this.#r.set(i,{effect:u,fragment:f})}else O(u);this.#n.delete(i),this.#t.delete(i)};this.#o||!r?(this.#n.add(i),ue(u,l,!1)):l()}}};#i=t=>{this.#e.delete(t);const n=Array.from(this.#e.values());for(const[r,s]of this.#r)n.includes(r)||(O(s.effect),this.#r.delete(r))};ensure(t,n){var r=w,s=Wt();if(n&&!this.#t.has(t)&&!this.#r.has(t))if(s){var i=document.createDocumentFragment(),u=le();i.append(u),this.#r.set(t,{effect:I(()=>n(u)),fragment:i})}else this.#t.set(t,I(()=>n(this.anchor)));if(this.#e.set(r,t),s){for(const[l,o]of this.#t)l===t?r.skipped_effects.delete(o):r.skipped_effects.add(o);for(const[l,o]of this.#r)l===t?r.skipped_effects.delete(o.effect):r.skipped_effects.add(o.effect);r.oncommit(this.#s),r.ondiscard(this.#i)}else this.#s()}}function Pr(e,t,n=!1){var r=new Nr(e),s=n?xe:0;function i(u,l){r.ensure(u,l)}wt(()=>{var u=!1;t((l,o=!0)=>{u=!0,i(o,l)}),u||i(!1,null)},s)}function Ir(e,t){return t}function Lr(e,t,n){for(var r=[],s=t.length,i,u=t.length,l=0;l<s;l++){let d=t[l];ue(d,()=>{if(i){if(i.pending.delete(d),i.done.add(d),i.pending.size===0){var a=e.outrogroups;ot(We(i.done)),a.delete(i),a.size===0&&(e.outrogroups=null)}}else u-=1},!1)}if(u===0){var o=r.length===0&&n!==null;if(o){var f=n,c=f.parentNode;rr(c),c.append(f),e.items.clear()}ot(t,!o)}else i={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(i)}function ot(e,t=!0){for(var n=0;n<e.length;n++)O(e[n],t)}var Ot;function Vr(e,t,n,r,s,i=null){var u=e,l=new Map;{var o=e;u=o.appendChild(le())}var f=null,c=bt(()=>{var b=n();return Nt(b)?b:b==null?[]:We(b)}),d,a=!0;function h(){m.fallback=f,qr(m,d,u,t,r),f!==null&&(d.length===0?(f.f&re)===0?yt(f):(f.f^=re,Ce(f,null,u)):ue(f,()=>{f=null}))}var v=wt(()=>{d=x(c);for(var b=d.length,N=new Set,_=w,B=Wt(),M=0;M<b;M+=1){var Q=d[M],_e=r(Q,M),V=a?null:l.get(_e);V?(V.v&&ke(V.v,Q),V.i&&ke(V.i,M),B&&_.skipped_effects.delete(V.e)):(V=Br(l,a?u:Ot??=le(),Q,_e,M,s,t,n),a||(V.e.f|=re),l.set(_e,V)),N.add(_e)}if(b===0&&i&&!f&&(a?f=I(()=>i(u)):(f=I(()=>i(Ot??=le())),f.f|=re)),!a)if(B){for(const[ee,Rn]of l)N.has(ee)||_.skipped_effects.add(Rn.e);_.oncommit(h),_.ondiscard(()=>{})}else h();x(c)}),m={effect:v,items:l,outrogroups:null,fallback:f};a=!1}function qr(e,t,n,r,s){var i=t.length,u=e.items,l=e.effect.first,o,f=null,c=[],d=[],a,h,v,m;for(m=0;m<i;m+=1){if(a=t[m],h=s(a,m),v=u.get(h).e,e.outrogroups!==null)for(const ee of e.outrogroups)ee.pending.delete(v),ee.done.delete(v);if((v.f&re)!==0)if(v.f^=re,v===l)Ce(v,null,n);else{var b=f?f.next:l;v===e.effect.last&&(e.effect.last=v.prev),v.prev&&(v.prev.next=v.next),v.next&&(v.next.prev=v.prev),ne(e,f,v),ne(e,v,b),Ce(v,b,n),f=v,c=[],d=[],l=f.next;continue}if((v.f&D)!==0&&yt(v),v!==l){if(o!==void 0&&o.has(v)){if(c.length<d.length){var N=d[0],_;f=N.prev;var B=c[0],M=c[c.length-1];for(_=0;_<c.length;_+=1)Ce(c[_],N,n);for(_=0;_<d.length;_+=1)o.delete(d[_]);ne(e,B.prev,M.next),ne(e,f,B),ne(e,M,N),l=N,f=M,m-=1,c=[],d=[]}else o.delete(v),Ce(v,l,n),ne(e,v.prev,v.next),ne(e,v,f===null?e.effect.first:f.next),ne(e,f,v),f=v;continue}for(c=[],d=[];l!==null&&l!==v;)(o??=new Set).add(l),d.push(l),l=l.next;if(l===null)continue}(v.f&re)===0&&c.push(v),f=v,l=v.next}if(e.outrogroups!==null){for(const ee of e.outrogroups)ee.pending.size===0&&(ot(We(ee.done)),e.outrogroups?.delete(ee));e.outrogroups.size===0&&(e.outrogroups=null)}if(l!==null||o!==void 0){var Q=[];if(o!==void 0)for(v of o)(v.f&D)===0&&Q.push(v);for(;l!==null;)(l.f&D)===0&&l!==e.fallback&&Q.push(l),l=l.next;var _e=Q.length;if(_e>0){var V=i===0?n:null;Lr(e,Q,V)}}}function Br(e,t,n,r,s,i,u,l){var o=(u&zn)!==0?(u&Gn)===0?tn(n,!1,!1):de(n):null,f=(u&Wn)!==0?de(s):null;return{v:o,i:f,e:I(()=>(i(t,o??n,f??s,l),()=>{e.delete(r)}))}}function Ce(e,t,n){if(e.nodes)for(var r=e.nodes.start,s=e.nodes.end,i=t&&(t.f&re)===0?t.nodes.start:n;r!==null;){var u=Ze(r);if(i.before(r),r===s)return;r=u}}function ne(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function Sn(e=!1){const t=y,n=t.l.u;if(!n)return;let r=()=>cn(t.s);if(e){let s=0,i={};const u=gt(()=>{let l=!1;const o=t.s;for(const f in o)o[f]!==i[f]&&(i[f]=o[f],l=!0);return l&&s++,s});r=()=>x(u)}n.b.length&&wr(()=>{Ft(t,r),et(n.b)}),st(()=>{const s=Me(()=>n.m.map(Cn));return()=>{for(const i of s)typeof i=="function"&&i()}}),n.a.length&&st(()=>{Ft(t,r),et(n.a)})}function Ft(e,t){if(e.l.s)for(const n of e.l.s)x(n);t()}let Ue=!1,ut=Symbol();function Ur(e,t,n){const r=n[t]??={store:null,source:tn(void 0),unsubscribe:Te};if(r.store!==e&&!(ut in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=Te;else{var s=!0;r.unsubscribe=xn(e,i=>{s?r.source.v=i:z(r.source,i)}),s=!1}return e&&ut in n?Hr(e):x(r.source)}function jr(){const e={};function t(){hn(()=>{for(var n in e)e[n].unsubscribe();Pt(e,ut,{enumerable:!1,value:!0})})}return[e,t]}function $r(e){var t=Ue;try{return Ue=!1,[e(),Ue]}finally{Ue=t}}function at(e,t,n,r){var s=!Fe||(n&Xn)!==0,i=(n&Jn)!==0,u=r,l=!0,o=()=>(l&&(l=!1,u=r),u),f;{var c=Se in e||Nn in e;f=Ee(e,t)?.set??(c&&t in e?_=>e[t]=_:void 0)}var d,a=!1;[d,a]=$r(()=>e[t]);var h;if(s?h=()=>{var _=e[t];return _===void 0?o():(l=!0,_)}:h=()=>{var _=e[t];return _!==void 0&&(u=void 0),_===void 0?u:_},s&&(n&Zn)===0)return h;if(f){var v=e.$$legacy;return(function(_,B){return arguments.length>0?((!s||!B||v||a)&&f(B?h():_),_):h()})}var m=!1,b=bt(()=>(m=!1,h()));x(b);var N=g;return(function(_,B){if(arguments.length>0){const M=B?x(b):s&&i?we(_):_;return z(b,M),m=!0,u!==void 0&&(u=M),_}return ve&&m||(N.f&W)!==0?b.v:x(b)})}function Yr(e){y===null&&Pn(),Fe&&y.l!==null?Kr(y).m.push(e):st(()=>{const t=Me(e);if(typeof t=="function")return t})}function Kr(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}function xn(e,t,n){if(e==null)return t(void 0),Te;const r=Me(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const ge=[];function Mt(e,t=Te){let n=null;const r=new Set;function s(l){if(jt(e,l)&&(e=l,n)){const o=!ge.length;for(const f of r)f[1](),ge.push(f,e);if(o){for(let f=0;f<ge.length;f+=2)ge[f][0](ge[f+1]);ge.length=0}}}function i(l){s(l(e))}function u(l,o=Te){const f=[l,o];return r.add(f),r.size===1&&(n=t(s,i)||Te),l(e),()=>{r.delete(f),r.size===0&&n&&(n(),n=null)}}return{set:s,update:i,subscribe:u}}function Hr(e){let t;return xn(e,n=>t=n)(),t}const zr="table-roller",Wr="name",Gr="reroll-table",Xr="hidden",Zr="dice-column";class Ct{static isTableParserTable(t,n){let{frontmatter:r}=this.extractFrontmatterAndBody(t,n);return this.parseFrontMatter(r)[zr]===!0}static parseTable(t,n){let{frontmatter:r,content:s}=this.extractFrontmatterAndBody(t,n),i=this.parseFrontMatter(r),{columns:u,rows:l}=this.parseTableBody(s);return{name:i[Wr]||"Unnamed Table",rerollTable:i[Gr]||void 0,isHidden:i[Xr]||!1,diceColumn:i[Zr]||void 0,columns:u,rows:l}}static extractFrontmatterAndBody(t,n){console.debug(`Parsing file: ${t}`);const r=/^---\n([\s\S]*?)\n---\n([\s\S]*)$/,s=n.match(r);if(!s)return console.debug(`Content with no frontmatter found in file: ${t}`),{frontmatter:"",content:n};const i=s[1],u=s[2];return console.debug(`Frontmatter extracted from file: ${t}
${i}`),{frontmatter:i,content:u}}static parseFrontMatter(t){let n={};for(const r of t.split(`
`)){const s=r.match(/^(\w+(?:-\w+)*)\s*:\s*(.+)$/);if(s){const i=s[1].trim();let u=s[2].trim();u==="true"?u=!0:u==="false"?u=!1:(u.startsWith('"')&&u.endsWith('"')||u.startsWith("'")&&u.endsWith("'"))&&(u=u.slice(1,-1)),n[i]=u}}return n}static parseTableBody(t,n){const r=t.split(`
`).filter(o=>o.trim().length>0);if(r.length<2)return{columns:[],rows:[]};const s=r[0];r[1],r.slice(2);const i=s.split("|").map(o=>o.trim()).filter(o=>o.length>0),u=i.map((o,f)=>({id:`${An.randomUUID()}`,name:o,type:this.determineColumnType(o,n)})),l=[];for(let o=2;o<r.length;o++){let f=r[o].replace(/^\|/,"").replace(/\|$/,"").split("|").map(d=>d.trim());for(;f.length<i.length;)f.push("");const c={};i.forEach((d,a)=>{c[d]=f[a]??""}),l.push(c)}return{columns:u,rows:l}}static determineColumnType(t,n){return n&&t===n?"dice":t.toLowerCase()==="reroll"?"reroll":"regular"}}class Jr{_store=Mt([]);subscribe=this._store.subscribe;set=this._store.set;update=this._store.update;app;constructor(t){console.debug("Creating new TableStore instance"),this.app=t,this._store=Mt([])}async reloadTables(){let t=this.app.vault.getMarkdownFiles(),n=[];for(const r of t){const s=await this.app.vault.read(r);if(Ct.isTableParserTable(r.path,s)){let i=Ct.parseTable(r.path,s);n.push(i)}}this.set(n)}}const Ye="table-roller-core-view",Qr="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Qr);Hn();var ei=Je("<div><div><span> </span></div> <div><button>Roll</button> <button>Advanced</button> <button>Edit</button></div></div>");function ti(e,t){ht(t,!1);let n=at(t,"table",8);function r(){console.log("Rolling table: "+n().name)}function s(){console.log("Opening advanced roll UI for table: "+n().name)}function i(){console.log("Editing table: "+n().name)}Sn();var u=ei(),l=ye(u),o=ye(l),f=ye(o),c=je(l,2),d=ye(c);d.__click=r;var a=je(d,2);a.__click=s;var h=je(a,2);h.__click=i,_n(()=>Tn(f,(cn(n()),Me(()=>n().name)))),$e(e,u),vt()}kr(["click"]);var ni=Je("<p>No tables loaded.</p>"),ri=Je("<ul></ul>"),ii=Je("<div><h2> </h2> <!></div>");function si(e,t){ht(t,!1);const n=()=>Ur(i(),"$tableStore",r),[r,s]=jr();let i=at(t,"tableStore",8),u=at(t,"Header",8);Yr(()=>{i().reloadTables()}),Sn();var l=ii(),o=ye(l),f=ye(o),c=je(o,2);{var d=h=>{var v=ni();$e(h,v)},a=h=>{var v=ri();Vr(v,5,n,Ir,(m,b)=>{ti(m,{get table(){return x(b)}})}),$e(h,v)};Pr(c,h=>{n(),Me(()=>n().length===0)?h(d):h(a,!1)})}_n(()=>Tn(f,u())),$e(e,l),vt(),s()}class li extends Dt.ItemView{tableDisplay;tableStore;constructor(t,n){super(t),this.tableStore=n}getViewType(){return Ye}getDisplayText(){return"Table Roller"}async onOpen(){this.tableDisplay=Mr(si,{target:this.contentEl,props:{Header:"Table Roller",tableStore:this.tableStore}})}async onClose(){this.tableDisplay&&Dr(this.tableDisplay)}}class fi extends Dt.Plugin{tableStore=new Jr(this.app);async onload(){this.registerView(Ye,t=>new li(t,this.tableStore)),this.addRibbonIcon("dice","Table Roller",()=>{this.activateView()})}async onunload(){}async activateView(){const{workspace:t}=this.app;let n=t.getLeavesOfType(Ye)[0];if(!n){const r=t.getRightLeaf(!1);r&&(await r.setViewState({type:Ye,active:!0}),n=r)}n&&t.revealLeaf(n)}}exports.default=fi;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsibm9kZV9tb2R1bGVzL2VzbS1lbnYvZmFsc2UuanMiLCJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9zaGFyZWQvdXRpbHMuanMiLCJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvY29uc3RhbnRzLmpzIiwibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L3JlYWN0aXZpdHkvZXF1YWxpdHkuanMiLCJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9zaGFyZWQvZXJyb3JzLmpzIiwibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L2Vycm9ycy5qcyIsIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2ZsYWdzL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvY29uc3RhbnRzLmpzIiwibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L2NvbnRleHQuanMiLCJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvZG9tL3Rhc2suanMiLCJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvd2FybmluZ3MuanMiLCJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvcHJveHkuanMiLCJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvZG9tL29wZXJhdGlvbnMuanMiLCJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvZXJyb3ItaGFuZGxpbmcuanMiLCJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvcmVhY3Rpdml0eS9iYXRjaC5qcyIsIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3JlYWN0aXZpdHkvY3JlYXRlLXN1YnNjcmliZXIuanMiLCJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvZG9tL2Jsb2Nrcy9ib3VuZGFyeS5qcyIsIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9yZWFjdGl2aXR5L2FzeW5jLmpzIiwibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L3JlYWN0aXZpdHkvZGVyaXZlZHMuanMiLCJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvcmVhY3Rpdml0eS9zb3VyY2VzLmpzIiwibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L2RvbS9lbGVtZW50cy9iaW5kaW5ncy9zaGFyZWQuanMiLCJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvcnVudGltZS5qcyIsIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9yZWFjdGl2aXR5L2VmZmVjdHMuanMiLCJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy91dGlscy5qcyIsIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9kb20vZWxlbWVudHMvZXZlbnRzLmpzIiwibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L2RvbS9yZWNvbmNpbGVyLmpzIiwibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L2RvbS90ZW1wbGF0ZS5qcyIsIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9yZW5kZXIuanMiLCJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9jbGllbnQvZG9tL2Jsb2Nrcy9icmFuY2hlcy5qcyIsIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9kb20vYmxvY2tzL2lmLmpzIiwibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L2RvbS9ibG9ja3MvZWFjaC5qcyIsIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9kb20vbGVnYWN5L2xpZmVjeWNsZS5qcyIsIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2NsaWVudC9yZWFjdGl2aXR5L3N0b3JlLmpzIiwibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvaW50ZXJuYWwvY2xpZW50L3JlYWN0aXZpdHkvcHJvcHMuanMiLCJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbmRleC1jbGllbnQuanMiLCJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9zdG9yZS91dGlscy5qcyIsIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3N0b3JlL3NoYXJlZC9pbmRleC5qcyIsInNyYy9zZXJ2aWNlcy90YWJsZXMvY29uc3RhbnRzLnRzIiwic3JjL3NlcnZpY2VzL3RhYmxlcy90YWJsZS1wYXJzZXIudHMiLCJzcmMvc3RvcmVzL3RhYmxlLXN0b3JlLnRzIiwic3JjL3VpL2NvbXBvbmVudHMvY29uc3RhbnRzLnRzIiwibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvdmVyc2lvbi5qcyIsIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL2ludGVybmFsL2Rpc2Nsb3NlLXZlcnNpb24uanMiLCJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9pbnRlcm5hbC9mbGFncy9sZWdhY3kuanMiLCJzcmMvdWkvY29tcG9uZW50cy90YWJsZS1zaWRlLXZpZXcvVGFibGVEaXNwbGF5SXRlbS5zdmVsdGUiLCJzcmMvdWkvY29tcG9uZW50cy90YWJsZS1zaWRlLXZpZXcvVGFibGVEaXNwbGF5LnN2ZWx0ZSIsInNyYy91aS9jb21wb25lbnRzL3RhYmxlLXNpZGUtdmlldy90YWJsZS1zaWRlLXZpZXcudHMiLCJzcmMvdWkvY29tcG9uZW50cy9wbHVnaW4vdGFibGUtcm9sbGVyLXBsdWdpbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmYWxzZTtcbiIsIi8vIFN0b3JlIHRoZSByZWZlcmVuY2VzIHRvIGdsb2JhbHMgaW4gY2FzZSBzb21lb25lIHRyaWVzIHRvIG1vbmtleSBwYXRjaCB0aGVzZSwgY2F1c2luZyB0aGUgYmVsb3dcbi8vIHRvIGRlLW9wdCAodGhpcyBvY2N1cnMgb2Z0ZW4gd2hlbiB1c2luZyBwb3B1bGFyIGV4dGVuc2lvbnMpLlxuZXhwb3J0IHZhciBpc19hcnJheSA9IEFycmF5LmlzQXJyYXk7XG5leHBvcnQgdmFyIGluZGV4X29mID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2Y7XG5leHBvcnQgdmFyIGFycmF5X2Zyb20gPSBBcnJheS5mcm9tO1xuZXhwb3J0IHZhciBvYmplY3Rfa2V5cyA9IE9iamVjdC5rZXlzO1xuZXhwb3J0IHZhciBkZWZpbmVfcHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG5leHBvcnQgdmFyIGdldF9kZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbmV4cG9ydCB2YXIgZ2V0X2Rlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM7XG5leHBvcnQgdmFyIG9iamVjdF9wcm90b3R5cGUgPSBPYmplY3QucHJvdG90eXBlO1xuZXhwb3J0IHZhciBhcnJheV9wcm90b3R5cGUgPSBBcnJheS5wcm90b3R5cGU7XG5leHBvcnQgdmFyIGdldF9wcm90b3R5cGVfb2YgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG5leHBvcnQgdmFyIGlzX2V4dGVuc2libGUgPSBPYmplY3QuaXNFeHRlbnNpYmxlO1xuXG4vKipcbiAqIEBwYXJhbSB7YW55fSB0aGluZ1xuICogQHJldHVybnMge3RoaW5nIGlzIEZ1bmN0aW9ufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNfZnVuY3Rpb24odGhpbmcpIHtcblx0cmV0dXJuIHR5cGVvZiB0aGluZyA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZXhwb3J0IGNvbnN0IG5vb3AgPSAoKSA9PiB7fTtcblxuLy8gQWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS90aGVuL2lzLXByb21pc2UvYmxvYi9tYXN0ZXIvaW5kZXguanNcbi8vIERpc3RyaWJ1dGVkIHVuZGVyIE1JVCBMaWNlbnNlIGh0dHBzOi8vZ2l0aHViLmNvbS90aGVuL2lzLXByb21pc2UvYmxvYi9tYXN0ZXIvTElDRU5TRVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBbVD1hbnldXG4gKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAqIEByZXR1cm5zIHt2YWx1ZSBpcyBQcm9taXNlTGlrZTxUPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX3Byb21pc2UodmFsdWUpIHtcblx0cmV0dXJuIHR5cGVvZiB2YWx1ZT8udGhlbiA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuLyoqIEBwYXJhbSB7RnVuY3Rpb259IGZuICovXG5leHBvcnQgZnVuY3Rpb24gcnVuKGZuKSB7XG5cdHJldHVybiBmbigpO1xufVxuXG4vKiogQHBhcmFtIHtBcnJheTwoKSA9PiB2b2lkPn0gYXJyICovXG5leHBvcnQgZnVuY3Rpb24gcnVuX2FsbChhcnIpIHtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcblx0XHRhcnJbaV0oKTtcblx0fVxufVxuXG4vKipcbiAqIFRPRE8gcmVwbGFjZSB3aXRoIFByb21pc2Uud2l0aFJlc29sdmVycyBvbmNlIHN1cHBvcnRlZCB3aWRlbHkgZW5vdWdoXG4gKiBAdGVtcGxhdGUgW1Q9dm9pZF1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmVycmVkKCkge1xuXHQvKiogQHR5cGUgeyh2YWx1ZTogVCkgPT4gdm9pZH0gKi9cblx0dmFyIHJlc29sdmU7XG5cblx0LyoqIEB0eXBlIHsocmVhc29uOiBhbnkpID0+IHZvaWR9ICovXG5cdHZhciByZWplY3Q7XG5cblx0LyoqIEB0eXBlIHtQcm9taXNlPFQ+fSAqL1xuXHR2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4ge1xuXHRcdHJlc29sdmUgPSByZXM7XG5cdFx0cmVqZWN0ID0gcmVqO1xuXHR9KTtcblxuXHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdHJldHVybiB7IHByb21pc2UsIHJlc29sdmUsIHJlamVjdCB9O1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBWXG4gKiBAcGFyYW0ge1Z9IHZhbHVlXG4gKiBAcGFyYW0ge1YgfCAoKCkgPT4gVil9IGZhbGxiYWNrXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtsYXp5XVxuICogQHJldHVybnMge1Z9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmYWxsYmFjayh2YWx1ZSwgZmFsbGJhY2ssIGxhenkgPSBmYWxzZSkge1xuXHRyZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZFxuXHRcdD8gbGF6eVxuXHRcdFx0PyAvKiogQHR5cGUgeygpID0+IFZ9ICovIChmYWxsYmFjaykoKVxuXHRcdFx0OiAvKiogQHR5cGUge1Z9ICovIChmYWxsYmFjaylcblx0XHQ6IHZhbHVlO1xufVxuXG4vKipcbiAqIFdoZW4gZW5jb3VudGVyaW5nIGEgc2l0dWF0aW9uIGxpa2UgYGxldCBbYSwgYiwgY10gPSAkZGVyaXZlZChibGFoKCkpYCxcbiAqIHdlIG5lZWQgdG8gc3Rhc2ggYW4gaW50ZXJtZWRpYXRlIHZhbHVlIHRoYXQgYGFgLCBgYmAsIGFuZCBgY2AgZGVyaXZlXG4gKiBmcm9tLCBpbiBjYXNlIGl0J3MgYW4gaXRlcmFibGVcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge0FycmF5TGlrZTxUPiB8IEl0ZXJhYmxlPFQ+fSB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IFtuXVxuICogQHJldHVybnMge0FycmF5PFQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9fYXJyYXkodmFsdWUsIG4pIHtcblx0Ly8gcmV0dXJuIGFycmF5cyB1bmNoYW5nZWRcblx0aWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9XG5cblx0Ly8gaWYgdmFsdWUgaXMgbm90IGl0ZXJhYmxlLCBvciBgbmAgaXMgdW5zcGVjaWZpZWQgKGluZGljYXRlcyBhIHJlc3Rcblx0Ly8gZWxlbWVudCwgd2hpY2ggbWVhbnMgd2UncmUgbm90IGNvbmNlcm5lZCBhYm91dCB1bmJvdW5kZWQgaXRlcmFibGVzKVxuXHQvLyBjb252ZXJ0IHRvIGFuIGFycmF5IHdpdGggYEFycmF5LmZyb21gXG5cdGlmIChuID09PSB1bmRlZmluZWQgfHwgIShTeW1ib2wuaXRlcmF0b3IgaW4gdmFsdWUpKSB7XG5cdFx0cmV0dXJuIEFycmF5LmZyb20odmFsdWUpO1xuXHR9XG5cblx0Ly8gb3RoZXJ3aXNlLCBwb3B1bGF0ZSBhbiBhcnJheSB3aXRoIGBuYCB2YWx1ZXNcblxuXHQvKiogQHR5cGUge1RbXX0gKi9cblx0Y29uc3QgYXJyYXkgPSBbXTtcblxuXHRmb3IgKGNvbnN0IGVsZW1lbnQgb2YgdmFsdWUpIHtcblx0XHRhcnJheS5wdXNoKGVsZW1lbnQpO1xuXHRcdGlmIChhcnJheS5sZW5ndGggPT09IG4pIGJyZWFrO1xuXHR9XG5cblx0cmV0dXJuIGFycmF5O1xufVxuIiwiLy8gR2VuZXJhbCBmbGFnc1xuZXhwb3J0IGNvbnN0IERFUklWRUQgPSAxIDw8IDE7XG5leHBvcnQgY29uc3QgRUZGRUNUID0gMSA8PCAyO1xuZXhwb3J0IGNvbnN0IFJFTkRFUl9FRkZFQ1QgPSAxIDw8IDM7XG4vKipcbiAqIEFuIGVmZmVjdCB0aGF0IGRvZXMgbm90IGRlc3Ryb3kgaXRzIGNoaWxkIGVmZmVjdHMgd2hlbiBpdCByZXJ1bnMuXG4gKiBSdW5zIGFzIHBhcnQgb2YgcmVuZGVyIGVmZmVjdHMsIGkuZS4gbm90IGVhZ2VybHkgYXMgcGFydCBvZiB0cmVlIHRyYXZlcnNhbCBvciBlZmZlY3QgZmx1c2hpbmcuXG4gKi9cbmV4cG9ydCBjb25zdCBNQU5BR0VEX0VGRkVDVCA9IDEgPDwgMjQ7XG4vKipcbiAqIEFuIGVmZmVjdCB0aGF0IGRvZXMgbm90IGRlc3Ryb3kgaXRzIGNoaWxkIGVmZmVjdHMgd2hlbiBpdCByZXJ1bnMgKGxpa2UgTUFOQUdFRF9FRkZFQ1QpLlxuICogUnVucyBlYWdlcmx5IGFzIHBhcnQgb2YgdHJlZSB0cmF2ZXJzYWwgb3IgZWZmZWN0IGZsdXNoaW5nLlxuICovXG5leHBvcnQgY29uc3QgQkxPQ0tfRUZGRUNUID0gMSA8PCA0O1xuZXhwb3J0IGNvbnN0IEJSQU5DSF9FRkZFQ1QgPSAxIDw8IDU7XG5leHBvcnQgY29uc3QgUk9PVF9FRkZFQ1QgPSAxIDw8IDY7XG5leHBvcnQgY29uc3QgQk9VTkRBUllfRUZGRUNUID0gMSA8PCA3O1xuLyoqXG4gKiBJbmRpY2F0ZXMgdGhhdCBhIHJlYWN0aW9uIGlzIGNvbm5lY3RlZCB0byBhbiBlZmZlY3Qgcm9vdCDigJQgZWl0aGVyIGl0IGlzIGFuIGVmZmVjdCxcbiAqIG9yIGl0IGlzIGEgZGVyaXZlZCB0aGF0IGlzIGRlcGVuZGVkIG9uIGJ5IGF0IGxlYXN0IG9uZSBlZmZlY3QuIElmIGEgZGVyaXZlZCBoYXNcbiAqIG5vIGRlcGVuZGVudHMsIHdlIGNhbiBkaXNjb25uZWN0IGl0IGZyb20gdGhlIGdyYXBoLCBhbGxvd2luZyBpdCB0byBlaXRoZXIgYmVcbiAqIEdDJ2Qgb3IgcmVjb25uZWN0ZWQgbGF0ZXIgaWYgYW4gZWZmZWN0IGNvbWVzIHRvIGRlcGVuZCBvbiBpdCBhZ2FpblxuICovXG5leHBvcnQgY29uc3QgQ09OTkVDVEVEID0gMSA8PCA5O1xuZXhwb3J0IGNvbnN0IENMRUFOID0gMSA8PCAxMDtcbmV4cG9ydCBjb25zdCBESVJUWSA9IDEgPDwgMTE7XG5leHBvcnQgY29uc3QgTUFZQkVfRElSVFkgPSAxIDw8IDEyO1xuZXhwb3J0IGNvbnN0IElORVJUID0gMSA8PCAxMztcbmV4cG9ydCBjb25zdCBERVNUUk9ZRUQgPSAxIDw8IDE0O1xuXG4vLyBGbGFncyBleGNsdXNpdmUgdG8gZWZmZWN0c1xuLyoqIFNldCBvbmNlIGFuIGVmZmVjdCB0aGF0IHNob3VsZCBydW4gc3luY2hyb25vdXNseSBoYXMgcnVuICovXG5leHBvcnQgY29uc3QgRUZGRUNUX1JBTiA9IDEgPDwgMTU7XG4vKipcbiAqICdUcmFuc3BhcmVudCcgZWZmZWN0cyBkbyBub3QgY3JlYXRlIGEgdHJhbnNpdGlvbiBib3VuZGFyeS5cbiAqIFRoaXMgaXMgb24gYSBibG9jayBlZmZlY3QgOTklIG9mIHRoZSB0aW1lIGJ1dCBtYXkgYWxzbyBiZSBvbiBhIGJyYW5jaCBlZmZlY3QgaWYgaXRzIHBhcmVudCBibG9jayBlZmZlY3Qgd2FzIHBydW5lZFxuICovXG5leHBvcnQgY29uc3QgRUZGRUNUX1RSQU5TUEFSRU5UID0gMSA8PCAxNjtcbmV4cG9ydCBjb25zdCBFQUdFUl9FRkZFQ1QgPSAxIDw8IDE3O1xuZXhwb3J0IGNvbnN0IEhFQURfRUZGRUNUID0gMSA8PCAxODtcbmV4cG9ydCBjb25zdCBFRkZFQ1RfUFJFU0VSVkVEID0gMSA8PCAxOTtcbmV4cG9ydCBjb25zdCBVU0VSX0VGRkVDVCA9IDEgPDwgMjA7XG5leHBvcnQgY29uc3QgRUZGRUNUX09GRlNDUkVFTiA9IDEgPDwgMjU7XG5cbi8vIEZsYWdzIGV4Y2x1c2l2ZSB0byBkZXJpdmVkc1xuLyoqXG4gKiBUZWxscyB0aGF0IHdlIG1hcmtlZCB0aGlzIGRlcml2ZWQgYW5kIGl0cyByZWFjdGlvbnMgYXMgdmlzaXRlZCBkdXJpbmcgdGhlIFwibWFyayBhcyAobWF5YmUpIGRpcnR5XCItcGhhc2UuXG4gKiBXaWxsIGJlIGxpZnRlZCBkdXJpbmcgZXhlY3V0aW9uIG9mIHRoZSBkZXJpdmVkIGFuZCBkdXJpbmcgY2hlY2tpbmcgaXRzIGRpcnR5IHN0YXRlIChib3RoIGFyZSBuZWNlc3NhcnlcbiAqIGJlY2F1c2UgYSBkZXJpdmVkIG1pZ2h0IGJlIGNoZWNrZWQgYnV0IG5vdCBleGVjdXRlZCkuXG4gKi9cbmV4cG9ydCBjb25zdCBXQVNfTUFSS0VEID0gMSA8PCAxNTtcblxuLy8gRmxhZ3MgdXNlZCBmb3IgYXN5bmNcbmV4cG9ydCBjb25zdCBSRUFDVElPTl9JU19VUERBVElORyA9IDEgPDwgMjE7XG5leHBvcnQgY29uc3QgQVNZTkMgPSAxIDw8IDIyO1xuXG5leHBvcnQgY29uc3QgRVJST1JfVkFMVUUgPSAxIDw8IDIzO1xuXG5leHBvcnQgY29uc3QgU1RBVEVfU1lNQk9MID0gU3ltYm9sKCckc3RhdGUnKTtcbmV4cG9ydCBjb25zdCBMRUdBQ1lfUFJPUFMgPSBTeW1ib2woJ2xlZ2FjeSBwcm9wcycpO1xuZXhwb3J0IGNvbnN0IExPQURJTkdfQVRUUl9TWU1CT0wgPSBTeW1ib2woJycpO1xuZXhwb3J0IGNvbnN0IFBST1hZX1BBVEhfU1lNQk9MID0gU3ltYm9sKCdwcm94eSBwYXRoJyk7XG5cbi8qKiBhbGxvdyB1c2VycyB0byBpZ25vcmUgYWJvcnRlZCBzaWduYWwgZXJyb3JzIGlmIGByZWFzb24ubmFtZSA9PT0gJ1N0YWxlUmVhY3Rpb25FcnJvcmAgKi9cbmV4cG9ydCBjb25zdCBTVEFMRV9SRUFDVElPTiA9IG5ldyAoY2xhc3MgU3RhbGVSZWFjdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuXHRuYW1lID0gJ1N0YWxlUmVhY3Rpb25FcnJvcic7XG5cdG1lc3NhZ2UgPSAnVGhlIHJlYWN0aW9uIHRoYXQgY2FsbGVkIGBnZXRBYm9ydFNpZ25hbCgpYCB3YXMgcmUtcnVuIG9yIGRlc3Ryb3llZCc7XG59KSgpO1xuXG5leHBvcnQgY29uc3QgRUxFTUVOVF9OT0RFID0gMTtcbmV4cG9ydCBjb25zdCBURVhUX05PREUgPSAzO1xuZXhwb3J0IGNvbnN0IENPTU1FTlRfTk9ERSA9IDg7XG5leHBvcnQgY29uc3QgRE9DVU1FTlRfRlJBR01FTlRfTk9ERSA9IDExO1xuIiwiLyoqIEBpbXBvcnQgeyBFcXVhbHMgfSBmcm9tICcjY2xpZW50JyAqL1xuXG4vKiogQHR5cGUge0VxdWFsc30gKi9cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHModmFsdWUpIHtcblx0cmV0dXJuIHZhbHVlID09PSB0aGlzLnY7XG59XG5cbi8qKlxuICogQHBhcmFtIHt1bmtub3dufSBhXG4gKiBAcGFyYW0ge3Vua25vd259IGJcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2FmZV9ub3RfZXF1YWwoYSwgYikge1xuXHRyZXR1cm4gYSAhPSBhXG5cdFx0PyBiID09IGJcblx0XHQ6IGEgIT09IGIgfHwgKGEgIT09IG51bGwgJiYgdHlwZW9mIGEgPT09ICdvYmplY3QnKSB8fCB0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3Vua25vd259IGFcbiAqIEBwYXJhbSB7dW5rbm93bn0gYlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBub3RfZXF1YWwoYSwgYikge1xuXHRyZXR1cm4gYSAhPT0gYjtcbn1cblxuLyoqIEB0eXBlIHtFcXVhbHN9ICovXG5leHBvcnQgZnVuY3Rpb24gc2FmZV9lcXVhbHModmFsdWUpIHtcblx0cmV0dXJuICFzYWZlX25vdF9lcXVhbCh2YWx1ZSwgdGhpcy52KTtcbn1cbiIsIi8qIFRoaXMgZmlsZSBpcyBnZW5lcmF0ZWQgYnkgc2NyaXB0cy9wcm9jZXNzLW1lc3NhZ2VzL2luZGV4LmpzLiBEbyBub3QgZWRpdCEgKi9cblxuaW1wb3J0IHsgREVWIH0gZnJvbSAnZXNtLWVudic7XG5cbi8qKlxuICogQ2Fubm90IHVzZSBgJW5hbWUlKC4uLilgIHVubGVzcyB0aGUgYGV4cGVyaW1lbnRhbC5hc3luY2AgY29tcGlsZXIgb3B0aW9uIGlzIGB0cnVlYFxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4cGVyaW1lbnRhbF9hc3luY19yZXF1aXJlZChuYW1lKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgZXhwZXJpbWVudGFsX2FzeW5jX3JlcXVpcmVkXFxuQ2Fubm90IHVzZSBcXGAke25hbWV9KC4uLilcXGAgdW5sZXNzIHRoZSBcXGBleHBlcmltZW50YWwuYXN5bmNcXGAgY29tcGlsZXIgb3B0aW9uIGlzIFxcYHRydWVcXGBcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9leHBlcmltZW50YWxfYXN5bmNfcmVxdWlyZWRgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvZXhwZXJpbWVudGFsX2FzeW5jX3JlcXVpcmVkYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBDYW5ub3QgdXNlIGB7QHJlbmRlciBjaGlsZHJlbiguLi4pfWAgaWYgdGhlIHBhcmVudCBjb21wb25lbnQgdXNlcyBgbGV0OmAgZGlyZWN0aXZlcy4gQ29uc2lkZXIgdXNpbmcgYSBuYW1lZCBzbmlwcGV0IGluc3RlYWRcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludmFsaWRfZGVmYXVsdF9zbmlwcGV0KCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYGludmFsaWRfZGVmYXVsdF9zbmlwcGV0XFxuQ2Fubm90IHVzZSBcXGB7QHJlbmRlciBjaGlsZHJlbiguLi4pfVxcYCBpZiB0aGUgcGFyZW50IGNvbXBvbmVudCB1c2VzIFxcYGxldDpcXGAgZGlyZWN0aXZlcy4gQ29uc2lkZXIgdXNpbmcgYSBuYW1lZCBzbmlwcGV0IGluc3RlYWRcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9pbnZhbGlkX2RlZmF1bHRfc25pcHBldGApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9pbnZhbGlkX2RlZmF1bHRfc25pcHBldGApO1xuXHR9XG59XG5cbi8qKlxuICogQSBzbmlwcGV0IGZ1bmN0aW9uIHdhcyBwYXNzZWQgaW52YWxpZCBhcmd1bWVudHMuIFNuaXBwZXRzIHNob3VsZCBvbmx5IGJlIGluc3RhbnRpYXRlZCB2aWEgYHtAcmVuZGVyIC4uLn1gXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnZhbGlkX3NuaXBwZXRfYXJndW1lbnRzKCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYGludmFsaWRfc25pcHBldF9hcmd1bWVudHNcXG5BIHNuaXBwZXQgZnVuY3Rpb24gd2FzIHBhc3NlZCBpbnZhbGlkIGFyZ3VtZW50cy4gU25pcHBldHMgc2hvdWxkIG9ubHkgYmUgaW5zdGFudGlhdGVkIHZpYSBcXGB7QHJlbmRlciAuLi59XFxgXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvaW52YWxpZF9zbmlwcGV0X2FyZ3VtZW50c2ApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9pbnZhbGlkX3NuaXBwZXRfYXJndW1lbnRzYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBgJW5hbWUlKC4uLilgIGNhbiBvbmx5IGJlIHVzZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpZmVjeWNsZV9vdXRzaWRlX2NvbXBvbmVudChuYW1lKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgbGlmZWN5Y2xlX291dHNpZGVfY29tcG9uZW50XFxuXFxgJHtuYW1lfSguLi4pXFxgIGNhbiBvbmx5IGJlIHVzZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvblxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2xpZmVjeWNsZV9vdXRzaWRlX2NvbXBvbmVudGApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9saWZlY3ljbGVfb3V0c2lkZV9jb21wb25lbnRgKTtcblx0fVxufVxuXG4vKipcbiAqIENvbnRleHQgd2FzIG5vdCBzZXQgaW4gYSBwYXJlbnQgY29tcG9uZW50XG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtaXNzaW5nX2NvbnRleHQoKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgbWlzc2luZ19jb250ZXh0XFxuQ29udGV4dCB3YXMgbm90IHNldCBpbiBhIHBhcmVudCBjb21wb25lbnRcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9taXNzaW5nX2NvbnRleHRgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvbWlzc2luZ19jb250ZXh0YCk7XG5cdH1cbn1cblxuLyoqXG4gKiBBdHRlbXB0ZWQgdG8gcmVuZGVyIGEgc25pcHBldCB3aXRob3V0IGEgYHtAcmVuZGVyfWAgYmxvY2suIFRoaXMgd291bGQgY2F1c2UgdGhlIHNuaXBwZXQgY29kZSB0byBiZSBzdHJpbmdpZmllZCBpbnN0ZWFkIG9mIGl0cyBjb250ZW50IGJlaW5nIHJlbmRlcmVkIHRvIHRoZSBET00uIFRvIGZpeCB0aGlzLCBjaGFuZ2UgYHtzbmlwcGV0fWAgdG8gYHtAcmVuZGVyIHNuaXBwZXQoKX1gLlxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc25pcHBldF93aXRob3V0X3JlbmRlcl90YWcoKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgc25pcHBldF93aXRob3V0X3JlbmRlcl90YWdcXG5BdHRlbXB0ZWQgdG8gcmVuZGVyIGEgc25pcHBldCB3aXRob3V0IGEgXFxge0ByZW5kZXJ9XFxgIGJsb2NrLiBUaGlzIHdvdWxkIGNhdXNlIHRoZSBzbmlwcGV0IGNvZGUgdG8gYmUgc3RyaW5naWZpZWQgaW5zdGVhZCBvZiBpdHMgY29udGVudCBiZWluZyByZW5kZXJlZCB0byB0aGUgRE9NLiBUbyBmaXggdGhpcywgY2hhbmdlIFxcYHtzbmlwcGV0fVxcYCB0byBcXGB7QHJlbmRlciBzbmlwcGV0KCl9XFxgLlxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL3NuaXBwZXRfd2l0aG91dF9yZW5kZXJfdGFnYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL3NuaXBwZXRfd2l0aG91dF9yZW5kZXJfdGFnYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBgJW5hbWUlYCBpcyBub3QgYSBzdG9yZSB3aXRoIGEgYHN1YnNjcmliZWAgbWV0aG9kXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RvcmVfaW52YWxpZF9zaGFwZShuYW1lKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgc3RvcmVfaW52YWxpZF9zaGFwZVxcblxcYCR7bmFtZX1cXGAgaXMgbm90IGEgc3RvcmUgd2l0aCBhIFxcYHN1YnNjcmliZVxcYCBtZXRob2RcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9zdG9yZV9pbnZhbGlkX3NoYXBlYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL3N0b3JlX2ludmFsaWRfc2hhcGVgKTtcblx0fVxufVxuXG4vKipcbiAqIFRoZSBgdGhpc2AgcHJvcCBvbiBgPHN2ZWx0ZTplbGVtZW50PmAgbXVzdCBiZSBhIHN0cmluZywgaWYgZGVmaW5lZFxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3ZlbHRlX2VsZW1lbnRfaW52YWxpZF90aGlzX3ZhbHVlKCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYHN2ZWx0ZV9lbGVtZW50X2ludmFsaWRfdGhpc192YWx1ZVxcblRoZSBcXGB0aGlzXFxgIHByb3Agb24gXFxgPHN2ZWx0ZTplbGVtZW50PlxcYCBtdXN0IGJlIGEgc3RyaW5nLCBpZiBkZWZpbmVkXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2Uvc3ZlbHRlX2VsZW1lbnRfaW52YWxpZF90aGlzX3ZhbHVlYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL3N2ZWx0ZV9lbGVtZW50X2ludmFsaWRfdGhpc192YWx1ZWApO1xuXHR9XG59IiwiLyogVGhpcyBmaWxlIGlzIGdlbmVyYXRlZCBieSBzY3JpcHRzL3Byb2Nlc3MtbWVzc2FnZXMvaW5kZXguanMuIERvIG5vdCBlZGl0ISAqL1xuXG5pbXBvcnQgeyBERVYgfSBmcm9tICdlc20tZW52JztcblxuZXhwb3J0ICogIGZyb20gJy4uL3NoYXJlZC9lcnJvcnMuanMnO1xuXG4vKipcbiAqIENhbm5vdCBjcmVhdGUgYSBgJGRlcml2ZWQoLi4uKWAgd2l0aCBhbiBgYXdhaXRgIGV4cHJlc3Npb24gb3V0c2lkZSBvZiBhbiBlZmZlY3QgdHJlZVxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXN5bmNfZGVyaXZlZF9vcnBoYW4oKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgYXN5bmNfZGVyaXZlZF9vcnBoYW5cXG5DYW5ub3QgY3JlYXRlIGEgXFxgJGRlcml2ZWQoLi4uKVxcYCB3aXRoIGFuIFxcYGF3YWl0XFxgIGV4cHJlc3Npb24gb3V0c2lkZSBvZiBhbiBlZmZlY3QgdHJlZVxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2FzeW5jX2Rlcml2ZWRfb3JwaGFuYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2FzeW5jX2Rlcml2ZWRfb3JwaGFuYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBVc2luZyBgYmluZDp2YWx1ZWAgdG9nZXRoZXIgd2l0aCBhIGNoZWNrYm94IGlucHV0IGlzIG5vdCBhbGxvd2VkLiBVc2UgYGJpbmQ6Y2hlY2tlZGAgaW5zdGVhZFxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYmluZF9pbnZhbGlkX2NoZWNrYm94X3ZhbHVlKCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYGJpbmRfaW52YWxpZF9jaGVja2JveF92YWx1ZVxcblVzaW5nIFxcYGJpbmQ6dmFsdWVcXGAgdG9nZXRoZXIgd2l0aCBhIGNoZWNrYm94IGlucHV0IGlzIG5vdCBhbGxvd2VkLiBVc2UgXFxgYmluZDpjaGVja2VkXFxgIGluc3RlYWRcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9iaW5kX2ludmFsaWRfY2hlY2tib3hfdmFsdWVgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvYmluZF9pbnZhbGlkX2NoZWNrYm94X3ZhbHVlYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBDb21wb25lbnQgJWNvbXBvbmVudCUgaGFzIGFuIGV4cG9ydCBuYW1lZCBgJWtleSVgIHRoYXQgYSBjb25zdW1lciBjb21wb25lbnQgaXMgdHJ5aW5nIHRvIGFjY2VzcyB1c2luZyBgYmluZDola2V5JWAsIHdoaWNoIGlzIGRpc2FsbG93ZWQuIEluc3RlYWQsIHVzZSBgYmluZDp0aGlzYCAoZS5nLiBgPCVuYW1lJSBiaW5kOnRoaXM9e2NvbXBvbmVudH0gLz5gKSBhbmQgdGhlbiBhY2Nlc3MgdGhlIHByb3BlcnR5IG9uIHRoZSBib3VuZCBjb21wb25lbnQgaW5zdGFuY2UgKGUuZy4gYGNvbXBvbmVudC4la2V5JWApXG4gKiBAcGFyYW0ge3N0cmluZ30gY29tcG9uZW50XG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYmluZF9pbnZhbGlkX2V4cG9ydChjb21wb25lbnQsIGtleSwgbmFtZSkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYGJpbmRfaW52YWxpZF9leHBvcnRcXG5Db21wb25lbnQgJHtjb21wb25lbnR9IGhhcyBhbiBleHBvcnQgbmFtZWQgXFxgJHtrZXl9XFxgIHRoYXQgYSBjb25zdW1lciBjb21wb25lbnQgaXMgdHJ5aW5nIHRvIGFjY2VzcyB1c2luZyBcXGBiaW5kOiR7a2V5fVxcYCwgd2hpY2ggaXMgZGlzYWxsb3dlZC4gSW5zdGVhZCwgdXNlIFxcYGJpbmQ6dGhpc1xcYCAoZS5nLiBcXGA8JHtuYW1lfSBiaW5kOnRoaXM9e2NvbXBvbmVudH0gLz5cXGApIGFuZCB0aGVuIGFjY2VzcyB0aGUgcHJvcGVydHkgb24gdGhlIGJvdW5kIGNvbXBvbmVudCBpbnN0YW5jZSAoZS5nLiBcXGBjb21wb25lbnQuJHtrZXl9XFxgKVxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2JpbmRfaW52YWxpZF9leHBvcnRgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvYmluZF9pbnZhbGlkX2V4cG9ydGApO1xuXHR9XG59XG5cbi8qKlxuICogQSBjb21wb25lbnQgaXMgYXR0ZW1wdGluZyB0byBiaW5kIHRvIGEgbm9uLWJpbmRhYmxlIHByb3BlcnR5IGAla2V5JWAgYmVsb25naW5nIHRvICVjb21wb25lbnQlIChpLmUuIGA8JW5hbWUlIGJpbmQ6JWtleSU9ey4uLn0+YCkuIFRvIG1hcmsgYSBwcm9wZXJ0eSBhcyBiaW5kYWJsZTogYGxldCB7ICVrZXklID0gJGJpbmRhYmxlKCkgfSA9ICRwcm9wcygpYFxuICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICogQHBhcmFtIHtzdHJpbmd9IGNvbXBvbmVudFxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmRfbm90X2JpbmRhYmxlKGtleSwgY29tcG9uZW50LCBuYW1lKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgYmluZF9ub3RfYmluZGFibGVcXG5BIGNvbXBvbmVudCBpcyBhdHRlbXB0aW5nIHRvIGJpbmQgdG8gYSBub24tYmluZGFibGUgcHJvcGVydHkgXFxgJHtrZXl9XFxgIGJlbG9uZ2luZyB0byAke2NvbXBvbmVudH0gKGkuZS4gXFxgPCR7bmFtZX0gYmluZDoke2tleX09ey4uLn0+XFxgKS4gVG8gbWFyayBhIHByb3BlcnR5IGFzIGJpbmRhYmxlOiBcXGBsZXQgeyAke2tleX0gPSAkYmluZGFibGUoKSB9ID0gJHByb3BzKClcXGBcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9iaW5kX25vdF9iaW5kYWJsZWApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9iaW5kX25vdF9iaW5kYWJsZWApO1xuXHR9XG59XG5cbi8qKlxuICogQ2FsbGluZyBgJW1ldGhvZCVgIG9uIGEgY29tcG9uZW50IGluc3RhbmNlIChvZiAlY29tcG9uZW50JSkgaXMgbm8gbG9uZ2VyIHZhbGlkIGluIFN2ZWx0ZSA1XG4gKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kXG4gKiBAcGFyYW0ge3N0cmluZ30gY29tcG9uZW50XG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wb25lbnRfYXBpX2NoYW5nZWQobWV0aG9kLCBjb21wb25lbnQpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBjb21wb25lbnRfYXBpX2NoYW5nZWRcXG5DYWxsaW5nIFxcYCR7bWV0aG9kfVxcYCBvbiBhIGNvbXBvbmVudCBpbnN0YW5jZSAob2YgJHtjb21wb25lbnR9KSBpcyBubyBsb25nZXIgdmFsaWQgaW4gU3ZlbHRlIDVcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9jb21wb25lbnRfYXBpX2NoYW5nZWRgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvY29tcG9uZW50X2FwaV9jaGFuZ2VkYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBBdHRlbXB0ZWQgdG8gaW5zdGFudGlhdGUgJWNvbXBvbmVudCUgd2l0aCBgbmV3ICVuYW1lJWAsIHdoaWNoIGlzIG5vIGxvbmdlciB2YWxpZCBpbiBTdmVsdGUgNS4gSWYgdGhpcyBjb21wb25lbnQgaXMgbm90IHVuZGVyIHlvdXIgY29udHJvbCwgc2V0IHRoZSBgY29tcGF0aWJpbGl0eS5jb21wb25lbnRBcGlgIGNvbXBpbGVyIG9wdGlvbiB0byBgNGAgdG8ga2VlcCBpdCB3b3JraW5nLlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbXBvbmVudFxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXBvbmVudF9hcGlfaW52YWxpZF9uZXcoY29tcG9uZW50LCBuYW1lKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgY29tcG9uZW50X2FwaV9pbnZhbGlkX25ld1xcbkF0dGVtcHRlZCB0byBpbnN0YW50aWF0ZSAke2NvbXBvbmVudH0gd2l0aCBcXGBuZXcgJHtuYW1lfVxcYCwgd2hpY2ggaXMgbm8gbG9uZ2VyIHZhbGlkIGluIFN2ZWx0ZSA1LiBJZiB0aGlzIGNvbXBvbmVudCBpcyBub3QgdW5kZXIgeW91ciBjb250cm9sLCBzZXQgdGhlIFxcYGNvbXBhdGliaWxpdHkuY29tcG9uZW50QXBpXFxgIGNvbXBpbGVyIG9wdGlvbiB0byBcXGA0XFxgIHRvIGtlZXAgaXQgd29ya2luZy5cXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9jb21wb25lbnRfYXBpX2ludmFsaWRfbmV3YCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2NvbXBvbmVudF9hcGlfaW52YWxpZF9uZXdgKTtcblx0fVxufVxuXG4vKipcbiAqIEEgZGVyaXZlZCB2YWx1ZSBjYW5ub3QgcmVmZXJlbmNlIGl0c2VsZiByZWN1cnNpdmVseVxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVyaXZlZF9yZWZlcmVuY2VzX3NlbGYoKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgZGVyaXZlZF9yZWZlcmVuY2VzX3NlbGZcXG5BIGRlcml2ZWQgdmFsdWUgY2Fubm90IHJlZmVyZW5jZSBpdHNlbGYgcmVjdXJzaXZlbHlcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9kZXJpdmVkX3JlZmVyZW5jZXNfc2VsZmApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9kZXJpdmVkX3JlZmVyZW5jZXNfc2VsZmApO1xuXHR9XG59XG5cbi8qKlxuICogS2V5ZWQgZWFjaCBibG9jayBoYXMgZHVwbGljYXRlIGtleSBgJXZhbHVlJWAgYXQgaW5kZXhlcyAlYSUgYW5kICViJVxuICogQHBhcmFtIHtzdHJpbmd9IGFcbiAqIEBwYXJhbSB7c3RyaW5nfSBiXG4gKiBAcGFyYW0ge3N0cmluZyB8IHVuZGVmaW5lZCB8IG51bGx9IFt2YWx1ZV1cbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVhY2hfa2V5X2R1cGxpY2F0ZShhLCBiLCB2YWx1ZSkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYGVhY2hfa2V5X2R1cGxpY2F0ZVxcbiR7dmFsdWVcblx0XHRcdD8gYEtleWVkIGVhY2ggYmxvY2sgaGFzIGR1cGxpY2F0ZSBrZXkgXFxgJHt2YWx1ZX1cXGAgYXQgaW5kZXhlcyAke2F9IGFuZCAke2J9YFxuXHRcdFx0OiBgS2V5ZWQgZWFjaCBibG9jayBoYXMgZHVwbGljYXRlIGtleSBhdCBpbmRleGVzICR7YX0gYW5kICR7Yn1gfVxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2VhY2hfa2V5X2R1cGxpY2F0ZWApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9lYWNoX2tleV9kdXBsaWNhdGVgKTtcblx0fVxufVxuXG4vKipcbiAqIGAlcnVuZSVgIGNhbm5vdCBiZSB1c2VkIGluc2lkZSBhbiBlZmZlY3QgY2xlYW51cCBmdW5jdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IHJ1bmVcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVmZmVjdF9pbl90ZWFyZG93bihydW5lKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgZWZmZWN0X2luX3RlYXJkb3duXFxuXFxgJHtydW5lfVxcYCBjYW5ub3QgYmUgdXNlZCBpbnNpZGUgYW4gZWZmZWN0IGNsZWFudXAgZnVuY3Rpb25cXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9lZmZlY3RfaW5fdGVhcmRvd25gKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvZWZmZWN0X2luX3RlYXJkb3duYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBFZmZlY3QgY2Fubm90IGJlIGNyZWF0ZWQgaW5zaWRlIGEgYCRkZXJpdmVkYCB2YWx1ZSB0aGF0IHdhcyBub3QgaXRzZWxmIGNyZWF0ZWQgaW5zaWRlIGFuIGVmZmVjdFxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWZmZWN0X2luX3Vub3duZWRfZGVyaXZlZCgpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBlZmZlY3RfaW5fdW5vd25lZF9kZXJpdmVkXFxuRWZmZWN0IGNhbm5vdCBiZSBjcmVhdGVkIGluc2lkZSBhIFxcYCRkZXJpdmVkXFxgIHZhbHVlIHRoYXQgd2FzIG5vdCBpdHNlbGYgY3JlYXRlZCBpbnNpZGUgYW4gZWZmZWN0XFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvZWZmZWN0X2luX3Vub3duZWRfZGVyaXZlZGApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9lZmZlY3RfaW5fdW5vd25lZF9kZXJpdmVkYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBgJXJ1bmUlYCBjYW4gb25seSBiZSB1c2VkIGluc2lkZSBhbiBlZmZlY3QgKGUuZy4gZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbilcbiAqIEBwYXJhbSB7c3RyaW5nfSBydW5lXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlZmZlY3Rfb3JwaGFuKHJ1bmUpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBlZmZlY3Rfb3JwaGFuXFxuXFxgJHtydW5lfVxcYCBjYW4gb25seSBiZSB1c2VkIGluc2lkZSBhbiBlZmZlY3QgKGUuZy4gZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbilcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9lZmZlY3Rfb3JwaGFuYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2VmZmVjdF9vcnBoYW5gKTtcblx0fVxufVxuXG4vKipcbiAqIGAkZWZmZWN0LnBlbmRpbmcoKWAgY2FuIG9ubHkgYmUgY2FsbGVkIGluc2lkZSBhbiBlZmZlY3Qgb3IgZGVyaXZlZFxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWZmZWN0X3BlbmRpbmdfb3V0c2lkZV9yZWFjdGlvbigpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBlZmZlY3RfcGVuZGluZ19vdXRzaWRlX3JlYWN0aW9uXFxuXFxgJGVmZmVjdC5wZW5kaW5nKClcXGAgY2FuIG9ubHkgYmUgY2FsbGVkIGluc2lkZSBhbiBlZmZlY3Qgb3IgZGVyaXZlZFxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2VmZmVjdF9wZW5kaW5nX291dHNpZGVfcmVhY3Rpb25gKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvZWZmZWN0X3BlbmRpbmdfb3V0c2lkZV9yZWFjdGlvbmApO1xuXHR9XG59XG5cbi8qKlxuICogTWF4aW11bSB1cGRhdGUgZGVwdGggZXhjZWVkZWQuIFRoaXMgdHlwaWNhbGx5IGluZGljYXRlcyB0aGF0IGFuIGVmZmVjdCByZWFkcyBhbmQgd3JpdGVzIHRoZSBzYW1lIHBpZWNlIG9mIHN0YXRlXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlZmZlY3RfdXBkYXRlX2RlcHRoX2V4Y2VlZGVkKCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYGVmZmVjdF91cGRhdGVfZGVwdGhfZXhjZWVkZWRcXG5NYXhpbXVtIHVwZGF0ZSBkZXB0aCBleGNlZWRlZC4gVGhpcyB0eXBpY2FsbHkgaW5kaWNhdGVzIHRoYXQgYW4gZWZmZWN0IHJlYWRzIGFuZCB3cml0ZXMgdGhlIHNhbWUgcGllY2Ugb2Ygc3RhdGVcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9lZmZlY3RfdXBkYXRlX2RlcHRoX2V4Y2VlZGVkYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2VmZmVjdF91cGRhdGVfZGVwdGhfZXhjZWVkZWRgKTtcblx0fVxufVxuXG4vKipcbiAqIENhbm5vdCB1c2UgYGZsdXNoU3luY2AgaW5zaWRlIGFuIGVmZmVjdFxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZmx1c2hfc3luY19pbl9lZmZlY3QoKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgZmx1c2hfc3luY19pbl9lZmZlY3RcXG5DYW5ub3QgdXNlIFxcYGZsdXNoU3luY1xcYCBpbnNpZGUgYW4gZWZmZWN0XFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvZmx1c2hfc3luY19pbl9lZmZlY3RgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvZmx1c2hfc3luY19pbl9lZmZlY3RgKTtcblx0fVxufVxuXG4vKipcbiAqIENhbm5vdCBjb21taXQgYSBmb3JrIHRoYXQgd2FzIGFscmVhZHkgZGlzY2FyZGVkXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JrX2Rpc2NhcmRlZCgpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBmb3JrX2Rpc2NhcmRlZFxcbkNhbm5vdCBjb21taXQgYSBmb3JrIHRoYXQgd2FzIGFscmVhZHkgZGlzY2FyZGVkXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvZm9ya19kaXNjYXJkZWRgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvZm9ya19kaXNjYXJkZWRgKTtcblx0fVxufVxuXG4vKipcbiAqIENhbm5vdCBjcmVhdGUgYSBmb3JrIGluc2lkZSBhbiBlZmZlY3Qgb3Igd2hlbiBzdGF0ZSBjaGFuZ2VzIGFyZSBwZW5kaW5nXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JrX3RpbWluZygpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBmb3JrX3RpbWluZ1xcbkNhbm5vdCBjcmVhdGUgYSBmb3JrIGluc2lkZSBhbiBlZmZlY3Qgb3Igd2hlbiBzdGF0ZSBjaGFuZ2VzIGFyZSBwZW5kaW5nXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvZm9ya190aW1pbmdgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvZm9ya190aW1pbmdgKTtcblx0fVxufVxuXG4vKipcbiAqIGBnZXRBYm9ydFNpZ25hbCgpYCBjYW4gb25seSBiZSBjYWxsZWQgaW5zaWRlIGFuIGVmZmVjdCBvciBkZXJpdmVkXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfYWJvcnRfc2lnbmFsX291dHNpZGVfcmVhY3Rpb24oKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgZ2V0X2Fib3J0X3NpZ25hbF9vdXRzaWRlX3JlYWN0aW9uXFxuXFxgZ2V0QWJvcnRTaWduYWwoKVxcYCBjYW4gb25seSBiZSBjYWxsZWQgaW5zaWRlIGFuIGVmZmVjdCBvciBkZXJpdmVkXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvZ2V0X2Fib3J0X3NpZ25hbF9vdXRzaWRlX3JlYWN0aW9uYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2dldF9hYm9ydF9zaWduYWxfb3V0c2lkZV9yZWFjdGlvbmApO1xuXHR9XG59XG5cbi8qKlxuICogRXhwZWN0ZWQgdG8gZmluZCBhIGh5ZHJhdGFibGUgd2l0aCBrZXkgYCVrZXklYCBkdXJpbmcgaHlkcmF0aW9uLCBidXQgZGlkIG5vdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGFibGVfbWlzc2luZ19idXRfcmVxdWlyZWQoa2V5KSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgaHlkcmF0YWJsZV9taXNzaW5nX2J1dF9yZXF1aXJlZFxcbkV4cGVjdGVkIHRvIGZpbmQgYSBoeWRyYXRhYmxlIHdpdGgga2V5IFxcYCR7a2V5fVxcYCBkdXJpbmcgaHlkcmF0aW9uLCBidXQgZGlkIG5vdC5cXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9oeWRyYXRhYmxlX21pc3NpbmdfYnV0X3JlcXVpcmVkYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2h5ZHJhdGFibGVfbWlzc2luZ19idXRfcmVxdWlyZWRgKTtcblx0fVxufVxuXG4vKipcbiAqIEZhaWxlZCB0byBoeWRyYXRlIHRoZSBhcHBsaWNhdGlvblxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0aW9uX2ZhaWxlZCgpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBoeWRyYXRpb25fZmFpbGVkXFxuRmFpbGVkIHRvIGh5ZHJhdGUgdGhlIGFwcGxpY2F0aW9uXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvaHlkcmF0aW9uX2ZhaWxlZGApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9oeWRyYXRpb25fZmFpbGVkYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBDb3VsZCBub3QgYHtAcmVuZGVyfWAgc25pcHBldCBkdWUgdG8gdGhlIGV4cHJlc3Npb24gYmVpbmcgYG51bGxgIG9yIGB1bmRlZmluZWRgLiBDb25zaWRlciB1c2luZyBvcHRpb25hbCBjaGFpbmluZyBge0ByZW5kZXIgc25pcHBldD8uKCl9YFxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW52YWxpZF9zbmlwcGV0KCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYGludmFsaWRfc25pcHBldFxcbkNvdWxkIG5vdCBcXGB7QHJlbmRlcn1cXGAgc25pcHBldCBkdWUgdG8gdGhlIGV4cHJlc3Npb24gYmVpbmcgXFxgbnVsbFxcYCBvciBcXGB1bmRlZmluZWRcXGAuIENvbnNpZGVyIHVzaW5nIG9wdGlvbmFsIGNoYWluaW5nIFxcYHtAcmVuZGVyIHNuaXBwZXQ/LigpfVxcYFxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2ludmFsaWRfc25pcHBldGApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9pbnZhbGlkX3NuaXBwZXRgKTtcblx0fVxufVxuXG4vKipcbiAqIGAlbmFtZSUoLi4uKWAgY2Fubm90IGJlIHVzZWQgaW4gcnVuZXMgbW9kZVxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEByZXR1cm5zIHtuZXZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpZmVjeWNsZV9sZWdhY3lfb25seShuYW1lKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgbGlmZWN5Y2xlX2xlZ2FjeV9vbmx5XFxuXFxgJHtuYW1lfSguLi4pXFxgIGNhbm5vdCBiZSB1c2VkIGluIHJ1bmVzIG1vZGVcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9saWZlY3ljbGVfbGVnYWN5X29ubHlgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvbGlmZWN5Y2xlX2xlZ2FjeV9vbmx5YCk7XG5cdH1cbn1cblxuLyoqXG4gKiBDYW5ub3QgZG8gYGJpbmQ6JWtleSU9e3VuZGVmaW5lZH1gIHdoZW4gYCVrZXklYCBoYXMgYSBmYWxsYmFjayB2YWx1ZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvcHNfaW52YWxpZF92YWx1ZShrZXkpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBwcm9wc19pbnZhbGlkX3ZhbHVlXFxuQ2Fubm90IGRvIFxcYGJpbmQ6JHtrZXl9PXt1bmRlZmluZWR9XFxgIHdoZW4gXFxgJHtrZXl9XFxgIGhhcyBhIGZhbGxiYWNrIHZhbHVlXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvcHJvcHNfaW52YWxpZF92YWx1ZWApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9wcm9wc19pbnZhbGlkX3ZhbHVlYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBSZXN0IGVsZW1lbnQgcHJvcGVydGllcyBvZiBgJHByb3BzKClgIHN1Y2ggYXMgYCVwcm9wZXJ0eSVgIGFyZSByZWFkb25seVxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5XG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcm9wc19yZXN0X3JlYWRvbmx5KHByb3BlcnR5KSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgcHJvcHNfcmVzdF9yZWFkb25seVxcblJlc3QgZWxlbWVudCBwcm9wZXJ0aWVzIG9mIFxcYCRwcm9wcygpXFxgIHN1Y2ggYXMgXFxgJHtwcm9wZXJ0eX1cXGAgYXJlIHJlYWRvbmx5XFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvcHJvcHNfcmVzdF9yZWFkb25seWApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9wcm9wc19yZXN0X3JlYWRvbmx5YCk7XG5cdH1cbn1cblxuLyoqXG4gKiBUaGUgYCVydW5lJWAgcnVuZSBpcyBvbmx5IGF2YWlsYWJsZSBpbnNpZGUgYC5zdmVsdGVgIGFuZCBgLnN2ZWx0ZS5qcy90c2AgZmlsZXNcbiAqIEBwYXJhbSB7c3RyaW5nfSBydW5lXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBydW5lX291dHNpZGVfc3ZlbHRlKHJ1bmUpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBydW5lX291dHNpZGVfc3ZlbHRlXFxuVGhlIFxcYCR7cnVuZX1cXGAgcnVuZSBpcyBvbmx5IGF2YWlsYWJsZSBpbnNpZGUgXFxgLnN2ZWx0ZVxcYCBhbmQgXFxgLnN2ZWx0ZS5qcy90c1xcYCBmaWxlc1xcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL3J1bmVfb3V0c2lkZV9zdmVsdGVgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvcnVuZV9vdXRzaWRlX3N2ZWx0ZWApO1xuXHR9XG59XG5cbi8qKlxuICogYHNldENvbnRleHRgIG11c3QgYmUgY2FsbGVkIHdoZW4gYSBjb21wb25lbnQgZmlyc3QgaW5pdGlhbGl6ZXMsIG5vdCBpbiBhIHN1YnNlcXVlbnQgZWZmZWN0IG9yIGFmdGVyIGFuIGBhd2FpdGAgZXhwcmVzc2lvblxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2NvbnRleHRfYWZ0ZXJfaW5pdCgpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBzZXRfY29udGV4dF9hZnRlcl9pbml0XFxuXFxgc2V0Q29udGV4dFxcYCBtdXN0IGJlIGNhbGxlZCB3aGVuIGEgY29tcG9uZW50IGZpcnN0IGluaXRpYWxpemVzLCBub3QgaW4gYSBzdWJzZXF1ZW50IGVmZmVjdCBvciBhZnRlciBhbiBcXGBhd2FpdFxcYCBleHByZXNzaW9uXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2Uvc2V0X2NvbnRleHRfYWZ0ZXJfaW5pdGApO1xuXG5cdFx0ZXJyb3IubmFtZSA9ICdTdmVsdGUgZXJyb3InO1xuXG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9zZXRfY29udGV4dF9hZnRlcl9pbml0YCk7XG5cdH1cbn1cblxuLyoqXG4gKiBQcm9wZXJ0eSBkZXNjcmlwdG9ycyBkZWZpbmVkIG9uIGAkc3RhdGVgIG9iamVjdHMgbXVzdCBjb250YWluIGB2YWx1ZWAgYW5kIGFsd2F5cyBiZSBgZW51bWVyYWJsZWAsIGBjb25maWd1cmFibGVgIGFuZCBgd3JpdGFibGVgLlxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhdGVfZGVzY3JpcHRvcnNfZml4ZWQoKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihgc3RhdGVfZGVzY3JpcHRvcnNfZml4ZWRcXG5Qcm9wZXJ0eSBkZXNjcmlwdG9ycyBkZWZpbmVkIG9uIFxcYCRzdGF0ZVxcYCBvYmplY3RzIG11c3QgY29udGFpbiBcXGB2YWx1ZVxcYCBhbmQgYWx3YXlzIGJlIFxcYGVudW1lcmFibGVcXGAsIFxcYGNvbmZpZ3VyYWJsZVxcYCBhbmQgXFxgd3JpdGFibGVcXGAuXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2Uvc3RhdGVfZGVzY3JpcHRvcnNfZml4ZWRgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2Uvc3RhdGVfZGVzY3JpcHRvcnNfZml4ZWRgKTtcblx0fVxufVxuXG4vKipcbiAqIENhbm5vdCBzZXQgcHJvdG90eXBlIG9mIGAkc3RhdGVgIG9iamVjdFxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhdGVfcHJvdG90eXBlX2ZpeGVkKCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYHN0YXRlX3Byb3RvdHlwZV9maXhlZFxcbkNhbm5vdCBzZXQgcHJvdG90eXBlIG9mIFxcYCRzdGF0ZVxcYCBvYmplY3RcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9zdGF0ZV9wcm90b3R5cGVfZml4ZWRgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2Uvc3RhdGVfcHJvdG90eXBlX2ZpeGVkYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBVcGRhdGluZyBzdGF0ZSBpbnNpZGUgYCRkZXJpdmVkKC4uLilgLCBgJGluc3BlY3QoLi4uKWAgb3IgYSB0ZW1wbGF0ZSBleHByZXNzaW9uIGlzIGZvcmJpZGRlbi4gSWYgdGhlIHZhbHVlIHNob3VsZCBub3QgYmUgcmVhY3RpdmUsIGRlY2xhcmUgaXQgd2l0aG91dCBgJHN0YXRlYFxuICogQHJldHVybnMge25ldmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhdGVfdW5zYWZlX211dGF0aW9uKCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYHN0YXRlX3Vuc2FmZV9tdXRhdGlvblxcblVwZGF0aW5nIHN0YXRlIGluc2lkZSBcXGAkZGVyaXZlZCguLi4pXFxgLCBcXGAkaW5zcGVjdCguLi4pXFxgIG9yIGEgdGVtcGxhdGUgZXhwcmVzc2lvbiBpcyBmb3JiaWRkZW4uIElmIHRoZSB2YWx1ZSBzaG91bGQgbm90IGJlIHJlYWN0aXZlLCBkZWNsYXJlIGl0IHdpdGhvdXQgXFxgJHN0YXRlXFxgXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2Uvc3RhdGVfdW5zYWZlX211dGF0aW9uYCk7XG5cblx0XHRlcnJvci5uYW1lID0gJ1N2ZWx0ZSBlcnJvcic7XG5cblx0XHR0aHJvdyBlcnJvcjtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYGh0dHBzOi8vc3ZlbHRlLmRldi9lL3N0YXRlX3Vuc2FmZV9tdXRhdGlvbmApO1xuXHR9XG59XG5cbi8qKlxuICogQSBgPHN2ZWx0ZTpib3VuZGFyeT5gIGByZXNldGAgZnVuY3Rpb24gY2Fubm90IGJlIGNhbGxlZCB3aGlsZSBhbiBlcnJvciBpcyBzdGlsbCBiZWluZyBoYW5kbGVkXG4gKiBAcmV0dXJucyB7bmV2ZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdmVsdGVfYm91bmRhcnlfcmVzZXRfb25lcnJvcigpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGBzdmVsdGVfYm91bmRhcnlfcmVzZXRfb25lcnJvclxcbkEgXFxgPHN2ZWx0ZTpib3VuZGFyeT5cXGAgXFxgcmVzZXRcXGAgZnVuY3Rpb24gY2Fubm90IGJlIGNhbGxlZCB3aGlsZSBhbiBlcnJvciBpcyBzdGlsbCBiZWluZyBoYW5kbGVkXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2Uvc3ZlbHRlX2JvdW5kYXJ5X3Jlc2V0X29uZXJyb3JgKTtcblxuXHRcdGVycm9yLm5hbWUgPSAnU3ZlbHRlIGVycm9yJztcblxuXHRcdHRocm93IGVycm9yO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihgaHR0cHM6Ly9zdmVsdGUuZGV2L2Uvc3ZlbHRlX2JvdW5kYXJ5X3Jlc2V0X29uZXJyb3JgKTtcblx0fVxufSIsIi8qKiBUcnVlIGlmIGV4cGVyaW1lbnRhbC5hc3luYz10cnVlICovXG5leHBvcnQgbGV0IGFzeW5jX21vZGVfZmxhZyA9IGZhbHNlO1xuLyoqIFRydWUgaWYgd2UncmUgbm90IGNlcnRhaW4gdGhhdCB3ZSBvbmx5IGhhdmUgU3ZlbHRlIDUgY29kZSBpbiB0aGUgY29tcGlsYXRpb24gKi9cbmV4cG9ydCBsZXQgbGVnYWN5X21vZGVfZmxhZyA9IGZhbHNlO1xuLyoqIFRydWUgaWYgJGluc3BlY3QudHJhY2UgaXMgdXNlZCAqL1xuZXhwb3J0IGxldCB0cmFjaW5nX21vZGVfZmxhZyA9IGZhbHNlO1xuXG5leHBvcnQgZnVuY3Rpb24gZW5hYmxlX2FzeW5jX21vZGVfZmxhZygpIHtcblx0YXN5bmNfbW9kZV9mbGFnID0gdHJ1ZTtcbn1cblxuLyoqIE9OTFkgVVNFIFRISVMgRFVSSU5HIFRFU1RJTkcgKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXNhYmxlX2FzeW5jX21vZGVfZmxhZygpIHtcblx0YXN5bmNfbW9kZV9mbGFnID0gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmFibGVfbGVnYWN5X21vZGVfZmxhZygpIHtcblx0bGVnYWN5X21vZGVfZmxhZyA9IHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmFibGVfdHJhY2luZ19tb2RlX2ZsYWcoKSB7XG5cdHRyYWNpbmdfbW9kZV9mbGFnID0gdHJ1ZTtcbn1cbiIsImV4cG9ydCBjb25zdCBFQUNIX0lURU1fUkVBQ1RJVkUgPSAxO1xuZXhwb3J0IGNvbnN0IEVBQ0hfSU5ERVhfUkVBQ1RJVkUgPSAxIDw8IDE7XG4vKiogU2VlIEVhY2hCbG9jayBpbnRlcmZhY2UgbWV0YWRhdGEuaXNfY29udHJvbGxlZCBmb3IgYW4gZXhwbGFuYXRpb24gd2hhdCB0aGlzIGlzICovXG5leHBvcnQgY29uc3QgRUFDSF9JU19DT05UUk9MTEVEID0gMSA8PCAyO1xuZXhwb3J0IGNvbnN0IEVBQ0hfSVNfQU5JTUFURUQgPSAxIDw8IDM7XG5leHBvcnQgY29uc3QgRUFDSF9JVEVNX0lNTVVUQUJMRSA9IDEgPDwgNDtcblxuZXhwb3J0IGNvbnN0IFBST1BTX0lTX0lNTVVUQUJMRSA9IDE7XG5leHBvcnQgY29uc3QgUFJPUFNfSVNfUlVORVMgPSAxIDw8IDE7XG5leHBvcnQgY29uc3QgUFJPUFNfSVNfVVBEQVRFRCA9IDEgPDwgMjtcbmV4cG9ydCBjb25zdCBQUk9QU19JU19CSU5EQUJMRSA9IDEgPDwgMztcbmV4cG9ydCBjb25zdCBQUk9QU19JU19MQVpZX0lOSVRJQUwgPSAxIDw8IDQ7XG5cbmV4cG9ydCBjb25zdCBUUkFOU0lUSU9OX0lOID0gMTtcbmV4cG9ydCBjb25zdCBUUkFOU0lUSU9OX09VVCA9IDEgPDwgMTtcbmV4cG9ydCBjb25zdCBUUkFOU0lUSU9OX0dMT0JBTCA9IDEgPDwgMjtcblxuZXhwb3J0IGNvbnN0IFRFTVBMQVRFX0ZSQUdNRU5UID0gMTtcbmV4cG9ydCBjb25zdCBURU1QTEFURV9VU0VfSU1QT1JUX05PREUgPSAxIDw8IDE7XG5leHBvcnQgY29uc3QgVEVNUExBVEVfVVNFX1NWRyA9IDEgPDwgMjtcbmV4cG9ydCBjb25zdCBURU1QTEFURV9VU0VfTUFUSE1MID0gMSA8PCAzO1xuXG5leHBvcnQgY29uc3QgSFlEUkFUSU9OX1NUQVJUID0gJ1snO1xuLyoqIHVzZWQgdG8gaW5kaWNhdGUgdGhhdCBhbiBgezplbHNlfS4uLmAgYmxvY2sgd2FzIHJlbmRlcmVkICovXG5leHBvcnQgY29uc3QgSFlEUkFUSU9OX1NUQVJUX0VMU0UgPSAnWyEnO1xuZXhwb3J0IGNvbnN0IEhZRFJBVElPTl9FTkQgPSAnXSc7XG5leHBvcnQgY29uc3QgSFlEUkFUSU9OX0VSUk9SID0ge307XG5cbmV4cG9ydCBjb25zdCBFTEVNRU5UX0lTX05BTUVTUEFDRUQgPSAxO1xuZXhwb3J0IGNvbnN0IEVMRU1FTlRfUFJFU0VSVkVfQVRUUklCVVRFX0NBU0UgPSAxIDw8IDE7XG5leHBvcnQgY29uc3QgRUxFTUVOVF9JU19JTlBVVCA9IDEgPDwgMjtcblxuZXhwb3J0IGNvbnN0IFVOSU5JVElBTElaRUQgPSBTeW1ib2woKTtcblxuLy8gRGV2LXRpbWUgY29tcG9uZW50IHByb3BlcnRpZXNcbmV4cG9ydCBjb25zdCBGSUxFTkFNRSA9IFN5bWJvbCgnZmlsZW5hbWUnKTtcbmV4cG9ydCBjb25zdCBITVIgPSBTeW1ib2woJ2htcicpO1xuXG5leHBvcnQgY29uc3QgTkFNRVNQQUNFX0hUTUwgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCc7XG5leHBvcnQgY29uc3QgTkFNRVNQQUNFX1NWRyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG5leHBvcnQgY29uc3QgTkFNRVNQQUNFX01BVEhNTCA9ICdodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGgvTWF0aE1MJztcblxuLy8gd2UgdXNlIGEgbGlzdCBvZiBpZ25vcmFibGUgcnVudGltZSB3YXJuaW5ncyBiZWNhdXNlIG5vdCBldmVyeSBydW50aW1lIHdhcm5pbmdcbi8vIGNhbiBiZSBpZ25vcmVkIGFuZCB3ZSB3YW50IHRvIGtlZXAgdGhlIHZhbGlkYXRpb24gZm9yIHN2ZWx0ZS1pZ25vcmUgaW4gcGxhY2VcbmV4cG9ydCBjb25zdCBJR05PUkFCTEVfUlVOVElNRV9XQVJOSU5HUyA9IC8qKiBAdHlwZSB7Y29uc3R9ICovIChbXG5cdCdhd2FpdF93YXRlcmZhbGwnLFxuXHQnYXdhaXRfcmVhY3Rpdml0eV9sb3NzJyxcblx0J3N0YXRlX3NuYXBzaG90X3VuY2xvbmVhYmxlJyxcblx0J2JpbmRpbmdfcHJvcGVydHlfbm9uX3JlYWN0aXZlJyxcblx0J2h5ZHJhdGlvbl9hdHRyaWJ1dGVfY2hhbmdlZCcsXG5cdCdoeWRyYXRpb25faHRtbF9jaGFuZ2VkJyxcblx0J293bmVyc2hpcF9pbnZhbGlkX2JpbmRpbmcnLFxuXHQnb3duZXJzaGlwX2ludmFsaWRfbXV0YXRpb24nXG5dKTtcblxuLyoqXG4gKiBXaGl0ZXNwYWNlIGluc2lkZSBvbmUgb2YgdGhlc2UgZWxlbWVudHMgd2lsbCBub3QgcmVzdWx0IGluXG4gKiBhIHdoaXRlc3BhY2Ugbm9kZSBiZWluZyBjcmVhdGVkIGluIGFueSBjaXJjdW1zdGFuY2VzLiAoVGhpc1xuICogbGlzdCBpcyBhbG1vc3QgY2VydGFpbmx5IHZlcnkgaW5jb21wbGV0ZSlcbiAqIFRPRE8gdGhpcyBpcyBjdXJyZW50bHkgdW51c2VkXG4gKi9cbmV4cG9ydCBjb25zdCBFTEVNRU5UU19XSVRIT1VUX1RFWFQgPSBbJ2F1ZGlvJywgJ2RhdGFsaXN0JywgJ2RsJywgJ29wdGdyb3VwJywgJ3NlbGVjdCcsICd2aWRlbyddO1xuXG5leHBvcnQgY29uc3QgQVRUQUNITUVOVF9LRVkgPSAnQGF0dGFjaCc7XG4iLCIvKiogQGltcG9ydCB7IENvbXBvbmVudENvbnRleHQsIERldlN0YWNrRW50cnksIEVmZmVjdCB9IGZyb20gJyNjbGllbnQnICovXG5pbXBvcnQgeyBERVYgfSBmcm9tICdlc20tZW52JztcbmltcG9ydCAqIGFzIGUgZnJvbSAnLi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgYWN0aXZlX2VmZmVjdCwgYWN0aXZlX3JlYWN0aW9uIH0gZnJvbSAnLi9ydW50aW1lLmpzJztcbmltcG9ydCB7IGNyZWF0ZV91c2VyX2VmZmVjdCB9IGZyb20gJy4vcmVhY3Rpdml0eS9lZmZlY3RzLmpzJztcbmltcG9ydCB7IGFzeW5jX21vZGVfZmxhZywgbGVnYWN5X21vZGVfZmxhZyB9IGZyb20gJy4uL2ZsYWdzL2luZGV4LmpzJztcbmltcG9ydCB7IEZJTEVOQU1FIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IEJSQU5DSF9FRkZFQ1QsIEVGRkVDVF9SQU4gfSBmcm9tICcuL2NvbnN0YW50cy5qcyc7XG5cbi8qKiBAdHlwZSB7Q29tcG9uZW50Q29udGV4dCB8IG51bGx9ICovXG5leHBvcnQgbGV0IGNvbXBvbmVudF9jb250ZXh0ID0gbnVsbDtcblxuLyoqIEBwYXJhbSB7Q29tcG9uZW50Q29udGV4dCB8IG51bGx9IGNvbnRleHQgKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfY29tcG9uZW50X2NvbnRleHQoY29udGV4dCkge1xuXHRjb21wb25lbnRfY29udGV4dCA9IGNvbnRleHQ7XG59XG5cbi8qKiBAdHlwZSB7RGV2U3RhY2tFbnRyeSB8IG51bGx9ICovXG5leHBvcnQgbGV0IGRldl9zdGFjayA9IG51bGw7XG5cbi8qKiBAcGFyYW0ge0RldlN0YWNrRW50cnkgfCBudWxsfSBzdGFjayAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9kZXZfc3RhY2soc3RhY2spIHtcblx0ZGV2X3N0YWNrID0gc3RhY2s7XG59XG5cbi8qKlxuICogRXhlY3V0ZSBhIGNhbGxiYWNrIHdpdGggYSBuZXcgZGV2IHN0YWNrIGVudHJ5XG4gKiBAcGFyYW0geygpID0+IGFueX0gY2FsbGJhY2sgLSBGdW5jdGlvbiB0byBleGVjdXRlXG4gKiBAcGFyYW0ge0RldlN0YWNrRW50cnlbJ3R5cGUnXX0gdHlwZSAtIFR5cGUgb2YgYmxvY2svY29tcG9uZW50XG4gKiBAcGFyYW0ge2FueX0gY29tcG9uZW50IC0gQ29tcG9uZW50IGZ1bmN0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gbGluZSAtIExpbmUgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gY29sdW1uIC0gQ29sdW1uIG51bWJlclxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBbYWRkaXRpb25hbF0gLSBBbnkgYWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGFkZCB0byB0aGUgZGV2IHN0YWNrIGVudHJ5XG4gKiBAcmV0dXJucyB7YW55fVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkX3N2ZWx0ZV9tZXRhKGNhbGxiYWNrLCB0eXBlLCBjb21wb25lbnQsIGxpbmUsIGNvbHVtbiwgYWRkaXRpb25hbCkge1xuXHRjb25zdCBwYXJlbnQgPSBkZXZfc3RhY2s7XG5cblx0ZGV2X3N0YWNrID0ge1xuXHRcdHR5cGUsXG5cdFx0ZmlsZTogY29tcG9uZW50W0ZJTEVOQU1FXSxcblx0XHRsaW5lLFxuXHRcdGNvbHVtbixcblx0XHRwYXJlbnQsXG5cdFx0Li4uYWRkaXRpb25hbFxuXHR9O1xuXG5cdHRyeSB7XG5cdFx0cmV0dXJuIGNhbGxiYWNrKCk7XG5cdH0gZmluYWxseSB7XG5cdFx0ZGV2X3N0YWNrID0gcGFyZW50O1xuXHR9XG59XG5cbi8qKlxuICogVGhlIGN1cnJlbnQgY29tcG9uZW50IGZ1bmN0aW9uLiBEaWZmZXJlbnQgZnJvbSBjdXJyZW50IGNvbXBvbmVudCBjb250ZXh0OlxuICogYGBgaHRtbFxuICogPCEtLSBBcHAuc3ZlbHRlIC0tPlxuICogPEZvbz5cbiAqICAgPEJhciAvPiA8IS0tIGNvbnRleHQgPT0gRm9vLnN2ZWx0ZSwgZnVuY3Rpb24gPT0gQXBwLnN2ZWx0ZSAtLT5cbiAqIDwvRm9vPlxuICogYGBgXG4gKiBAdHlwZSB7Q29tcG9uZW50Q29udGV4dFsnZnVuY3Rpb24nXX1cbiAqL1xuZXhwb3J0IGxldCBkZXZfY3VycmVudF9jb21wb25lbnRfZnVuY3Rpb24gPSBudWxsO1xuXG4vKiogQHBhcmFtIHtDb21wb25lbnRDb250ZXh0WydmdW5jdGlvbiddfSBmbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9kZXZfY3VycmVudF9jb21wb25lbnRfZnVuY3Rpb24oZm4pIHtcblx0ZGV2X2N1cnJlbnRfY29tcG9uZW50X2Z1bmN0aW9uID0gZm47XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGBbZ2V0LCBzZXRdYCBwYWlyIG9mIGZ1bmN0aW9ucyBmb3Igd29ya2luZyB3aXRoIGNvbnRleHQgaW4gYSB0eXBlLXNhZmUgd2F5LlxuICpcbiAqIGBnZXRgIHdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgbm8gcGFyZW50IGNvbXBvbmVudCBjYWxsZWQgYHNldGAuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEByZXR1cm5zIHtbKCkgPT4gVCwgKGNvbnRleHQ6IFQpID0+IFRdfVxuICogQHNpbmNlIDUuNDAuMFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29udGV4dCgpIHtcblx0Y29uc3Qga2V5ID0ge307XG5cblx0cmV0dXJuIFtcblx0XHQoKSA9PiB7XG5cdFx0XHRpZiAoIWhhc0NvbnRleHQoa2V5KSkge1xuXHRcdFx0XHRlLm1pc3NpbmdfY29udGV4dCgpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZ2V0Q29udGV4dChrZXkpO1xuXHRcdH0sXG5cdFx0KGNvbnRleHQpID0+IHNldENvbnRleHQoa2V5LCBjb250ZXh0KVxuXHRdO1xufVxuXG4vKipcbiAqIFJldHJpZXZlcyB0aGUgY29udGV4dCB0aGF0IGJlbG9uZ3MgdG8gdGhlIGNsb3Nlc3QgcGFyZW50IGNvbXBvbmVudCB3aXRoIHRoZSBzcGVjaWZpZWQgYGtleWAuXG4gKiBNdXN0IGJlIGNhbGxlZCBkdXJpbmcgY29tcG9uZW50IGluaXRpYWxpc2F0aW9uLlxuICpcbiAqIFtgY3JlYXRlQ29udGV4dGBdKGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS9zdmVsdGUjY3JlYXRlQ29udGV4dCkgaXMgYSB0eXBlLXNhZmUgYWx0ZXJuYXRpdmUuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7YW55fSBrZXlcbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29udGV4dChrZXkpIHtcblx0Y29uc3QgY29udGV4dF9tYXAgPSBnZXRfb3JfaW5pdF9jb250ZXh0X21hcCgnZ2V0Q29udGV4dCcpO1xuXHRjb25zdCByZXN1bHQgPSAvKiogQHR5cGUge1R9ICovIChjb250ZXh0X21hcC5nZXQoa2V5KSk7XG5cdHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQXNzb2NpYXRlcyBhbiBhcmJpdHJhcnkgYGNvbnRleHRgIG9iamVjdCB3aXRoIHRoZSBjdXJyZW50IGNvbXBvbmVudCBhbmQgdGhlIHNwZWNpZmllZCBga2V5YFxuICogYW5kIHJldHVybnMgdGhhdCBvYmplY3QuIFRoZSBjb250ZXh0IGlzIHRoZW4gYXZhaWxhYmxlIHRvIGNoaWxkcmVuIG9mIHRoZSBjb21wb25lbnRcbiAqIChpbmNsdWRpbmcgc2xvdHRlZCBjb250ZW50KSB3aXRoIGBnZXRDb250ZXh0YC5cbiAqXG4gKiBMaWtlIGxpZmVjeWNsZSBmdW5jdGlvbnMsIHRoaXMgbXVzdCBiZSBjYWxsZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbi5cbiAqXG4gKiBbYGNyZWF0ZUNvbnRleHRgXShodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUvc3ZlbHRlI2NyZWF0ZUNvbnRleHQpIGlzIGEgdHlwZS1zYWZlIGFsdGVybmF0aXZlLlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge2FueX0ga2V5XG4gKiBAcGFyYW0ge1R9IGNvbnRleHRcbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0Q29udGV4dChrZXksIGNvbnRleHQpIHtcblx0Y29uc3QgY29udGV4dF9tYXAgPSBnZXRfb3JfaW5pdF9jb250ZXh0X21hcCgnc2V0Q29udGV4dCcpO1xuXG5cdGlmIChhc3luY19tb2RlX2ZsYWcpIHtcblx0XHR2YXIgZmxhZ3MgPSAvKiogQHR5cGUge0VmZmVjdH0gKi8gKGFjdGl2ZV9lZmZlY3QpLmY7XG5cdFx0dmFyIHZhbGlkID1cblx0XHRcdCFhY3RpdmVfcmVhY3Rpb24gJiZcblx0XHRcdChmbGFncyAmIEJSQU5DSF9FRkZFQ1QpICE9PSAwICYmXG5cdFx0XHQvLyBwb3AoKSBydW5zIHN5bmNocm9ub3VzbHksIHNvIHRoaXMgaW5kaWNhdGVzIHdlJ3JlIHNldHRpbmcgY29udGV4dCBhZnRlciBhbiBhd2FpdFxuXHRcdFx0ISgvKiogQHR5cGUge0NvbXBvbmVudENvbnRleHR9ICovIChjb21wb25lbnRfY29udGV4dCkuaSk7XG5cblx0XHRpZiAoIXZhbGlkKSB7XG5cdFx0XHRlLnNldF9jb250ZXh0X2FmdGVyX2luaXQoKTtcblx0XHR9XG5cdH1cblxuXHRjb250ZXh0X21hcC5zZXQoa2V5LCBjb250ZXh0KTtcblx0cmV0dXJuIGNvbnRleHQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgYSBnaXZlbiBga2V5YCBoYXMgYmVlbiBzZXQgaW4gdGhlIGNvbnRleHQgb2YgYSBwYXJlbnQgY29tcG9uZW50LlxuICogTXVzdCBiZSBjYWxsZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge2FueX0ga2V5XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc0NvbnRleHQoa2V5KSB7XG5cdGNvbnN0IGNvbnRleHRfbWFwID0gZ2V0X29yX2luaXRfY29udGV4dF9tYXAoJ2hhc0NvbnRleHQnKTtcblx0cmV0dXJuIGNvbnRleHRfbWFwLmhhcyhrZXkpO1xufVxuXG4vKipcbiAqIFJldHJpZXZlcyB0aGUgd2hvbGUgY29udGV4dCBtYXAgdGhhdCBiZWxvbmdzIHRvIHRoZSBjbG9zZXN0IHBhcmVudCBjb21wb25lbnQuXG4gKiBNdXN0IGJlIGNhbGxlZCBkdXJpbmcgY29tcG9uZW50IGluaXRpYWxpc2F0aW9uLiBVc2VmdWwsIGZvciBleGFtcGxlLCBpZiB5b3VcbiAqIHByb2dyYW1tYXRpY2FsbHkgY3JlYXRlIGEgY29tcG9uZW50IGFuZCB3YW50IHRvIHBhc3MgdGhlIGV4aXN0aW5nIGNvbnRleHQgdG8gaXQuXG4gKlxuICogQHRlbXBsYXRlIHtNYXA8YW55LCBhbnk+fSBbVD1NYXA8YW55LCBhbnk+XVxuICogQHJldHVybnMge1R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBbGxDb250ZXh0cygpIHtcblx0Y29uc3QgY29udGV4dF9tYXAgPSBnZXRfb3JfaW5pdF9jb250ZXh0X21hcCgnZ2V0QWxsQ29udGV4dHMnKTtcblx0cmV0dXJuIC8qKiBAdHlwZSB7VH0gKi8gKGNvbnRleHRfbWFwKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIHVua25vd24+fSBwcm9wc1xuICogQHBhcmFtIHthbnl9IHJ1bmVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZm5dXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHB1c2gocHJvcHMsIHJ1bmVzID0gZmFsc2UsIGZuKSB7XG5cdGNvbXBvbmVudF9jb250ZXh0ID0ge1xuXHRcdHA6IGNvbXBvbmVudF9jb250ZXh0LFxuXHRcdGk6IGZhbHNlLFxuXHRcdGM6IG51bGwsXG5cdFx0ZTogbnVsbCxcblx0XHRzOiBwcm9wcyxcblx0XHR4OiBudWxsLFxuXHRcdGw6IGxlZ2FjeV9tb2RlX2ZsYWcgJiYgIXJ1bmVzID8geyBzOiBudWxsLCB1OiBudWxsLCAkOiBbXSB9IDogbnVsbFxuXHR9O1xuXG5cdGlmIChERVYpIHtcblx0XHQvLyBjb21wb25lbnQgZnVuY3Rpb25cblx0XHRjb21wb25lbnRfY29udGV4dC5mdW5jdGlvbiA9IGZuO1xuXHRcdGRldl9jdXJyZW50X2NvbXBvbmVudF9mdW5jdGlvbiA9IGZuO1xuXHR9XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBUXG4gKiBAcGFyYW0ge1R9IFtjb21wb25lbnRdXG4gKiBAcmV0dXJucyB7VH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBvcChjb21wb25lbnQpIHtcblx0dmFyIGNvbnRleHQgPSAvKiogQHR5cGUge0NvbXBvbmVudENvbnRleHR9ICovIChjb21wb25lbnRfY29udGV4dCk7XG5cdHZhciBlZmZlY3RzID0gY29udGV4dC5lO1xuXG5cdGlmIChlZmZlY3RzICE9PSBudWxsKSB7XG5cdFx0Y29udGV4dC5lID0gbnVsbDtcblxuXHRcdGZvciAodmFyIGZuIG9mIGVmZmVjdHMpIHtcblx0XHRcdGNyZWF0ZV91c2VyX2VmZmVjdChmbik7XG5cdFx0fVxuXHR9XG5cblx0aWYgKGNvbXBvbmVudCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0Y29udGV4dC54ID0gY29tcG9uZW50O1xuXHR9XG5cblx0Y29udGV4dC5pID0gdHJ1ZTtcblxuXHRjb21wb25lbnRfY29udGV4dCA9IGNvbnRleHQucDtcblxuXHRpZiAoREVWKSB7XG5cdFx0ZGV2X2N1cnJlbnRfY29tcG9uZW50X2Z1bmN0aW9uID0gY29tcG9uZW50X2NvbnRleHQ/LmZ1bmN0aW9uID8/IG51bGw7XG5cdH1cblxuXHRyZXR1cm4gY29tcG9uZW50ID8/IC8qKiBAdHlwZSB7VH0gKi8gKHt9KTtcbn1cblxuLyoqIEByZXR1cm5zIHtib29sZWFufSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX3J1bmVzKCkge1xuXHRyZXR1cm4gIWxlZ2FjeV9tb2RlX2ZsYWcgfHwgKGNvbXBvbmVudF9jb250ZXh0ICE9PSBudWxsICYmIGNvbXBvbmVudF9jb250ZXh0LmwgPT09IG51bGwpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcmV0dXJucyB7TWFwPHVua25vd24sIHVua25vd24+fVxuICovXG5mdW5jdGlvbiBnZXRfb3JfaW5pdF9jb250ZXh0X21hcChuYW1lKSB7XG5cdGlmIChjb21wb25lbnRfY29udGV4dCA9PT0gbnVsbCkge1xuXHRcdGUubGlmZWN5Y2xlX291dHNpZGVfY29tcG9uZW50KG5hbWUpO1xuXHR9XG5cblx0cmV0dXJuIChjb21wb25lbnRfY29udGV4dC5jID8/PSBuZXcgTWFwKGdldF9wYXJlbnRfY29udGV4dChjb21wb25lbnRfY29udGV4dCkgfHwgdW5kZWZpbmVkKSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDb21wb25lbnRDb250ZXh0fSBjb21wb25lbnRfY29udGV4dFxuICogQHJldHVybnMge01hcDx1bmtub3duLCB1bmtub3duPiB8IG51bGx9XG4gKi9cbmZ1bmN0aW9uIGdldF9wYXJlbnRfY29udGV4dChjb21wb25lbnRfY29udGV4dCkge1xuXHRsZXQgcGFyZW50ID0gY29tcG9uZW50X2NvbnRleHQucDtcblx0d2hpbGUgKHBhcmVudCAhPT0gbnVsbCkge1xuXHRcdGNvbnN0IGNvbnRleHRfbWFwID0gcGFyZW50LmM7XG5cdFx0aWYgKGNvbnRleHRfbWFwICE9PSBudWxsKSB7XG5cdFx0XHRyZXR1cm4gY29udGV4dF9tYXA7XG5cdFx0fVxuXHRcdHBhcmVudCA9IHBhcmVudC5wO1xuXHR9XG5cdHJldHVybiBudWxsO1xufVxuIiwiaW1wb3J0IHsgcnVuX2FsbCB9IGZyb20gJy4uLy4uL3NoYXJlZC91dGlscy5qcyc7XG5pbXBvcnQgeyBpc19mbHVzaGluZ19zeW5jIH0gZnJvbSAnLi4vcmVhY3Rpdml0eS9iYXRjaC5qcyc7XG5cbi8qKiBAdHlwZSB7QXJyYXk8KCkgPT4gdm9pZD59ICovXG5sZXQgbWljcm9fdGFza3MgPSBbXTtcblxuZnVuY3Rpb24gcnVuX21pY3JvX3Rhc2tzKCkge1xuXHR2YXIgdGFza3MgPSBtaWNyb190YXNrcztcblx0bWljcm9fdGFza3MgPSBbXTtcblx0cnVuX2FsbCh0YXNrcyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBmblxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVldWVfbWljcm9fdGFzayhmbikge1xuXHRpZiAobWljcm9fdGFza3MubGVuZ3RoID09PSAwICYmICFpc19mbHVzaGluZ19zeW5jKSB7XG5cdFx0dmFyIHRhc2tzID0gbWljcm9fdGFza3M7XG5cdFx0cXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuXHRcdFx0Ly8gSWYgdGhpcyBpcyBmYWxzZSwgYSBmbHVzaFN5bmMgaGFwcGVuZWQgaW4gdGhlIG1lYW50aW1lLiBEbyBfbm90XyBydW4gbmV3IHNjaGVkdWxlZCBtaWNyb3Rhc2tzIGluIHRoYXQgY2FzZVxuXHRcdFx0Ly8gYXMgdGhlIG9yZGVyaW5nIG9mIG1pY3JvdGFza3Mgd291bGQgYmUgYnJva2VuIGF0IHRoYXQgcG9pbnQgLSBjb25zaWRlciB0aGlzIGNhc2U6XG5cdFx0XHQvLyAtIHF1ZXVlX21pY3JvX3Rhc2sgc2NoZWR1bGVzIG1pY3JvdGFzayBBIHRvIGZsdXNoIHRhc2sgWFxuXHRcdFx0Ly8gLSBzeW5jaHJvbm91c2x5IGFmdGVyLCBmbHVzaFN5bmMgcnVucywgcHJvY2Vzc2luZyB0YXNrIFhcblx0XHRcdC8vIC0gc3luY2hyb25vdXNseSBhZnRlciwgc29tZSBvdGhlciBtaWNyb3Rhc2sgQiBpcyBzY2hlZHVsZWQsIGJ1dCBub3QgdGhyb3VnaCBxdWV1ZV9taWNyb190YXNrIGJ1dCBmb3IgZXhhbXBsZSBhIFByb21pc2UucmVzb2x2ZSgpIGluIHVzZXIgY29kZVxuXHRcdFx0Ly8gLSBzeW5jaHJvbm91c2x5IGFmdGVyLCBxdWV1ZV9taWNyb190YXNrIHNjaGVkdWxlcyBtaWNyb3Rhc2sgQyB0byBmbHVzaCB0YXNrIFlcblx0XHRcdC8vIC0gb25lIHRpY2sgbGF0ZXIsIG1pY3JvdGFzayBBIG5vdyByZXNvbHZlcywgZmx1c2hpbmcgdGFzayBZIGJlZm9yZSBtaWNyb3Rhc2sgQiwgd2hpY2ggaXMgaW5jb3JyZWN0XG5cdFx0XHQvLyBUaGlzIGlmIGNoZWNrIHByZXZlbnRzIHRoYXQgcmFjZSBjb25kaXRpb24gKHRoYXQgcmVhbGlzdGljYWxseSB3aWxsIG9ubHkgaGFwcGVuIGluIHRlc3RzKVxuXHRcdFx0aWYgKHRhc2tzID09PSBtaWNyb190YXNrcykgcnVuX21pY3JvX3Rhc2tzKCk7XG5cdFx0fSk7XG5cdH1cblxuXHRtaWNyb190YXNrcy5wdXNoKGZuKTtcbn1cblxuLyoqXG4gKiBTeW5jaHJvbm91c2x5IHJ1biBhbnkgcXVldWVkIHRhc2tzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmx1c2hfdGFza3MoKSB7XG5cdHdoaWxlIChtaWNyb190YXNrcy5sZW5ndGggPiAwKSB7XG5cdFx0cnVuX21pY3JvX3Rhc2tzKCk7XG5cdH1cbn1cbiIsIi8qIFRoaXMgZmlsZSBpcyBnZW5lcmF0ZWQgYnkgc2NyaXB0cy9wcm9jZXNzLW1lc3NhZ2VzL2luZGV4LmpzLiBEbyBub3QgZWRpdCEgKi9cblxuaW1wb3J0IHsgREVWIH0gZnJvbSAnZXNtLWVudic7XG5cbnZhciBib2xkID0gJ2ZvbnQtd2VpZ2h0OiBib2xkJztcbnZhciBub3JtYWwgPSAnZm9udC13ZWlnaHQ6IG5vcm1hbCc7XG5cbi8qKlxuICogQXNzaWdubWVudCB0byBgJXByb3BlcnR5JWAgcHJvcGVydHkgKCVsb2NhdGlvbiUpIHdpbGwgZXZhbHVhdGUgdG8gdGhlIHJpZ2h0LWhhbmQgc2lkZSwgbm90IHRoZSB2YWx1ZSBvZiBgJXByb3BlcnR5JWAgZm9sbG93aW5nIHRoZSBhc3NpZ25tZW50LiBUaGlzIG1heSByZXN1bHQgaW4gdW5leHBlY3RlZCBiZWhhdmlvdXIuXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlcbiAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzaWdubWVudF92YWx1ZV9zdGFsZShwcm9wZXJ0eSwgbG9jYXRpb24pIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnNvbGUud2FybihgJWNbc3ZlbHRlXSBhc3NpZ25tZW50X3ZhbHVlX3N0YWxlXFxuJWNBc3NpZ25tZW50IHRvIFxcYCR7cHJvcGVydHl9XFxgIHByb3BlcnR5ICgke2xvY2F0aW9ufSkgd2lsbCBldmFsdWF0ZSB0byB0aGUgcmlnaHQtaGFuZCBzaWRlLCBub3QgdGhlIHZhbHVlIG9mIFxcYCR7cHJvcGVydHl9XFxgIGZvbGxvd2luZyB0aGUgYXNzaWdubWVudC4gVGhpcyBtYXkgcmVzdWx0IGluIHVuZXhwZWN0ZWQgYmVoYXZpb3VyLlxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2Fzc2lnbm1lbnRfdmFsdWVfc3RhbGVgLCBib2xkLCBub3JtYWwpO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnNvbGUud2FybihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvYXNzaWdubWVudF92YWx1ZV9zdGFsZWApO1xuXHR9XG59XG5cbi8qKlxuICogRGV0ZWN0ZWQgcmVhY3Rpdml0eSBsb3NzIHdoZW4gcmVhZGluZyBgJW5hbWUlYC4gVGhpcyBoYXBwZW5zIHdoZW4gc3RhdGUgaXMgcmVhZCBpbiBhbiBhc3luYyBmdW5jdGlvbiBhZnRlciBhbiBlYXJsaWVyIGBhd2FpdGBcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhd2FpdF9yZWFjdGl2aXR5X2xvc3MobmFtZSkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc29sZS53YXJuKGAlY1tzdmVsdGVdIGF3YWl0X3JlYWN0aXZpdHlfbG9zc1xcbiVjRGV0ZWN0ZWQgcmVhY3Rpdml0eSBsb3NzIHdoZW4gcmVhZGluZyBcXGAke25hbWV9XFxgLiBUaGlzIGhhcHBlbnMgd2hlbiBzdGF0ZSBpcyByZWFkIGluIGFuIGFzeW5jIGZ1bmN0aW9uIGFmdGVyIGFuIGVhcmxpZXIgXFxgYXdhaXRcXGBcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9hd2FpdF9yZWFjdGl2aXR5X2xvc3NgLCBib2xkLCBub3JtYWwpO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnNvbGUud2FybihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvYXdhaXRfcmVhY3Rpdml0eV9sb3NzYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBBbiBhc3luYyBkZXJpdmVkLCBgJW5hbWUlYCAoJWxvY2F0aW9uJSkgd2FzIG5vdCByZWFkIGltbWVkaWF0ZWx5IGFmdGVyIGl0IHJlc29sdmVkLiBUaGlzIG9mdGVuIGluZGljYXRlcyBhbiB1bm5lY2Vzc2FyeSB3YXRlcmZhbGwsIHdoaWNoIGNhbiBzbG93IGRvd24geW91ciBhcHBcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge3N0cmluZ30gbG9jYXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGF3YWl0X3dhdGVyZmFsbChuYW1lLCBsb2NhdGlvbikge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc29sZS53YXJuKGAlY1tzdmVsdGVdIGF3YWl0X3dhdGVyZmFsbFxcbiVjQW4gYXN5bmMgZGVyaXZlZCwgXFxgJHtuYW1lfVxcYCAoJHtsb2NhdGlvbn0pIHdhcyBub3QgcmVhZCBpbW1lZGlhdGVseSBhZnRlciBpdCByZXNvbHZlZC4gVGhpcyBvZnRlbiBpbmRpY2F0ZXMgYW4gdW5uZWNlc3Nhcnkgd2F0ZXJmYWxsLCB3aGljaCBjYW4gc2xvdyBkb3duIHlvdXIgYXBwXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvYXdhaXRfd2F0ZXJmYWxsYCwgYm9sZCwgbm9ybWFsKTtcblx0fSBlbHNlIHtcblx0XHRjb25zb2xlLndhcm4oYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2F3YWl0X3dhdGVyZmFsbGApO1xuXHR9XG59XG5cbi8qKlxuICogYCViaW5kaW5nJWAgKCVsb2NhdGlvbiUpIGlzIGJpbmRpbmcgdG8gYSBub24tcmVhY3RpdmUgcHJvcGVydHlcbiAqIEBwYXJhbSB7c3RyaW5nfSBiaW5kaW5nXG4gKiBAcGFyYW0ge3N0cmluZyB8IHVuZGVmaW5lZCB8IG51bGx9IFtsb2NhdGlvbl1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmRpbmdfcHJvcGVydHlfbm9uX3JlYWN0aXZlKGJpbmRpbmcsIGxvY2F0aW9uKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRgJWNbc3ZlbHRlXSBiaW5kaW5nX3Byb3BlcnR5X25vbl9yZWFjdGl2ZVxcbiVjJHtsb2NhdGlvblxuXHRcdFx0XHQ/IGBcXGAke2JpbmRpbmd9XFxgICgke2xvY2F0aW9ufSkgaXMgYmluZGluZyB0byBhIG5vbi1yZWFjdGl2ZSBwcm9wZXJ0eWBcblx0XHRcdFx0OiBgXFxgJHtiaW5kaW5nfVxcYCBpcyBiaW5kaW5nIHRvIGEgbm9uLXJlYWN0aXZlIHByb3BlcnR5YH1cXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9iaW5kaW5nX3Byb3BlcnR5X25vbl9yZWFjdGl2ZWAsXG5cdFx0XHRib2xkLFxuXHRcdFx0bm9ybWFsXG5cdFx0KTtcblx0fSBlbHNlIHtcblx0XHRjb25zb2xlLndhcm4oYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2JpbmRpbmdfcHJvcGVydHlfbm9uX3JlYWN0aXZlYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBZb3VyIGBjb25zb2xlLiVtZXRob2QlYCBjb250YWluZWQgYCRzdGF0ZWAgcHJveGllcy4gQ29uc2lkZXIgdXNpbmcgYCRpbnNwZWN0KC4uLilgIG9yIGAkc3RhdGUuc25hcHNob3QoLi4uKWAgaW5zdGVhZFxuICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29uc29sZV9sb2dfc3RhdGUobWV0aG9kKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zb2xlLndhcm4oYCVjW3N2ZWx0ZV0gY29uc29sZV9sb2dfc3RhdGVcXG4lY1lvdXIgXFxgY29uc29sZS4ke21ldGhvZH1cXGAgY29udGFpbmVkIFxcYCRzdGF0ZVxcYCBwcm94aWVzLiBDb25zaWRlciB1c2luZyBcXGAkaW5zcGVjdCguLi4pXFxgIG9yIFxcYCRzdGF0ZS5zbmFwc2hvdCguLi4pXFxgIGluc3RlYWRcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9jb25zb2xlX2xvZ19zdGF0ZWAsIGJvbGQsIG5vcm1hbCk7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc29sZS53YXJuKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9jb25zb2xlX2xvZ19zdGF0ZWApO1xuXHR9XG59XG5cbi8qKlxuICogJWhhbmRsZXIlIHNob3VsZCBiZSBhIGZ1bmN0aW9uLiBEaWQgeW91IG1lYW4gdG8gJXN1Z2dlc3Rpb24lP1xuICogQHBhcmFtIHtzdHJpbmd9IGhhbmRsZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdWdnZXN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBldmVudF9oYW5kbGVyX2ludmFsaWQoaGFuZGxlciwgc3VnZ2VzdGlvbikge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc29sZS53YXJuKGAlY1tzdmVsdGVdIGV2ZW50X2hhbmRsZXJfaW52YWxpZFxcbiVjJHtoYW5kbGVyfSBzaG91bGQgYmUgYSBmdW5jdGlvbi4gRGlkIHlvdSBtZWFuIHRvICR7c3VnZ2VzdGlvbn0/XFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvZXZlbnRfaGFuZGxlcl9pbnZhbGlkYCwgYm9sZCwgbm9ybWFsKTtcblx0fSBlbHNlIHtcblx0XHRjb25zb2xlLndhcm4oYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2V2ZW50X2hhbmRsZXJfaW52YWxpZGApO1xuXHR9XG59XG5cbi8qKlxuICogRXhwZWN0ZWQgdG8gZmluZCBhIGh5ZHJhdGFibGUgd2l0aCBrZXkgYCVrZXklYCBkdXJpbmcgaHlkcmF0aW9uLCBidXQgZGlkIG5vdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGFibGVfbWlzc2luZ19idXRfZXhwZWN0ZWQoa2V5KSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zb2xlLndhcm4oYCVjW3N2ZWx0ZV0gaHlkcmF0YWJsZV9taXNzaW5nX2J1dF9leHBlY3RlZFxcbiVjRXhwZWN0ZWQgdG8gZmluZCBhIGh5ZHJhdGFibGUgd2l0aCBrZXkgXFxgJHtrZXl9XFxgIGR1cmluZyBoeWRyYXRpb24sIGJ1dCBkaWQgbm90Llxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2h5ZHJhdGFibGVfbWlzc2luZ19idXRfZXhwZWN0ZWRgLCBib2xkLCBub3JtYWwpO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnNvbGUud2FybihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvaHlkcmF0YWJsZV9taXNzaW5nX2J1dF9leHBlY3RlZGApO1xuXHR9XG59XG5cbi8qKlxuICogVGhlIGAlYXR0cmlidXRlJWAgYXR0cmlidXRlIG9uIGAlaHRtbCVgIGNoYW5nZWQgaXRzIHZhbHVlIGJldHdlZW4gc2VydmVyIGFuZCBjbGllbnQgcmVuZGVycy4gVGhlIGNsaWVudCB2YWx1ZSwgYCV2YWx1ZSVgLCB3aWxsIGJlIGlnbm9yZWQgaW4gZmF2b3VyIG9mIHRoZSBzZXJ2ZXIgdmFsdWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBodG1sXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGlvbl9hdHRyaWJ1dGVfY2hhbmdlZChhdHRyaWJ1dGUsIGh0bWwsIHZhbHVlKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zb2xlLndhcm4oYCVjW3N2ZWx0ZV0gaHlkcmF0aW9uX2F0dHJpYnV0ZV9jaGFuZ2VkXFxuJWNUaGUgXFxgJHthdHRyaWJ1dGV9XFxgIGF0dHJpYnV0ZSBvbiBcXGAke2h0bWx9XFxgIGNoYW5nZWQgaXRzIHZhbHVlIGJldHdlZW4gc2VydmVyIGFuZCBjbGllbnQgcmVuZGVycy4gVGhlIGNsaWVudCB2YWx1ZSwgXFxgJHt2YWx1ZX1cXGAsIHdpbGwgYmUgaWdub3JlZCBpbiBmYXZvdXIgb2YgdGhlIHNlcnZlciB2YWx1ZVxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2h5ZHJhdGlvbl9hdHRyaWJ1dGVfY2hhbmdlZGAsIGJvbGQsIG5vcm1hbCk7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc29sZS53YXJuKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9oeWRyYXRpb25fYXR0cmlidXRlX2NoYW5nZWRgKTtcblx0fVxufVxuXG4vKipcbiAqIFRoZSB2YWx1ZSBvZiBhbiBge0BodG1sIC4uLn1gIGJsb2NrICVsb2NhdGlvbiUgY2hhbmdlZCBiZXR3ZWVuIHNlcnZlciBhbmQgY2xpZW50IHJlbmRlcnMuIFRoZSBjbGllbnQgdmFsdWUgd2lsbCBiZSBpZ25vcmVkIGluIGZhdm91ciBvZiB0aGUgc2VydmVyIHZhbHVlXG4gKiBAcGFyYW0ge3N0cmluZyB8IHVuZGVmaW5lZCB8IG51bGx9IFtsb2NhdGlvbl1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGlvbl9odG1sX2NoYW5nZWQobG9jYXRpb24pIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnNvbGUud2Fybihcblx0XHRcdGAlY1tzdmVsdGVdIGh5ZHJhdGlvbl9odG1sX2NoYW5nZWRcXG4lYyR7bG9jYXRpb25cblx0XHRcdFx0PyBgVGhlIHZhbHVlIG9mIGFuIFxcYHtAaHRtbCAuLi59XFxgIGJsb2NrICR7bG9jYXRpb259IGNoYW5nZWQgYmV0d2VlbiBzZXJ2ZXIgYW5kIGNsaWVudCByZW5kZXJzLiBUaGUgY2xpZW50IHZhbHVlIHdpbGwgYmUgaWdub3JlZCBpbiBmYXZvdXIgb2YgdGhlIHNlcnZlciB2YWx1ZWBcblx0XHRcdFx0OiAnVGhlIHZhbHVlIG9mIGFuIGB7QGh0bWwgLi4ufWAgYmxvY2sgY2hhbmdlZCBiZXR3ZWVuIHNlcnZlciBhbmQgY2xpZW50IHJlbmRlcnMuIFRoZSBjbGllbnQgdmFsdWUgd2lsbCBiZSBpZ25vcmVkIGluIGZhdm91ciBvZiB0aGUgc2VydmVyIHZhbHVlJ31cXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9oeWRyYXRpb25faHRtbF9jaGFuZ2VkYCxcblx0XHRcdGJvbGQsXG5cdFx0XHRub3JtYWxcblx0XHQpO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnNvbGUud2FybihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvaHlkcmF0aW9uX2h0bWxfY2hhbmdlZGApO1xuXHR9XG59XG5cbi8qKlxuICogSHlkcmF0aW9uIGZhaWxlZCBiZWNhdXNlIHRoZSBpbml0aWFsIFVJIGRvZXMgbm90IG1hdGNoIHdoYXQgd2FzIHJlbmRlcmVkIG9uIHRoZSBzZXJ2ZXIuIFRoZSBlcnJvciBvY2N1cnJlZCBuZWFyICVsb2NhdGlvbiVcbiAqIEBwYXJhbSB7c3RyaW5nIHwgdW5kZWZpbmVkIHwgbnVsbH0gW2xvY2F0aW9uXVxuICovXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0aW9uX21pc21hdGNoKGxvY2F0aW9uKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRgJWNbc3ZlbHRlXSBoeWRyYXRpb25fbWlzbWF0Y2hcXG4lYyR7bG9jYXRpb25cblx0XHRcdFx0PyBgSHlkcmF0aW9uIGZhaWxlZCBiZWNhdXNlIHRoZSBpbml0aWFsIFVJIGRvZXMgbm90IG1hdGNoIHdoYXQgd2FzIHJlbmRlcmVkIG9uIHRoZSBzZXJ2ZXIuIFRoZSBlcnJvciBvY2N1cnJlZCBuZWFyICR7bG9jYXRpb259YFxuXHRcdFx0XHQ6ICdIeWRyYXRpb24gZmFpbGVkIGJlY2F1c2UgdGhlIGluaXRpYWwgVUkgZG9lcyBub3QgbWF0Y2ggd2hhdCB3YXMgcmVuZGVyZWQgb24gdGhlIHNlcnZlcid9XFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvaHlkcmF0aW9uX21pc21hdGNoYCxcblx0XHRcdGJvbGQsXG5cdFx0XHRub3JtYWxcblx0XHQpO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnNvbGUud2FybihgaHR0cHM6Ly9zdmVsdGUuZGV2L2UvaHlkcmF0aW9uX21pc21hdGNoYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBUaGUgYHJlbmRlcmAgZnVuY3Rpb24gcGFzc2VkIHRvIGBjcmVhdGVSYXdTbmlwcGV0YCBzaG91bGQgcmV0dXJuIEhUTUwgZm9yIGEgc2luZ2xlIGVsZW1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludmFsaWRfcmF3X3NuaXBwZXRfcmVuZGVyKCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc29sZS53YXJuKGAlY1tzdmVsdGVdIGludmFsaWRfcmF3X3NuaXBwZXRfcmVuZGVyXFxuJWNUaGUgXFxgcmVuZGVyXFxgIGZ1bmN0aW9uIHBhc3NlZCB0byBcXGBjcmVhdGVSYXdTbmlwcGV0XFxgIHNob3VsZCByZXR1cm4gSFRNTCBmb3IgYSBzaW5nbGUgZWxlbWVudFxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL2ludmFsaWRfcmF3X3NuaXBwZXRfcmVuZGVyYCwgYm9sZCwgbm9ybWFsKTtcblx0fSBlbHNlIHtcblx0XHRjb25zb2xlLndhcm4oYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2ludmFsaWRfcmF3X3NuaXBwZXRfcmVuZGVyYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBEZXRlY3RlZCBhIG1pZ3JhdGVkIGAkOmAgcmVhY3RpdmUgYmxvY2sgaW4gYCVmaWxlbmFtZSVgIHRoYXQgYm90aCBhY2Nlc3NlcyBhbmQgdXBkYXRlcyB0aGUgc2FtZSByZWFjdGl2ZSB2YWx1ZS4gVGhpcyBtYXkgY2F1c2UgcmVjdXJzaXZlIHVwZGF0ZXMgd2hlbiBjb252ZXJ0ZWQgdG8gYW4gYCRlZmZlY3RgLlxuICogQHBhcmFtIHtzdHJpbmd9IGZpbGVuYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsZWdhY3lfcmVjdXJzaXZlX3JlYWN0aXZlX2Jsb2NrKGZpbGVuYW1lKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zb2xlLndhcm4oYCVjW3N2ZWx0ZV0gbGVnYWN5X3JlY3Vyc2l2ZV9yZWFjdGl2ZV9ibG9ja1xcbiVjRGV0ZWN0ZWQgYSBtaWdyYXRlZCBcXGAkOlxcYCByZWFjdGl2ZSBibG9jayBpbiBcXGAke2ZpbGVuYW1lfVxcYCB0aGF0IGJvdGggYWNjZXNzZXMgYW5kIHVwZGF0ZXMgdGhlIHNhbWUgcmVhY3RpdmUgdmFsdWUuIFRoaXMgbWF5IGNhdXNlIHJlY3Vyc2l2ZSB1cGRhdGVzIHdoZW4gY29udmVydGVkIHRvIGFuIFxcYCRlZmZlY3RcXGAuXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvbGVnYWN5X3JlY3Vyc2l2ZV9yZWFjdGl2ZV9ibG9ja2AsIGJvbGQsIG5vcm1hbCk7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc29sZS53YXJuKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9sZWdhY3lfcmVjdXJzaXZlX3JlYWN0aXZlX2Jsb2NrYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBUcmllZCB0byB1bm1vdW50IGEgY29tcG9uZW50IHRoYXQgd2FzIG5vdCBtb3VudGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaWZlY3ljbGVfZG91YmxlX3VubW91bnQoKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zb2xlLndhcm4oYCVjW3N2ZWx0ZV0gbGlmZWN5Y2xlX2RvdWJsZV91bm1vdW50XFxuJWNUcmllZCB0byB1bm1vdW50IGEgY29tcG9uZW50IHRoYXQgd2FzIG5vdCBtb3VudGVkXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvbGlmZWN5Y2xlX2RvdWJsZV91bm1vdW50YCwgYm9sZCwgbm9ybWFsKTtcblx0fSBlbHNlIHtcblx0XHRjb25zb2xlLndhcm4oYGh0dHBzOi8vc3ZlbHRlLmRldi9lL2xpZmVjeWNsZV9kb3VibGVfdW5tb3VudGApO1xuXHR9XG59XG5cbi8qKlxuICogJXBhcmVudCUgcGFzc2VkIHByb3BlcnR5IGAlcHJvcCVgIHRvICVjaGlsZCUgd2l0aCBgYmluZDpgLCBidXQgaXRzIHBhcmVudCBjb21wb25lbnQgJW93bmVyJSBkaWQgbm90IGRlY2xhcmUgYCVwcm9wJWAgYXMgYSBiaW5kaW5nLiBDb25zaWRlciBjcmVhdGluZyBhIGJpbmRpbmcgYmV0d2VlbiAlb3duZXIlIGFuZCAlcGFyZW50JSAoZS5nLiBgYmluZDolcHJvcCU9ey4uLn1gIGluc3RlYWQgb2YgYCVwcm9wJT17Li4ufWApXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFyZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcFxuICogQHBhcmFtIHtzdHJpbmd9IGNoaWxkXG4gKiBAcGFyYW0ge3N0cmluZ30gb3duZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG93bmVyc2hpcF9pbnZhbGlkX2JpbmRpbmcocGFyZW50LCBwcm9wLCBjaGlsZCwgb3duZXIpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnNvbGUud2FybihgJWNbc3ZlbHRlXSBvd25lcnNoaXBfaW52YWxpZF9iaW5kaW5nXFxuJWMke3BhcmVudH0gcGFzc2VkIHByb3BlcnR5IFxcYCR7cHJvcH1cXGAgdG8gJHtjaGlsZH0gd2l0aCBcXGBiaW5kOlxcYCwgYnV0IGl0cyBwYXJlbnQgY29tcG9uZW50ICR7b3duZXJ9IGRpZCBub3QgZGVjbGFyZSBcXGAke3Byb3B9XFxgIGFzIGEgYmluZGluZy4gQ29uc2lkZXIgY3JlYXRpbmcgYSBiaW5kaW5nIGJldHdlZW4gJHtvd25lcn0gYW5kICR7cGFyZW50fSAoZS5nLiBcXGBiaW5kOiR7cHJvcH09ey4uLn1cXGAgaW5zdGVhZCBvZiBcXGAke3Byb3B9PXsuLi59XFxgKVxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL293bmVyc2hpcF9pbnZhbGlkX2JpbmRpbmdgLCBib2xkLCBub3JtYWwpO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnNvbGUud2FybihgaHR0cHM6Ly9zdmVsdGUuZGV2L2Uvb3duZXJzaGlwX2ludmFsaWRfYmluZGluZ2ApO1xuXHR9XG59XG5cbi8qKlxuICogTXV0YXRpbmcgdW5ib3VuZCBwcm9wcyAoYCVuYW1lJWAsIGF0ICVsb2NhdGlvbiUpIGlzIHN0cm9uZ2x5IGRpc2NvdXJhZ2VkLiBDb25zaWRlciB1c2luZyBgYmluZDolcHJvcCU9ey4uLn1gIGluICVwYXJlbnQlIChvciB1c2luZyBhIGNhbGxiYWNrKSBpbnN0ZWFkXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHBhcmFtIHtzdHJpbmd9IGxvY2F0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcFxuICogQHBhcmFtIHtzdHJpbmd9IHBhcmVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gb3duZXJzaGlwX2ludmFsaWRfbXV0YXRpb24obmFtZSwgbG9jYXRpb24sIHByb3AsIHBhcmVudCkge1xuXHRpZiAoREVWKSB7XG5cdFx0Y29uc29sZS53YXJuKGAlY1tzdmVsdGVdIG93bmVyc2hpcF9pbnZhbGlkX211dGF0aW9uXFxuJWNNdXRhdGluZyB1bmJvdW5kIHByb3BzIChcXGAke25hbWV9XFxgLCBhdCAke2xvY2F0aW9ufSkgaXMgc3Ryb25nbHkgZGlzY291cmFnZWQuIENvbnNpZGVyIHVzaW5nIFxcYGJpbmQ6JHtwcm9wfT17Li4ufVxcYCBpbiAke3BhcmVudH0gKG9yIHVzaW5nIGEgY2FsbGJhY2spIGluc3RlYWRcXG5odHRwczovL3N2ZWx0ZS5kZXYvZS9vd25lcnNoaXBfaW52YWxpZF9tdXRhdGlvbmAsIGJvbGQsIG5vcm1hbCk7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc29sZS53YXJuKGBodHRwczovL3N2ZWx0ZS5kZXYvZS9vd25lcnNoaXBfaW52YWxpZF9tdXRhdGlvbmApO1xuXHR9XG59XG5cbi8qKlxuICogVGhlIGB2YWx1ZWAgcHJvcGVydHkgb2YgYSBgPHNlbGVjdCBtdWx0aXBsZT5gIGVsZW1lbnQgc2hvdWxkIGJlIGFuIGFycmF5LCBidXQgaXQgcmVjZWl2ZWQgYSBub24tYXJyYXkgdmFsdWUuIFRoZSBzZWxlY3Rpb24gd2lsbCBiZSBrZXB0IGFzIGlzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0X211bHRpcGxlX2ludmFsaWRfdmFsdWUoKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zb2xlLndhcm4oYCVjW3N2ZWx0ZV0gc2VsZWN0X211bHRpcGxlX2ludmFsaWRfdmFsdWVcXG4lY1RoZSBcXGB2YWx1ZVxcYCBwcm9wZXJ0eSBvZiBhIFxcYDxzZWxlY3QgbXVsdGlwbGU+XFxgIGVsZW1lbnQgc2hvdWxkIGJlIGFuIGFycmF5LCBidXQgaXQgcmVjZWl2ZWQgYSBub24tYXJyYXkgdmFsdWUuIFRoZSBzZWxlY3Rpb24gd2lsbCBiZSBrZXB0IGFzIGlzLlxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL3NlbGVjdF9tdWx0aXBsZV9pbnZhbGlkX3ZhbHVlYCwgYm9sZCwgbm9ybWFsKTtcblx0fSBlbHNlIHtcblx0XHRjb25zb2xlLndhcm4oYGh0dHBzOi8vc3ZlbHRlLmRldi9lL3NlbGVjdF9tdWx0aXBsZV9pbnZhbGlkX3ZhbHVlYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBSZWFjdGl2ZSBgJHN0YXRlKC4uLilgIHByb3hpZXMgYW5kIHRoZSB2YWx1ZXMgdGhleSBwcm94eSBoYXZlIGRpZmZlcmVudCBpZGVudGl0aWVzLiBCZWNhdXNlIG9mIHRoaXMsIGNvbXBhcmlzb25zIHdpdGggYCVvcGVyYXRvciVgIHdpbGwgcHJvZHVjZSB1bmV4cGVjdGVkIHJlc3VsdHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBvcGVyYXRvclxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhdGVfcHJveHlfZXF1YWxpdHlfbWlzbWF0Y2gob3BlcmF0b3IpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnNvbGUud2FybihgJWNbc3ZlbHRlXSBzdGF0ZV9wcm94eV9lcXVhbGl0eV9taXNtYXRjaFxcbiVjUmVhY3RpdmUgXFxgJHN0YXRlKC4uLilcXGAgcHJveGllcyBhbmQgdGhlIHZhbHVlcyB0aGV5IHByb3h5IGhhdmUgZGlmZmVyZW50IGlkZW50aXRpZXMuIEJlY2F1c2Ugb2YgdGhpcywgY29tcGFyaXNvbnMgd2l0aCBcXGAke29wZXJhdG9yfVxcYCB3aWxsIHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2Uvc3RhdGVfcHJveHlfZXF1YWxpdHlfbWlzbWF0Y2hgLCBib2xkLCBub3JtYWwpO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnNvbGUud2FybihgaHR0cHM6Ly9zdmVsdGUuZGV2L2Uvc3RhdGVfcHJveHlfZXF1YWxpdHlfbWlzbWF0Y2hgKTtcblx0fVxufVxuXG4vKipcbiAqIFRyaWVkIHRvIHVubW91bnQgYSBzdGF0ZSBwcm94eSwgcmF0aGVyIHRoYW4gYSBjb21wb25lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXRlX3Byb3h5X3VubW91bnQoKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zb2xlLndhcm4oYCVjW3N2ZWx0ZV0gc3RhdGVfcHJveHlfdW5tb3VudFxcbiVjVHJpZWQgdG8gdW5tb3VudCBhIHN0YXRlIHByb3h5LCByYXRoZXIgdGhhbiBhIGNvbXBvbmVudFxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL3N0YXRlX3Byb3h5X3VubW91bnRgLCBib2xkLCBub3JtYWwpO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnNvbGUud2FybihgaHR0cHM6Ly9zdmVsdGUuZGV2L2Uvc3RhdGVfcHJveHlfdW5tb3VudGApO1xuXHR9XG59XG5cbi8qKlxuICogQSBgPHN2ZWx0ZTpib3VuZGFyeT5gIGByZXNldGAgZnVuY3Rpb24gb25seSByZXNldHMgdGhlIGJvdW5kYXJ5IHRoZSBmaXJzdCB0aW1lIGl0IGlzIGNhbGxlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3ZlbHRlX2JvdW5kYXJ5X3Jlc2V0X25vb3AoKSB7XG5cdGlmIChERVYpIHtcblx0XHRjb25zb2xlLndhcm4oYCVjW3N2ZWx0ZV0gc3ZlbHRlX2JvdW5kYXJ5X3Jlc2V0X25vb3BcXG4lY0EgXFxgPHN2ZWx0ZTpib3VuZGFyeT5cXGAgXFxgcmVzZXRcXGAgZnVuY3Rpb24gb25seSByZXNldHMgdGhlIGJvdW5kYXJ5IHRoZSBmaXJzdCB0aW1lIGl0IGlzIGNhbGxlZFxcbmh0dHBzOi8vc3ZlbHRlLmRldi9lL3N2ZWx0ZV9ib3VuZGFyeV9yZXNldF9ub29wYCwgYm9sZCwgbm9ybWFsKTtcblx0fSBlbHNlIHtcblx0XHRjb25zb2xlLndhcm4oYGh0dHBzOi8vc3ZlbHRlLmRldi9lL3N2ZWx0ZV9ib3VuZGFyeV9yZXNldF9ub29wYCk7XG5cdH1cbn1cblxuLyoqXG4gKiBUaGUgYHNsaWRlYCB0cmFuc2l0aW9uIGRvZXMgbm90IHdvcmsgY29ycmVjdGx5IGZvciBlbGVtZW50cyB3aXRoIGBkaXNwbGF5OiAldmFsdWUlYFxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2l0aW9uX3NsaWRlX2Rpc3BsYXkodmFsdWUpIHtcblx0aWYgKERFVikge1xuXHRcdGNvbnNvbGUud2FybihgJWNbc3ZlbHRlXSB0cmFuc2l0aW9uX3NsaWRlX2Rpc3BsYXlcXG4lY1RoZSBcXGBzbGlkZVxcYCB0cmFuc2l0aW9uIGRvZXMgbm90IHdvcmsgY29ycmVjdGx5IGZvciBlbGVtZW50cyB3aXRoIFxcYGRpc3BsYXk6ICR7dmFsdWV9XFxgXFxuaHR0cHM6Ly9zdmVsdGUuZGV2L2UvdHJhbnNpdGlvbl9zbGlkZV9kaXNwbGF5YCwgYm9sZCwgbm9ybWFsKTtcblx0fSBlbHNlIHtcblx0XHRjb25zb2xlLndhcm4oYGh0dHBzOi8vc3ZlbHRlLmRldi9lL3RyYW5zaXRpb25fc2xpZGVfZGlzcGxheWApO1xuXHR9XG59IiwiLyoqIEBpbXBvcnQgeyBTb3VyY2UgfSBmcm9tICcjY2xpZW50JyAqL1xuaW1wb3J0IHsgREVWIH0gZnJvbSAnZXNtLWVudic7XG5pbXBvcnQge1xuXHRnZXQsXG5cdGFjdGl2ZV9lZmZlY3QsXG5cdHVwZGF0ZV92ZXJzaW9uLFxuXHRhY3RpdmVfcmVhY3Rpb24sXG5cdHNldF91cGRhdGVfdmVyc2lvbixcblx0c2V0X2FjdGl2ZV9yZWFjdGlvblxufSBmcm9tICcuL3J1bnRpbWUuanMnO1xuaW1wb3J0IHtcblx0YXJyYXlfcHJvdG90eXBlLFxuXHRnZXRfZGVzY3JpcHRvcixcblx0Z2V0X3Byb3RvdHlwZV9vZixcblx0aXNfYXJyYXksXG5cdG9iamVjdF9wcm90b3R5cGVcbn0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzLmpzJztcbmltcG9ydCB7XG5cdHN0YXRlIGFzIHNvdXJjZSxcblx0c2V0LFxuXHRpbmNyZW1lbnQsXG5cdGZsdXNoX2VhZ2VyX2VmZmVjdHMsXG5cdHNldF9lYWdlcl9lZmZlY3RzX2RlZmVycmVkXG59IGZyb20gJy4vcmVhY3Rpdml0eS9zb3VyY2VzLmpzJztcbmltcG9ydCB7IFBST1hZX1BBVEhfU1lNQk9MLCBTVEFURV9TWU1CT0wgfSBmcm9tICcjY2xpZW50L2NvbnN0YW50cyc7XG5pbXBvcnQgeyBVTklOSVRJQUxJWkVEIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzLmpzJztcbmltcG9ydCAqIGFzIGUgZnJvbSAnLi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgdGFnIH0gZnJvbSAnLi9kZXYvdHJhY2luZy5qcyc7XG5pbXBvcnQgeyBnZXRfZXJyb3IgfSBmcm9tICcuLi9zaGFyZWQvZGV2LmpzJztcbmltcG9ydCB7IHRyYWNpbmdfbW9kZV9mbGFnIH0gZnJvbSAnLi4vZmxhZ3MvaW5kZXguanMnO1xuXG4vLyBUT0RPIG1vdmUgYWxsIHJlZ2V4ZXMgaW50byBzaGFyZWQgbW9kdWxlP1xuY29uc3QgcmVnZXhfaXNfdmFsaWRfaWRlbnRpZmllciA9IC9eW2EtekEtWl8kXVthLXpBLVpfJDAtOV0qJC87XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7VH0gdmFsdWVcbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJveHkodmFsdWUpIHtcblx0Ly8gaWYgbm9uLXByb3h5YWJsZSwgb3IgaXMgYWxyZWFkeSBhIHByb3h5LCByZXR1cm4gYHZhbHVlYFxuXHRpZiAodHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0JyB8fCB2YWx1ZSA9PT0gbnVsbCB8fCBTVEFURV9TWU1CT0wgaW4gdmFsdWUpIHtcblx0XHRyZXR1cm4gdmFsdWU7XG5cdH1cblxuXHRjb25zdCBwcm90b3R5cGUgPSBnZXRfcHJvdG90eXBlX29mKHZhbHVlKTtcblxuXHRpZiAocHJvdG90eXBlICE9PSBvYmplY3RfcHJvdG90eXBlICYmIHByb3RvdHlwZSAhPT0gYXJyYXlfcHJvdG90eXBlKSB7XG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9XG5cblx0LyoqIEB0eXBlIHtNYXA8YW55LCBTb3VyY2U8YW55Pj59ICovXG5cdHZhciBzb3VyY2VzID0gbmV3IE1hcCgpO1xuXHR2YXIgaXNfcHJveGllZF9hcnJheSA9IGlzX2FycmF5KHZhbHVlKTtcblx0dmFyIHZlcnNpb24gPSBzb3VyY2UoMCk7XG5cblx0dmFyIHN0YWNrID0gREVWICYmIHRyYWNpbmdfbW9kZV9mbGFnID8gZ2V0X2Vycm9yKCdjcmVhdGVkIGF0JykgOiBudWxsO1xuXHR2YXIgcGFyZW50X3ZlcnNpb24gPSB1cGRhdGVfdmVyc2lvbjtcblxuXHQvKipcblx0ICogRXhlY3V0ZXMgdGhlIHByb3h5IGluIHRoZSBjb250ZXh0IG9mIHRoZSByZWFjdGlvbiBpdCB3YXMgb3JpZ2luYWxseSBjcmVhdGVkIGluLCBpZiBhbnlcblx0ICogQHRlbXBsYXRlIFRcblx0ICogQHBhcmFtIHsoKSA9PiBUfSBmblxuXHQgKi9cblx0dmFyIHdpdGhfcGFyZW50ID0gKGZuKSA9PiB7XG5cdFx0aWYgKHVwZGF0ZV92ZXJzaW9uID09PSBwYXJlbnRfdmVyc2lvbikge1xuXHRcdFx0cmV0dXJuIGZuKCk7XG5cdFx0fVxuXG5cdFx0Ly8gY2hpbGQgc291cmNlIGlzIGJlaW5nIGNyZWF0ZWQgYWZ0ZXIgdGhlIGluaXRpYWwgcHJveHkg4oCUXG5cdFx0Ly8gcHJldmVudCBpdCBmcm9tIGJlaW5nIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCByZWFjdGlvblxuXHRcdHZhciByZWFjdGlvbiA9IGFjdGl2ZV9yZWFjdGlvbjtcblx0XHR2YXIgdmVyc2lvbiA9IHVwZGF0ZV92ZXJzaW9uO1xuXG5cdFx0c2V0X2FjdGl2ZV9yZWFjdGlvbihudWxsKTtcblx0XHRzZXRfdXBkYXRlX3ZlcnNpb24ocGFyZW50X3ZlcnNpb24pO1xuXG5cdFx0dmFyIHJlc3VsdCA9IGZuKCk7XG5cblx0XHRzZXRfYWN0aXZlX3JlYWN0aW9uKHJlYWN0aW9uKTtcblx0XHRzZXRfdXBkYXRlX3ZlcnNpb24odmVyc2lvbik7XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9O1xuXG5cdGlmIChpc19wcm94aWVkX2FycmF5KSB7XG5cdFx0Ly8gV2UgbmVlZCB0byBjcmVhdGUgdGhlIGxlbmd0aCBzb3VyY2UgZWFnZXJseSB0byBlbnN1cmUgdGhhdFxuXHRcdC8vIG11dGF0aW9ucyB0byB0aGUgYXJyYXkgYXJlIHByb3Blcmx5IHN5bmNlZCB3aXRoIG91ciBwcm94eVxuXHRcdHNvdXJjZXMuc2V0KCdsZW5ndGgnLCBzb3VyY2UoLyoqIEB0eXBlIHthbnlbXX0gKi8gKHZhbHVlKS5sZW5ndGgsIHN0YWNrKSk7XG5cdFx0aWYgKERFVikge1xuXHRcdFx0dmFsdWUgPSAvKiogQHR5cGUge2FueX0gKi8gKGluc3BlY3RhYmxlX2FycmF5KC8qKiBAdHlwZSB7YW55W119ICovICh2YWx1ZSkpKTtcblx0XHR9XG5cdH1cblxuXHQvKiogVXNlZCBpbiBkZXYgZm9yICRpbnNwZWN0LnRyYWNlKCkgKi9cblx0dmFyIHBhdGggPSAnJztcblx0bGV0IHVwZGF0aW5nID0gZmFsc2U7XG5cdC8qKiBAcGFyYW0ge3N0cmluZ30gbmV3X3BhdGggKi9cblx0ZnVuY3Rpb24gdXBkYXRlX3BhdGgobmV3X3BhdGgpIHtcblx0XHRpZiAodXBkYXRpbmcpIHJldHVybjtcblx0XHR1cGRhdGluZyA9IHRydWU7XG5cdFx0cGF0aCA9IG5ld19wYXRoO1xuXG5cdFx0dGFnKHZlcnNpb24sIGAke3BhdGh9IHZlcnNpb25gKTtcblxuXHRcdC8vIHJlbmFtZSBhbGwgY2hpbGQgc291cmNlcyBhbmQgY2hpbGQgcHJveGllc1xuXHRcdGZvciAoY29uc3QgW3Byb3AsIHNvdXJjZV0gb2Ygc291cmNlcykge1xuXHRcdFx0dGFnKHNvdXJjZSwgZ2V0X2xhYmVsKHBhdGgsIHByb3ApKTtcblx0XHR9XG5cdFx0dXBkYXRpbmcgPSBmYWxzZTtcblx0fVxuXG5cdHJldHVybiBuZXcgUHJveHkoLyoqIEB0eXBlIHthbnl9ICovICh2YWx1ZSksIHtcblx0XHRkZWZpbmVQcm9wZXJ0eShfLCBwcm9wLCBkZXNjcmlwdG9yKSB7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdCEoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSB8fFxuXHRcdFx0XHRkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9PT0gZmFsc2UgfHxcblx0XHRcdFx0ZGVzY3JpcHRvci5lbnVtZXJhYmxlID09PSBmYWxzZSB8fFxuXHRcdFx0XHRkZXNjcmlwdG9yLndyaXRhYmxlID09PSBmYWxzZVxuXHRcdFx0KSB7XG5cdFx0XHRcdC8vIHdlIGRpc2FsbG93IG5vbi1iYXNpYyBkZXNjcmlwdG9ycywgYmVjYXVzZSB1bmxlc3MgdGhleSBhcmUgYXBwbGllZCB0byB0aGVcblx0XHRcdFx0Ly8gdGFyZ2V0IG9iamVjdCDigJQgd2hpY2ggd2UgYXZvaWQsIHNvIHRoYXQgc3RhdGUgY2FuIGJlIGZvcmtlZCDigJQgd2Ugd2lsbCBydW5cblx0XHRcdFx0Ly8gYWZvdWwgb2YgdGhlIHZhcmlvdXMgaW52YXJpYW50c1xuXHRcdFx0XHQvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9Qcm94eS9Qcm94eS9nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IjaW52YXJpYW50c1xuXHRcdFx0XHRlLnN0YXRlX2Rlc2NyaXB0b3JzX2ZpeGVkKCk7XG5cdFx0XHR9XG5cdFx0XHR2YXIgcyA9IHNvdXJjZXMuZ2V0KHByb3ApO1xuXHRcdFx0aWYgKHMgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRzID0gd2l0aF9wYXJlbnQoKCkgPT4ge1xuXHRcdFx0XHRcdHZhciBzID0gc291cmNlKGRlc2NyaXB0b3IudmFsdWUsIHN0YWNrKTtcblx0XHRcdFx0XHRzb3VyY2VzLnNldChwcm9wLCBzKTtcblx0XHRcdFx0XHRpZiAoREVWICYmIHR5cGVvZiBwcm9wID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHRcdFx0dGFnKHMsIGdldF9sYWJlbChwYXRoLCBwcm9wKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBzO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHNldChzLCBkZXNjcmlwdG9yLnZhbHVlLCB0cnVlKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSxcblxuXHRcdGRlbGV0ZVByb3BlcnR5KHRhcmdldCwgcHJvcCkge1xuXHRcdFx0dmFyIHMgPSBzb3VyY2VzLmdldChwcm9wKTtcblxuXHRcdFx0aWYgKHMgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRpZiAocHJvcCBpbiB0YXJnZXQpIHtcblx0XHRcdFx0XHRjb25zdCBzID0gd2l0aF9wYXJlbnQoKCkgPT4gc291cmNlKFVOSU5JVElBTElaRUQsIHN0YWNrKSk7XG5cdFx0XHRcdFx0c291cmNlcy5zZXQocHJvcCwgcyk7XG5cdFx0XHRcdFx0aW5jcmVtZW50KHZlcnNpb24pO1xuXG5cdFx0XHRcdFx0aWYgKERFVikge1xuXHRcdFx0XHRcdFx0dGFnKHMsIGdldF9sYWJlbChwYXRoLCBwcm9wKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzZXQocywgVU5JTklUSUFMSVpFRCk7XG5cdFx0XHRcdGluY3JlbWVudCh2ZXJzaW9uKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSxcblxuXHRcdGdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7XG5cdFx0XHRpZiAocHJvcCA9PT0gU1RBVEVfU1lNQk9MKSB7XG5cdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKERFViAmJiBwcm9wID09PSBQUk9YWV9QQVRIX1NZTUJPTCkge1xuXHRcdFx0XHRyZXR1cm4gdXBkYXRlX3BhdGg7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBzID0gc291cmNlcy5nZXQocHJvcCk7XG5cdFx0XHR2YXIgZXhpc3RzID0gcHJvcCBpbiB0YXJnZXQ7XG5cblx0XHRcdC8vIGNyZWF0ZSBhIHNvdXJjZSwgYnV0IG9ubHkgaWYgaXQncyBhbiBvd24gcHJvcGVydHkgYW5kIG5vdCBhIHByb3RvdHlwZSBwcm9wZXJ0eVxuXHRcdFx0aWYgKHMgPT09IHVuZGVmaW5lZCAmJiAoIWV4aXN0cyB8fCBnZXRfZGVzY3JpcHRvcih0YXJnZXQsIHByb3ApPy53cml0YWJsZSkpIHtcblx0XHRcdFx0cyA9IHdpdGhfcGFyZW50KCgpID0+IHtcblx0XHRcdFx0XHR2YXIgcCA9IHByb3h5KGV4aXN0cyA/IHRhcmdldFtwcm9wXSA6IFVOSU5JVElBTElaRUQpO1xuXHRcdFx0XHRcdHZhciBzID0gc291cmNlKHAsIHN0YWNrKTtcblxuXHRcdFx0XHRcdGlmIChERVYpIHtcblx0XHRcdFx0XHRcdHRhZyhzLCBnZXRfbGFiZWwocGF0aCwgcHJvcCkpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBzO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRzb3VyY2VzLnNldChwcm9wLCBzKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR2YXIgdiA9IGdldChzKTtcblx0XHRcdFx0cmV0dXJuIHYgPT09IFVOSU5JVElBTElaRUQgPyB1bmRlZmluZWQgOiB2O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gUmVmbGVjdC5nZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcik7XG5cdFx0fSxcblxuXHRcdGdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIHByb3ApIHtcblx0XHRcdHZhciBkZXNjcmlwdG9yID0gUmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBwcm9wKTtcblxuXHRcdFx0aWYgKGRlc2NyaXB0b3IgJiYgJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSB7XG5cdFx0XHRcdHZhciBzID0gc291cmNlcy5nZXQocHJvcCk7XG5cdFx0XHRcdGlmIChzKSBkZXNjcmlwdG9yLnZhbHVlID0gZ2V0KHMpO1xuXHRcdFx0fSBlbHNlIGlmIChkZXNjcmlwdG9yID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dmFyIHNvdXJjZSA9IHNvdXJjZXMuZ2V0KHByb3ApO1xuXHRcdFx0XHR2YXIgdmFsdWUgPSBzb3VyY2U/LnY7XG5cblx0XHRcdFx0aWYgKHNvdXJjZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBVTklOSVRJQUxJWkVEKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdFx0XHR2YWx1ZSxcblx0XHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZGVzY3JpcHRvcjtcblx0XHR9LFxuXG5cdFx0aGFzKHRhcmdldCwgcHJvcCkge1xuXHRcdFx0aWYgKHByb3AgPT09IFNUQVRFX1NZTUJPTCkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHMgPSBzb3VyY2VzLmdldChwcm9wKTtcblx0XHRcdHZhciBoYXMgPSAocyAhPT0gdW5kZWZpbmVkICYmIHMudiAhPT0gVU5JTklUSUFMSVpFRCkgfHwgUmVmbGVjdC5oYXModGFyZ2V0LCBwcm9wKTtcblxuXHRcdFx0aWYgKFxuXHRcdFx0XHRzICE9PSB1bmRlZmluZWQgfHxcblx0XHRcdFx0KGFjdGl2ZV9lZmZlY3QgIT09IG51bGwgJiYgKCFoYXMgfHwgZ2V0X2Rlc2NyaXB0b3IodGFyZ2V0LCBwcm9wKT8ud3JpdGFibGUpKVxuXHRcdFx0KSB7XG5cdFx0XHRcdGlmIChzID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRzID0gd2l0aF9wYXJlbnQoKCkgPT4ge1xuXHRcdFx0XHRcdFx0dmFyIHAgPSBoYXMgPyBwcm94eSh0YXJnZXRbcHJvcF0pIDogVU5JTklUSUFMSVpFRDtcblx0XHRcdFx0XHRcdHZhciBzID0gc291cmNlKHAsIHN0YWNrKTtcblxuXHRcdFx0XHRcdFx0aWYgKERFVikge1xuXHRcdFx0XHRcdFx0XHR0YWcocywgZ2V0X2xhYmVsKHBhdGgsIHByb3ApKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0cmV0dXJuIHM7XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRzb3VyY2VzLnNldChwcm9wLCBzKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhciB2YWx1ZSA9IGdldChzKTtcblx0XHRcdFx0aWYgKHZhbHVlID09PSBVTklOSVRJQUxJWkVEKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBoYXM7XG5cdFx0fSxcblxuXHRcdHNldCh0YXJnZXQsIHByb3AsIHZhbHVlLCByZWNlaXZlcikge1xuXHRcdFx0dmFyIHMgPSBzb3VyY2VzLmdldChwcm9wKTtcblx0XHRcdHZhciBoYXMgPSBwcm9wIGluIHRhcmdldDtcblxuXHRcdFx0Ly8gdmFyaWFibGUubGVuZ3RoID0gdmFsdWUgLT4gY2xlYXIgYWxsIHNpZ25hbHMgd2l0aCBpbmRleCA+PSB2YWx1ZVxuXHRcdFx0aWYgKGlzX3Byb3hpZWRfYXJyYXkgJiYgcHJvcCA9PT0gJ2xlbmd0aCcpIHtcblx0XHRcdFx0Zm9yICh2YXIgaSA9IHZhbHVlOyBpIDwgLyoqIEB0eXBlIHtTb3VyY2U8bnVtYmVyPn0gKi8gKHMpLnY7IGkgKz0gMSkge1xuXHRcdFx0XHRcdHZhciBvdGhlcl9zID0gc291cmNlcy5nZXQoaSArICcnKTtcblx0XHRcdFx0XHRpZiAob3RoZXJfcyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRzZXQob3RoZXJfcywgVU5JTklUSUFMSVpFRCk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChpIGluIHRhcmdldCkge1xuXHRcdFx0XHRcdFx0Ly8gSWYgdGhlIGl0ZW0gZXhpc3RzIGluIHRoZSBvcmlnaW5hbCwgd2UgbmVlZCB0byBjcmVhdGUgYW4gdW5pbml0aWFsaXplZCBzb3VyY2UsXG5cdFx0XHRcdFx0XHQvLyBlbHNlIGEgbGF0ZXIgcmVhZCBvZiB0aGUgcHJvcGVydHkgd291bGQgcmVzdWx0IGluIGEgc291cmNlIGJlaW5nIGNyZWF0ZWQgd2l0aFxuXHRcdFx0XHRcdFx0Ly8gdGhlIHZhbHVlIG9mIHRoZSBvcmlnaW5hbCBpdGVtIGF0IHRoYXQgaW5kZXguXG5cdFx0XHRcdFx0XHRvdGhlcl9zID0gd2l0aF9wYXJlbnQoKCkgPT4gc291cmNlKFVOSU5JVElBTElaRUQsIHN0YWNrKSk7XG5cdFx0XHRcdFx0XHRzb3VyY2VzLnNldChpICsgJycsIG90aGVyX3MpO1xuXG5cdFx0XHRcdFx0XHRpZiAoREVWKSB7XG5cdFx0XHRcdFx0XHRcdHRhZyhvdGhlcl9zLCBnZXRfbGFiZWwocGF0aCwgaSkpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiB3ZSBoYXZlbid0IHlldCBjcmVhdGVkIGEgc291cmNlIGZvciB0aGlzIHByb3BlcnR5LCB3ZSBuZWVkIHRvIGVuc3VyZVxuXHRcdFx0Ly8gd2UgZG8gc28gb3RoZXJ3aXNlIGlmIHdlIHJlYWQgaXQgbGF0ZXIsIHRoZW4gdGhlIHdyaXRlIHdvbid0IGJlIHRyYWNrZWQgYW5kXG5cdFx0XHQvLyB0aGUgaGV1cmlzdGljcyBvZiBlZmZlY3RzIHdpbGwgYmUgZGlmZmVyZW50IHZzIGlmIHdlIGhhZCByZWFkIHRoZSBwcm94aWVkXG5cdFx0XHQvLyBvYmplY3QgcHJvcGVydHkgYmVmb3JlIHdyaXRpbmcgdG8gdGhhdCBwcm9wZXJ0eS5cblx0XHRcdGlmIChzID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0aWYgKCFoYXMgfHwgZ2V0X2Rlc2NyaXB0b3IodGFyZ2V0LCBwcm9wKT8ud3JpdGFibGUpIHtcblx0XHRcdFx0XHRzID0gd2l0aF9wYXJlbnQoKCkgPT4gc291cmNlKHVuZGVmaW5lZCwgc3RhY2spKTtcblxuXHRcdFx0XHRcdGlmIChERVYpIHtcblx0XHRcdFx0XHRcdHRhZyhzLCBnZXRfbGFiZWwocGF0aCwgcHJvcCkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRzZXQocywgcHJveHkodmFsdWUpKTtcblxuXHRcdFx0XHRcdHNvdXJjZXMuc2V0KHByb3AsIHMpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRoYXMgPSBzLnYgIT09IFVOSU5JVElBTElaRUQ7XG5cblx0XHRcdFx0dmFyIHAgPSB3aXRoX3BhcmVudCgoKSA9PiBwcm94eSh2YWx1ZSkpO1xuXHRcdFx0XHRzZXQocywgcCk7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBkZXNjcmlwdG9yID0gUmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBwcm9wKTtcblxuXHRcdFx0Ly8gU2V0IHRoZSBuZXcgdmFsdWUgYmVmb3JlIHVwZGF0aW5nIGFueSBzaWduYWxzIHNvIHRoYXQgYW55IGxpc3RlbmVycyBnZXQgdGhlIG5ldyB2YWx1ZVxuXHRcdFx0aWYgKGRlc2NyaXB0b3I/LnNldCkge1xuXHRcdFx0XHRkZXNjcmlwdG9yLnNldC5jYWxsKHJlY2VpdmVyLCB2YWx1ZSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICghaGFzKSB7XG5cdFx0XHRcdC8vIElmIHdlIGhhdmUgbXV0YXRlZCBhbiBhcnJheSBkaXJlY3RseSwgd2UgbWlnaHQgbmVlZCB0b1xuXHRcdFx0XHQvLyBzaWduYWwgdGhhdCBsZW5ndGggaGFzIGFsc28gY2hhbmdlZC4gRG8gaXQgYmVmb3JlIHVwZGF0aW5nIG1ldGFkYXRhXG5cdFx0XHRcdC8vIHRvIGVuc3VyZSB0aGF0IGl0ZXJhdGluZyBvdmVyIHRoZSBhcnJheSBhcyBhIHJlc3VsdCBvZiBhIG1ldGFkYXRhIHVwZGF0ZVxuXHRcdFx0XHQvLyB3aWxsIG5vdCBjYXVzZSB0aGUgbGVuZ3RoIHRvIGJlIG91dCBvZiBzeW5jLlxuXHRcdFx0XHRpZiAoaXNfcHJveGllZF9hcnJheSAmJiB0eXBlb2YgcHJvcCA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0XHR2YXIgbHMgPSAvKiogQHR5cGUge1NvdXJjZTxudW1iZXI+fSAqLyAoc291cmNlcy5nZXQoJ2xlbmd0aCcpKTtcblx0XHRcdFx0XHR2YXIgbiA9IE51bWJlcihwcm9wKTtcblxuXHRcdFx0XHRcdGlmIChOdW1iZXIuaXNJbnRlZ2VyKG4pICYmIG4gPj0gbHMudikge1xuXHRcdFx0XHRcdFx0c2V0KGxzLCBuICsgMSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aW5jcmVtZW50KHZlcnNpb24pO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0b3duS2V5cyh0YXJnZXQpIHtcblx0XHRcdGdldCh2ZXJzaW9uKTtcblxuXHRcdFx0dmFyIG93bl9rZXlzID0gUmVmbGVjdC5vd25LZXlzKHRhcmdldCkuZmlsdGVyKChrZXkpID0+IHtcblx0XHRcdFx0dmFyIHNvdXJjZSA9IHNvdXJjZXMuZ2V0KGtleSk7XG5cdFx0XHRcdHJldHVybiBzb3VyY2UgPT09IHVuZGVmaW5lZCB8fCBzb3VyY2UudiAhPT0gVU5JTklUSUFMSVpFRDtcblx0XHRcdH0pO1xuXG5cdFx0XHRmb3IgKHZhciBba2V5LCBzb3VyY2VdIG9mIHNvdXJjZXMpIHtcblx0XHRcdFx0aWYgKHNvdXJjZS52ICE9PSBVTklOSVRJQUxJWkVEICYmICEoa2V5IGluIHRhcmdldCkpIHtcblx0XHRcdFx0XHRvd25fa2V5cy5wdXNoKGtleSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG93bl9rZXlzO1xuXHRcdH0sXG5cblx0XHRzZXRQcm90b3R5cGVPZigpIHtcblx0XHRcdGUuc3RhdGVfcHJvdG90eXBlX2ZpeGVkKCk7XG5cdFx0fVxuXHR9KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aFxuICogQHBhcmFtIHtzdHJpbmcgfCBzeW1ib2x9IHByb3BcbiAqL1xuZnVuY3Rpb24gZ2V0X2xhYmVsKHBhdGgsIHByb3ApIHtcblx0aWYgKHR5cGVvZiBwcm9wID09PSAnc3ltYm9sJykgcmV0dXJuIGAke3BhdGh9W1N5bWJvbCgke3Byb3AuZGVzY3JpcHRpb24gPz8gJyd9KV1gO1xuXHRpZiAocmVnZXhfaXNfdmFsaWRfaWRlbnRpZmllci50ZXN0KHByb3ApKSByZXR1cm4gYCR7cGF0aH0uJHtwcm9wfWA7XG5cdHJldHVybiAvXlxcZCskLy50ZXN0KHByb3ApID8gYCR7cGF0aH1bJHtwcm9wfV1gIDogYCR7cGF0aH1bJyR7cHJvcH0nXWA7XG59XG5cbi8qKlxuICogQHBhcmFtIHthbnl9IHZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfcHJveGllZF92YWx1ZSh2YWx1ZSkge1xuXHR0cnkge1xuXHRcdGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIFNUQVRFX1NZTUJPTCBpbiB2YWx1ZSkge1xuXHRcdFx0cmV0dXJuIHZhbHVlW1NUQVRFX1NZTUJPTF07XG5cdFx0fVxuXHR9IGNhdGNoIHtcblx0XHQvLyB0aGUgYWJvdmUgaWYgY2hlY2sgY2FuIHRocm93IGFuIGVycm9yIGlmIHRoZSB2YWx1ZSBpbiBxdWVzdGlvblxuXHRcdC8vIGlzIHRoZSBjb250ZW50V2luZG93IG9mIGFuIGlmcmFtZSBvbiBhbm90aGVyIGRvbWFpbiwgaW4gd2hpY2hcblx0XHQvLyBjYXNlIHdlIHdhbnQgdG8ganVzdCByZXR1cm4gdGhlIHZhbHVlIChiZWNhdXNlIGl0J3MgZGVmaW5pdGVseVxuXHRcdC8vIG5vdCBhIHByb3hpZWQgdmFsdWUpIHNvIHdlIGRvbid0IGJyZWFrIGFueSBKYXZhU2NyaXB0IGludGVyYWN0aW5nXG5cdFx0Ly8gd2l0aCB0aGF0IGlmcmFtZSAoc3VjaCBhcyB2YXJpb3VzIHBheW1lbnQgY29tcGFuaWVzIGNsaWVudCBzaWRlXG5cdFx0Ly8gSmF2YVNjcmlwdCBsaWJyYXJpZXMgaW50ZXJhY3Rpbmcgd2l0aCB0aGVpciBpZnJhbWVzIG9uIHRoZSBzYW1lXG5cdFx0Ly8gZG9tYWluKVxuXHR9XG5cblx0cmV0dXJuIHZhbHVlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7YW55fSBhXG4gKiBAcGFyYW0ge2FueX0gYlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXMoYSwgYikge1xuXHRyZXR1cm4gT2JqZWN0LmlzKGdldF9wcm94aWVkX3ZhbHVlKGEpLCBnZXRfcHJveGllZF92YWx1ZShiKSk7XG59XG5cbmNvbnN0IEFSUkFZX01VVEFUSU5HX01FVEhPRFMgPSBuZXcgU2V0KFtcblx0J2NvcHlXaXRoaW4nLFxuXHQnZmlsbCcsXG5cdCdwb3AnLFxuXHQncHVzaCcsXG5cdCdyZXZlcnNlJyxcblx0J3NoaWZ0Jyxcblx0J3NvcnQnLFxuXHQnc3BsaWNlJyxcblx0J3Vuc2hpZnQnXG5dKTtcblxuLyoqXG4gKiBXcmFwIGFycmF5IG11dGF0aW5nIG1ldGhvZHMgc28gJGluc3BlY3QgaXMgdHJpZ2dlcmVkIG9ubHkgb25jZSBhbmRcbiAqIHRvIHByZXZlbnQgbG9nZ2luZyBhbiBhcnJheSBpbiBpbnRlcm1lZGlhdGUgc3RhdGUgKGUuZy4gd2l0aCBhbiBlbXB0eSBzbG90KVxuICogQHBhcmFtIHthbnlbXX0gYXJyYXlcbiAqL1xuZnVuY3Rpb24gaW5zcGVjdGFibGVfYXJyYXkoYXJyYXkpIHtcblx0cmV0dXJuIG5ldyBQcm94eShhcnJheSwge1xuXHRcdGdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7XG5cdFx0XHR2YXIgdmFsdWUgPSBSZWZsZWN0LmdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKTtcblx0XHRcdGlmICghQVJSQVlfTVVUQVRJTkdfTUVUSE9EUy5oYXMoLyoqIEB0eXBlIHtzdHJpbmd9ICovIChwcm9wKSkpIHtcblx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvKipcblx0XHRcdCAqIEB0aGlzIHthbnlbXX1cblx0XHRcdCAqIEBwYXJhbSB7YW55W119IGFyZ3Ncblx0XHRcdCAqL1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG5cdFx0XHRcdHNldF9lYWdlcl9lZmZlY3RzX2RlZmVycmVkKCk7XG5cdFx0XHRcdHZhciByZXN1bHQgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmdzKTtcblx0XHRcdFx0Zmx1c2hfZWFnZXJfZWZmZWN0cygpO1xuXHRcdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdFx0fTtcblx0XHR9XG5cdH0pO1xufVxuIiwiLyoqIEBpbXBvcnQgeyBFZmZlY3QsIFRlbXBsYXRlTm9kZSB9IGZyb20gJyNjbGllbnQnICovXG5pbXBvcnQgeyBoeWRyYXRlX25vZGUsIGh5ZHJhdGluZywgc2V0X2h5ZHJhdGVfbm9kZSB9IGZyb20gJy4vaHlkcmF0aW9uLmpzJztcbmltcG9ydCB7IERFViB9IGZyb20gJ2VzbS1lbnYnO1xuaW1wb3J0IHsgaW5pdF9hcnJheV9wcm90b3R5cGVfd2FybmluZ3MgfSBmcm9tICcuLi9kZXYvZXF1YWxpdHkuanMnO1xuaW1wb3J0IHsgZ2V0X2Rlc2NyaXB0b3IsIGlzX2V4dGVuc2libGUgfSBmcm9tICcuLi8uLi9zaGFyZWQvdXRpbHMuanMnO1xuaW1wb3J0IHsgYWN0aXZlX2VmZmVjdCB9IGZyb20gJy4uL3J1bnRpbWUuanMnO1xuaW1wb3J0IHsgYXN5bmNfbW9kZV9mbGFnIH0gZnJvbSAnLi4vLi4vZmxhZ3MvaW5kZXguanMnO1xuaW1wb3J0IHsgVEVYVF9OT0RFLCBFRkZFQ1RfUkFOIH0gZnJvbSAnI2NsaWVudC9jb25zdGFudHMnO1xuaW1wb3J0IHsgZWFnZXJfYmxvY2tfZWZmZWN0cyB9IGZyb20gJy4uL3JlYWN0aXZpdHkvYmF0Y2guanMnO1xuXG4vLyBleHBvcnQgdGhlc2UgZm9yIHJlZmVyZW5jZSBpbiB0aGUgY29tcGlsZWQgY29kZSwgbWFraW5nIGdsb2JhbCBuYW1lIGRlZHVwbGljYXRpb24gdW5uZWNlc3Nhcnlcbi8qKiBAdHlwZSB7V2luZG93fSAqL1xuZXhwb3J0IHZhciAkd2luZG93O1xuXG4vKiogQHR5cGUge0RvY3VtZW50fSAqL1xuZXhwb3J0IHZhciAkZG9jdW1lbnQ7XG5cbi8qKiBAdHlwZSB7Ym9vbGVhbn0gKi9cbmV4cG9ydCB2YXIgaXNfZmlyZWZveDtcblxuLyoqIEB0eXBlIHsoKSA9PiBOb2RlIHwgbnVsbH0gKi9cbnZhciBmaXJzdF9jaGlsZF9nZXR0ZXI7XG4vKiogQHR5cGUgeygpID0+IE5vZGUgfCBudWxsfSAqL1xudmFyIG5leHRfc2libGluZ19nZXR0ZXI7XG5cbi8qKlxuICogSW5pdGlhbGl6ZSB0aGVzZSBsYXppbHkgdG8gYXZvaWQgaXNzdWVzIHdoZW4gdXNpbmcgdGhlIHJ1bnRpbWUgaW4gYSBzZXJ2ZXIgY29udGV4dFxuICogd2hlcmUgdGhlc2UgZ2xvYmFscyBhcmUgbm90IGF2YWlsYWJsZSB3aGlsZSBhdm9pZGluZyBhIHNlcGFyYXRlIHNlcnZlciBlbnRyeSBwb2ludFxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdF9vcGVyYXRpb25zKCkge1xuXHRpZiAoJHdpbmRvdyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0JHdpbmRvdyA9IHdpbmRvdztcblx0JGRvY3VtZW50ID0gZG9jdW1lbnQ7XG5cdGlzX2ZpcmVmb3ggPSAvRmlyZWZveC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcblxuXHR2YXIgZWxlbWVudF9wcm90b3R5cGUgPSBFbGVtZW50LnByb3RvdHlwZTtcblx0dmFyIG5vZGVfcHJvdG90eXBlID0gTm9kZS5wcm90b3R5cGU7XG5cdHZhciB0ZXh0X3Byb3RvdHlwZSA9IFRleHQucHJvdG90eXBlO1xuXG5cdC8vIEB0cy1pZ25vcmVcblx0Zmlyc3RfY2hpbGRfZ2V0dGVyID0gZ2V0X2Rlc2NyaXB0b3Iobm9kZV9wcm90b3R5cGUsICdmaXJzdENoaWxkJykuZ2V0O1xuXHQvLyBAdHMtaWdub3JlXG5cdG5leHRfc2libGluZ19nZXR0ZXIgPSBnZXRfZGVzY3JpcHRvcihub2RlX3Byb3RvdHlwZSwgJ25leHRTaWJsaW5nJykuZ2V0O1xuXG5cdGlmIChpc19leHRlbnNpYmxlKGVsZW1lbnRfcHJvdG90eXBlKSkge1xuXHRcdC8vIHRoZSBmb2xsb3dpbmcgYXNzaWdubWVudHMgaW1wcm92ZSBwZXJmIG9mIGxvb2t1cHMgb24gRE9NIG5vZGVzXG5cdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdGVsZW1lbnRfcHJvdG90eXBlLl9fY2xpY2sgPSB1bmRlZmluZWQ7XG5cdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdGVsZW1lbnRfcHJvdG90eXBlLl9fY2xhc3NOYW1lID0gdW5kZWZpbmVkO1xuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRlbGVtZW50X3Byb3RvdHlwZS5fX2F0dHJpYnV0ZXMgPSBudWxsO1xuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRlbGVtZW50X3Byb3RvdHlwZS5fX3N0eWxlID0gdW5kZWZpbmVkO1xuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRlbGVtZW50X3Byb3RvdHlwZS5fX2UgPSB1bmRlZmluZWQ7XG5cdH1cblxuXHRpZiAoaXNfZXh0ZW5zaWJsZSh0ZXh0X3Byb3RvdHlwZSkpIHtcblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0dGV4dF9wcm90b3R5cGUuX190ID0gdW5kZWZpbmVkO1xuXHR9XG5cblx0aWYgKERFVikge1xuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRlbGVtZW50X3Byb3RvdHlwZS5fX3N2ZWx0ZV9tZXRhID0gbnVsbDtcblxuXHRcdGluaXRfYXJyYXlfcHJvdG90eXBlX3dhcm5pbmdzKCk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqIEByZXR1cm5zIHtUZXh0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX3RleHQodmFsdWUgPSAnJykge1xuXHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodmFsdWUpO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7Tm9kZX0gTlxuICogQHBhcmFtIHtOfSBub2RlXG4gKi9cbi8qQF9fTk9fU0lERV9FRkZFQ1RTX18qL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9maXJzdF9jaGlsZChub2RlKSB7XG5cdHJldHVybiAvKiogQHR5cGUge1RlbXBsYXRlTm9kZSB8IG51bGx9ICovIChmaXJzdF9jaGlsZF9nZXR0ZXIuY2FsbChub2RlKSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtOb2RlfSBOXG4gKiBAcGFyYW0ge059IG5vZGVcbiAqL1xuLypAX19OT19TSURFX0VGRkVDVFNfXyovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X25leHRfc2libGluZyhub2RlKSB7XG5cdHJldHVybiAvKiogQHR5cGUge1RlbXBsYXRlTm9kZSB8IG51bGx9ICovIChuZXh0X3NpYmxpbmdfZ2V0dGVyLmNhbGwobm9kZSkpO1xufVxuXG4vKipcbiAqIERvbid0IG1hcmsgdGhpcyBhcyBzaWRlLWVmZmVjdC1mcmVlLCBoeWRyYXRpb24gbmVlZHMgdG8gd2FsayBhbGwgbm9kZXNcbiAqIEB0ZW1wbGF0ZSB7Tm9kZX0gTlxuICogQHBhcmFtIHtOfSBub2RlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzX3RleHRcbiAqIEByZXR1cm5zIHtUZW1wbGF0ZU5vZGUgfCBudWxsfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2hpbGQobm9kZSwgaXNfdGV4dCkge1xuXHRpZiAoIWh5ZHJhdGluZykge1xuXHRcdHJldHVybiBnZXRfZmlyc3RfY2hpbGQobm9kZSk7XG5cdH1cblxuXHR2YXIgY2hpbGQgPSBnZXRfZmlyc3RfY2hpbGQoaHlkcmF0ZV9ub2RlKTtcblxuXHQvLyBDaGlsZCBjYW4gYmUgbnVsbCBpZiB3ZSBoYXZlIGFuIGVsZW1lbnQgd2l0aCBhIHNpbmdsZSBjaGlsZCwgbGlrZSBgPHA+e3RleHR9PC9wPmAsIHdoZXJlIGB0ZXh0YCBpcyBlbXB0eVxuXHRpZiAoY2hpbGQgPT09IG51bGwpIHtcblx0XHRjaGlsZCA9IGh5ZHJhdGVfbm9kZS5hcHBlbmRDaGlsZChjcmVhdGVfdGV4dCgpKTtcblx0fSBlbHNlIGlmIChpc190ZXh0ICYmIGNoaWxkLm5vZGVUeXBlICE9PSBURVhUX05PREUpIHtcblx0XHR2YXIgdGV4dCA9IGNyZWF0ZV90ZXh0KCk7XG5cdFx0Y2hpbGQ/LmJlZm9yZSh0ZXh0KTtcblx0XHRzZXRfaHlkcmF0ZV9ub2RlKHRleHQpO1xuXHRcdHJldHVybiB0ZXh0O1xuXHR9XG5cblx0c2V0X2h5ZHJhdGVfbm9kZShjaGlsZCk7XG5cdHJldHVybiBjaGlsZDtcbn1cblxuLyoqXG4gKiBEb24ndCBtYXJrIHRoaXMgYXMgc2lkZS1lZmZlY3QtZnJlZSwgaHlkcmF0aW9uIG5lZWRzIHRvIHdhbGsgYWxsIG5vZGVzXG4gKiBAcGFyYW0ge1RlbXBsYXRlTm9kZX0gbm9kZVxuICogQHBhcmFtIHtib29sZWFufSBbaXNfdGV4dF1cbiAqIEByZXR1cm5zIHtUZW1wbGF0ZU5vZGUgfCBudWxsfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZmlyc3RfY2hpbGQobm9kZSwgaXNfdGV4dCA9IGZhbHNlKSB7XG5cdGlmICghaHlkcmF0aW5nKSB7XG5cdFx0dmFyIGZpcnN0ID0gZ2V0X2ZpcnN0X2NoaWxkKG5vZGUpO1xuXG5cdFx0Ly8gVE9ETyBwcmV2ZW50IHVzZXIgY29tbWVudHMgd2l0aCB0aGUgZW1wdHkgc3RyaW5nIHdoZW4gcHJlc2VydmVDb21tZW50cyBpcyB0cnVlXG5cdFx0aWYgKGZpcnN0IGluc3RhbmNlb2YgQ29tbWVudCAmJiBmaXJzdC5kYXRhID09PSAnJykgcmV0dXJuIGdldF9uZXh0X3NpYmxpbmcoZmlyc3QpO1xuXG5cdFx0cmV0dXJuIGZpcnN0O1xuXHR9XG5cblx0Ly8gaWYgYW4ge2V4cHJlc3Npb259IGlzIGVtcHR5IGR1cmluZyBTU1IsIHRoZXJlIG1pZ2h0IGJlIG5vXG5cdC8vIHRleHQgbm9kZSB0byBoeWRyYXRlIOKAlCB3ZSBtdXN0IHRoZXJlZm9yZSBjcmVhdGUgb25lXG5cdGlmIChpc190ZXh0ICYmIGh5ZHJhdGVfbm9kZT8ubm9kZVR5cGUgIT09IFRFWFRfTk9ERSkge1xuXHRcdHZhciB0ZXh0ID0gY3JlYXRlX3RleHQoKTtcblxuXHRcdGh5ZHJhdGVfbm9kZT8uYmVmb3JlKHRleHQpO1xuXHRcdHNldF9oeWRyYXRlX25vZGUodGV4dCk7XG5cdFx0cmV0dXJuIHRleHQ7XG5cdH1cblxuXHRyZXR1cm4gaHlkcmF0ZV9ub2RlO1xufVxuXG4vKipcbiAqIERvbid0IG1hcmsgdGhpcyBhcyBzaWRlLWVmZmVjdC1mcmVlLCBoeWRyYXRpb24gbmVlZHMgdG8gd2FsayBhbGwgbm9kZXNcbiAqIEBwYXJhbSB7VGVtcGxhdGVOb2RlfSBub2RlXG4gKiBAcGFyYW0ge251bWJlcn0gY291bnRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNfdGV4dFxuICogQHJldHVybnMge1RlbXBsYXRlTm9kZSB8IG51bGx9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaWJsaW5nKG5vZGUsIGNvdW50ID0gMSwgaXNfdGV4dCA9IGZhbHNlKSB7XG5cdGxldCBuZXh0X3NpYmxpbmcgPSBoeWRyYXRpbmcgPyBoeWRyYXRlX25vZGUgOiBub2RlO1xuXHR2YXIgbGFzdF9zaWJsaW5nO1xuXG5cdHdoaWxlIChjb3VudC0tKSB7XG5cdFx0bGFzdF9zaWJsaW5nID0gbmV4dF9zaWJsaW5nO1xuXHRcdG5leHRfc2libGluZyA9IC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqLyAoZ2V0X25leHRfc2libGluZyhuZXh0X3NpYmxpbmcpKTtcblx0fVxuXG5cdGlmICghaHlkcmF0aW5nKSB7XG5cdFx0cmV0dXJuIG5leHRfc2libGluZztcblx0fVxuXG5cdC8vIGlmIGEgc2libGluZyB7ZXhwcmVzc2lvbn0gaXMgZW1wdHkgZHVyaW5nIFNTUiwgdGhlcmUgbWlnaHQgYmUgbm9cblx0Ly8gdGV4dCBub2RlIHRvIGh5ZHJhdGUg4oCUIHdlIG11c3QgdGhlcmVmb3JlIGNyZWF0ZSBvbmVcblx0aWYgKGlzX3RleHQgJiYgbmV4dF9zaWJsaW5nPy5ub2RlVHlwZSAhPT0gVEVYVF9OT0RFKSB7XG5cdFx0dmFyIHRleHQgPSBjcmVhdGVfdGV4dCgpO1xuXHRcdC8vIElmIHRoZSBuZXh0IHNpYmxpbmcgaXMgYG51bGxgIGFuZCB3ZSdyZSBoYW5kbGluZyB0ZXh0IHRoZW4gaXQncyBiZWNhdXNlXG5cdFx0Ly8gdGhlIFNTUiBjb250ZW50IHdhcyBlbXB0eSBmb3IgdGhlIHRleHQsIHNvIHdlIG5lZWQgdG8gZ2VuZXJhdGUgYSBuZXcgdGV4dFxuXHRcdC8vIG5vZGUgYW5kIGluc2VydCBpdCBhZnRlciB0aGUgbGFzdCBzaWJsaW5nXG5cdFx0aWYgKG5leHRfc2libGluZyA9PT0gbnVsbCkge1xuXHRcdFx0bGFzdF9zaWJsaW5nPy5hZnRlcih0ZXh0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bmV4dF9zaWJsaW5nLmJlZm9yZSh0ZXh0KTtcblx0XHR9XG5cdFx0c2V0X2h5ZHJhdGVfbm9kZSh0ZXh0KTtcblx0XHRyZXR1cm4gdGV4dDtcblx0fVxuXG5cdHNldF9oeWRyYXRlX25vZGUobmV4dF9zaWJsaW5nKTtcblx0cmV0dXJuIG5leHRfc2libGluZztcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUge05vZGV9IE5cbiAqIEBwYXJhbSB7Tn0gbm9kZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhcl90ZXh0X2NvbnRlbnQobm9kZSkge1xuXHRub2RlLnRleHRDb250ZW50ID0gJyc7XG59XG5cbi8qKlxuICogUmV0dXJucyBgdHJ1ZWAgaWYgd2UncmUgdXBkYXRpbmcgdGhlIGN1cnJlbnQgYmxvY2ssIGZvciBleGFtcGxlIGBjb25kaXRpb25gIGluXG4gKiBhbiBgeyNpZiBjb25kaXRpb259YCBibG9jayBqdXN0IGNoYW5nZWQuIEluIHRoaXMgY2FzZSwgdGhlIGJyYW5jaCBzaG91bGQgYmVcbiAqIGFwcGVuZGVkIChvciByZW1vdmVkKSBhdCB0aGUgc2FtZSB0aW1lIGFzIG90aGVyIHVwZGF0ZXMgd2l0aGluIHRoZVxuICogY3VycmVudCBgPHN2ZWx0ZTpib3VuZGFyeT5gXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaG91bGRfZGVmZXJfYXBwZW5kKCkge1xuXHRpZiAoIWFzeW5jX21vZGVfZmxhZykgcmV0dXJuIGZhbHNlO1xuXHRpZiAoZWFnZXJfYmxvY2tfZWZmZWN0cyAhPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXG5cdHZhciBmbGFncyA9IC8qKiBAdHlwZSB7RWZmZWN0fSAqLyAoYWN0aXZlX2VmZmVjdCkuZjtcblx0cmV0dXJuIChmbGFncyAmIEVGRkVDVF9SQU4pICE9PSAwO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnXG4gKiBAcGFyYW0ge3N0cmluZ30gW25hbWVzcGFjZV1cbiAqIEBwYXJhbSB7c3RyaW5nfSBbaXNdXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX2VsZW1lbnQodGFnLCBuYW1lc3BhY2UsIGlzKSB7XG5cdGxldCBvcHRpb25zID0gaXMgPyB7IGlzIH0gOiB1bmRlZmluZWQ7XG5cdGlmIChuYW1lc3BhY2UpIHtcblx0XHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5hbWVzcGFjZSwgdGFnLCBvcHRpb25zKTtcblx0fVxuXHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcsIG9wdGlvbnMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX2ZyYWdtZW50KCkge1xuXHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX2NvbW1lbnQoZGF0YSA9ICcnKSB7XG5cdHJldHVybiBkb2N1bWVudC5jcmVhdGVDb21tZW50KGRhdGEpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2F0dHJpYnV0ZShlbGVtZW50LCBrZXksIHZhbHVlID0gJycpIHtcblx0aWYgKGtleS5zdGFydHNXaXRoKCd4bGluazonKSkge1xuXHRcdGVsZW1lbnQuc2V0QXR0cmlidXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLCBrZXksIHZhbHVlKTtcblx0XHRyZXR1cm47XG5cdH1cblx0cmV0dXJuIGVsZW1lbnQuc2V0QXR0cmlidXRlKGtleSwgdmFsdWUpO1xufVxuIiwiLyoqIEBpbXBvcnQgeyBEZXJpdmVkLCBFZmZlY3QgfSBmcm9tICcjY2xpZW50JyAqL1xuLyoqIEBpbXBvcnQgeyBCb3VuZGFyeSB9IGZyb20gJy4vZG9tL2Jsb2Nrcy9ib3VuZGFyeS5qcycgKi9cbmltcG9ydCB7IERFViB9IGZyb20gJ2VzbS1lbnYnO1xuaW1wb3J0IHsgRklMRU5BTUUgfSBmcm9tICcuLi8uLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgaXNfZmlyZWZveCB9IGZyb20gJy4vZG9tL29wZXJhdGlvbnMuanMnO1xuaW1wb3J0IHsgRVJST1JfVkFMVUUsIEJPVU5EQVJZX0VGRkVDVCwgRUZGRUNUX1JBTiB9IGZyb20gJy4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IGRlZmluZV9wcm9wZXJ0eSwgZ2V0X2Rlc2NyaXB0b3IgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMuanMnO1xuaW1wb3J0IHsgYWN0aXZlX2VmZmVjdCwgYWN0aXZlX3JlYWN0aW9uIH0gZnJvbSAnLi9ydW50aW1lLmpzJztcblxuY29uc3QgYWRqdXN0bWVudHMgPSBuZXcgV2Vha01hcCgpO1xuXG4vKipcbiAqIEBwYXJhbSB7dW5rbm93bn0gZXJyb3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZV9lcnJvcihlcnJvcikge1xuXHR2YXIgZWZmZWN0ID0gYWN0aXZlX2VmZmVjdDtcblxuXHQvLyBmb3IgdW5vd25lZCBkZXJpdmVkcywgZG9uJ3QgdGhyb3cgdW50aWwgd2UgcmVhZCB0aGUgdmFsdWVcblx0aWYgKGVmZmVjdCA9PT0gbnVsbCkge1xuXHRcdC8qKiBAdHlwZSB7RGVyaXZlZH0gKi8gKGFjdGl2ZV9yZWFjdGlvbikuZiB8PSBFUlJPUl9WQUxVRTtcblx0XHRyZXR1cm4gZXJyb3I7XG5cdH1cblxuXHRpZiAoREVWICYmIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgIWFkanVzdG1lbnRzLmhhcyhlcnJvcikpIHtcblx0XHRhZGp1c3RtZW50cy5zZXQoZXJyb3IsIGdldF9hZGp1c3RtZW50cyhlcnJvciwgZWZmZWN0KSk7XG5cdH1cblxuXHRpZiAoKGVmZmVjdC5mICYgRUZGRUNUX1JBTikgPT09IDApIHtcblx0XHQvLyBpZiB0aGUgZXJyb3Igb2NjdXJyZWQgd2hpbGUgY3JlYXRpbmcgdGhpcyBzdWJ0cmVlLCB3ZSBsZXQgaXRcblx0XHQvLyBidWJibGUgdXAgdW50aWwgaXQgaGl0cyBhIGJvdW5kYXJ5IHRoYXQgY2FuIGhhbmRsZSBpdFxuXHRcdGlmICgoZWZmZWN0LmYgJiBCT1VOREFSWV9FRkZFQ1QpID09PSAwKSB7XG5cdFx0XHRpZiAoREVWICYmICFlZmZlY3QucGFyZW50ICYmIGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcblx0XHRcdFx0YXBwbHlfYWRqdXN0bWVudHMoZXJyb3IpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHQvKiogQHR5cGUge0JvdW5kYXJ5fSAqLyAoZWZmZWN0LmIpLmVycm9yKGVycm9yKTtcblx0fSBlbHNlIHtcblx0XHQvLyBvdGhlcndpc2Ugd2UgYnViYmxlIHVwIHRoZSBlZmZlY3QgdHJlZSBvdXJzZWx2ZXNcblx0XHRpbnZva2VfZXJyb3JfYm91bmRhcnkoZXJyb3IsIGVmZmVjdCk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge3Vua25vd259IGVycm9yXG4gKiBAcGFyYW0ge0VmZmVjdCB8IG51bGx9IGVmZmVjdFxuICovXG5leHBvcnQgZnVuY3Rpb24gaW52b2tlX2Vycm9yX2JvdW5kYXJ5KGVycm9yLCBlZmZlY3QpIHtcblx0d2hpbGUgKGVmZmVjdCAhPT0gbnVsbCkge1xuXHRcdGlmICgoZWZmZWN0LmYgJiBCT1VOREFSWV9FRkZFQ1QpICE9PSAwKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHQvKiogQHR5cGUge0JvdW5kYXJ5fSAqLyAoZWZmZWN0LmIpLmVycm9yKGVycm9yKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRlcnJvciA9IGU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0ZWZmZWN0ID0gZWZmZWN0LnBhcmVudDtcblx0fVxuXG5cdGlmIChERVYgJiYgZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuXHRcdGFwcGx5X2FkanVzdG1lbnRzKGVycm9yKTtcblx0fVxuXG5cdHRocm93IGVycm9yO1xufVxuXG4vKipcbiAqIEFkZCB1c2VmdWwgaW5mb3JtYXRpb24gdG8gdGhlIGVycm9yIG1lc3NhZ2Uvc3RhY2sgaW4gZGV2ZWxvcG1lbnRcbiAqIEBwYXJhbSB7RXJyb3J9IGVycm9yXG4gKiBAcGFyYW0ge0VmZmVjdH0gZWZmZWN0XG4gKi9cbmZ1bmN0aW9uIGdldF9hZGp1c3RtZW50cyhlcnJvciwgZWZmZWN0KSB7XG5cdGNvbnN0IG1lc3NhZ2VfZGVzY3JpcHRvciA9IGdldF9kZXNjcmlwdG9yKGVycm9yLCAnbWVzc2FnZScpO1xuXG5cdC8vIGlmIHRoZSBtZXNzYWdlIHdhcyBhbHJlYWR5IGNoYW5nZWQgYW5kIGl0J3Mgbm90IGNvbmZpZ3VyYWJsZSB3ZSBjYW4ndCBjaGFuZ2UgaXRcblx0Ly8gb3IgaXQgd2lsbCB0aHJvdyBhIGRpZmZlcmVudCBlcnJvciBzd2FsbG93aW5nIHRoZSBvcmlnaW5hbCBlcnJvclxuXHRpZiAobWVzc2FnZV9kZXNjcmlwdG9yICYmICFtZXNzYWdlX2Rlc2NyaXB0b3IuY29uZmlndXJhYmxlKSByZXR1cm47XG5cblx0dmFyIGluZGVudCA9IGlzX2ZpcmVmb3ggPyAnICAnIDogJ1xcdCc7XG5cdHZhciBjb21wb25lbnRfc3RhY2sgPSBgXFxuJHtpbmRlbnR9aW4gJHtlZmZlY3QuZm4/Lm5hbWUgfHwgJzx1bmtub3duPid9YDtcblx0dmFyIGNvbnRleHQgPSBlZmZlY3QuY3R4O1xuXG5cdHdoaWxlIChjb250ZXh0ICE9PSBudWxsKSB7XG5cdFx0Y29tcG9uZW50X3N0YWNrICs9IGBcXG4ke2luZGVudH1pbiAke2NvbnRleHQuZnVuY3Rpb24/LltGSUxFTkFNRV0uc3BsaXQoJy8nKS5wb3AoKX1gO1xuXHRcdGNvbnRleHQgPSBjb250ZXh0LnA7XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgKyBgXFxuJHtjb21wb25lbnRfc3RhY2t9XFxuYCxcblx0XHRzdGFjazogZXJyb3Iuc3RhY2tcblx0XHRcdD8uc3BsaXQoJ1xcbicpXG5cdFx0XHQuZmlsdGVyKChsaW5lKSA9PiAhbGluZS5pbmNsdWRlcygnc3ZlbHRlL3NyYy9pbnRlcm5hbCcpKVxuXHRcdFx0LmpvaW4oJ1xcbicpXG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtFcnJvcn0gZXJyb3JcbiAqL1xuZnVuY3Rpb24gYXBwbHlfYWRqdXN0bWVudHMoZXJyb3IpIHtcblx0Y29uc3QgYWRqdXN0ZWQgPSBhZGp1c3RtZW50cy5nZXQoZXJyb3IpO1xuXG5cdGlmIChhZGp1c3RlZCkge1xuXHRcdGRlZmluZV9wcm9wZXJ0eShlcnJvciwgJ21lc3NhZ2UnLCB7XG5cdFx0XHR2YWx1ZTogYWRqdXN0ZWQubWVzc2FnZVxuXHRcdH0pO1xuXG5cdFx0ZGVmaW5lX3Byb3BlcnR5KGVycm9yLCAnc3RhY2snLCB7XG5cdFx0XHR2YWx1ZTogYWRqdXN0ZWQuc3RhY2tcblx0XHR9KTtcblx0fVxufVxuIiwiLyoqIEBpbXBvcnQgeyBGb3JrIH0gZnJvbSAnc3ZlbHRlJyAqL1xuLyoqIEBpbXBvcnQgeyBEZXJpdmVkLCBFZmZlY3QsIFJlYWN0aW9uLCBTb3VyY2UsIFZhbHVlIH0gZnJvbSAnI2NsaWVudCcgKi9cbmltcG9ydCB7XG5cdEJMT0NLX0VGRkVDVCxcblx0QlJBTkNIX0VGRkVDVCxcblx0Q0xFQU4sXG5cdERFU1RST1lFRCxcblx0RElSVFksXG5cdEVGRkVDVCxcblx0QVNZTkMsXG5cdElORVJULFxuXHRSRU5ERVJfRUZGRUNULFxuXHRST09UX0VGRkVDVCxcblx0TUFZQkVfRElSVFksXG5cdERFUklWRUQsXG5cdEJPVU5EQVJZX0VGRkVDVCxcblx0RUFHRVJfRUZGRUNULFxuXHRIRUFEX0VGRkVDVCxcblx0RVJST1JfVkFMVUUsXG5cdFdBU19NQVJLRUQsXG5cdE1BTkFHRURfRUZGRUNUXG59IGZyb20gJyNjbGllbnQvY29uc3RhbnRzJztcbmltcG9ydCB7IGFzeW5jX21vZGVfZmxhZyB9IGZyb20gJy4uLy4uL2ZsYWdzL2luZGV4LmpzJztcbmltcG9ydCB7IGRlZmVycmVkLCBkZWZpbmVfcHJvcGVydHkgfSBmcm9tICcuLi8uLi9zaGFyZWQvdXRpbHMuanMnO1xuaW1wb3J0IHtcblx0YWN0aXZlX2VmZmVjdCxcblx0Z2V0LFxuXHRpc19kaXJ0eSxcblx0aXNfdXBkYXRpbmdfZWZmZWN0LFxuXHRzZXRfaXNfdXBkYXRpbmdfZWZmZWN0LFxuXHRzZXRfc2lnbmFsX3N0YXR1cyxcblx0dXBkYXRlX2VmZmVjdFxufSBmcm9tICcuLi9ydW50aW1lLmpzJztcbmltcG9ydCAqIGFzIGUgZnJvbSAnLi4vZXJyb3JzLmpzJztcbmltcG9ydCB7IGZsdXNoX3Rhc2tzLCBxdWV1ZV9taWNyb190YXNrIH0gZnJvbSAnLi4vZG9tL3Rhc2suanMnO1xuaW1wb3J0IHsgREVWIH0gZnJvbSAnZXNtLWVudic7XG5pbXBvcnQgeyBpbnZva2VfZXJyb3JfYm91bmRhcnkgfSBmcm9tICcuLi9lcnJvci1oYW5kbGluZy5qcyc7XG5pbXBvcnQgeyBmbHVzaF9lYWdlcl9lZmZlY3RzLCBvbGRfdmFsdWVzLCBzZXRfZWFnZXJfZWZmZWN0cywgc291cmNlLCB1cGRhdGUgfSBmcm9tICcuL3NvdXJjZXMuanMnO1xuaW1wb3J0IHsgZWFnZXJfZWZmZWN0LCB1bmxpbmtfZWZmZWN0IH0gZnJvbSAnLi9lZmZlY3RzLmpzJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7e1xuICogICBwYXJlbnQ6IEVmZmVjdFRhcmdldCB8IG51bGw7XG4gKiAgIGVmZmVjdDogRWZmZWN0IHwgbnVsbDtcbiAqICAgZWZmZWN0czogRWZmZWN0W107XG4gKiAgIHJlbmRlcl9lZmZlY3RzOiBFZmZlY3RbXTtcbiAqIH19IEVmZmVjdFRhcmdldFxuICovXG5cbi8qKiBAdHlwZSB7U2V0PEJhdGNoPn0gKi9cbmNvbnN0IGJhdGNoZXMgPSBuZXcgU2V0KCk7XG5cbi8qKiBAdHlwZSB7QmF0Y2ggfCBudWxsfSAqL1xuZXhwb3J0IGxldCBjdXJyZW50X2JhdGNoID0gbnVsbDtcblxuLyoqXG4gKiBUaGlzIGlzIG5lZWRlZCB0byBhdm9pZCBvdmVyd3JpdGluZyBpbnB1dHMgaW4gbm9uLWFzeW5jIG1vZGVcbiAqIFRPRE8gNi4wIHJlbW92ZSB0aGlzLCBhcyBub24tYXN5bmMgbW9kZSB3aWxsIGdvIGF3YXlcbiAqIEB0eXBlIHtCYXRjaCB8IG51bGx9XG4gKi9cbmV4cG9ydCBsZXQgcHJldmlvdXNfYmF0Y2ggPSBudWxsO1xuXG4vKipcbiAqIFdoZW4gdGltZSB0cmF2ZWxsaW5nIChpLmUuIHdvcmtpbmcgaW4gb25lIGJhdGNoLCB3aGlsZSBvdGhlciBiYXRjaGVzXG4gKiBzdGlsbCBoYXZlIG9uZ29pbmcgd29yayksIHdlIGlnbm9yZSB0aGUgcmVhbCB2YWx1ZXMgb2YgYWZmZWN0ZWRcbiAqIHNpZ25hbHMgaW4gZmF2b3VyIG9mIHRoZWlyIHZhbHVlcyB3aXRoaW4gdGhlIGJhdGNoXG4gKiBAdHlwZSB7TWFwPFZhbHVlLCBhbnk+IHwgbnVsbH1cbiAqL1xuZXhwb3J0IGxldCBiYXRjaF92YWx1ZXMgPSBudWxsO1xuXG4vLyBUT0RPIHRoaXMgc2hvdWxkIHJlYWxseSBiZSBhIHByb3BlcnR5IG9mIGBiYXRjaGBcbi8qKiBAdHlwZSB7RWZmZWN0W119ICovXG5sZXQgcXVldWVkX3Jvb3RfZWZmZWN0cyA9IFtdO1xuXG4vKiogQHR5cGUge0VmZmVjdCB8IG51bGx9ICovXG5sZXQgbGFzdF9zY2hlZHVsZWRfZWZmZWN0ID0gbnVsbDtcblxubGV0IGlzX2ZsdXNoaW5nID0gZmFsc2U7XG5leHBvcnQgbGV0IGlzX2ZsdXNoaW5nX3N5bmMgPSBmYWxzZTtcblxuZXhwb3J0IGNsYXNzIEJhdGNoIHtcblx0Y29tbWl0dGVkID0gZmFsc2U7XG5cblx0LyoqXG5cdCAqIFRoZSBjdXJyZW50IHZhbHVlcyBvZiBhbnkgc291cmNlcyB0aGF0IGFyZSB1cGRhdGVkIGluIHRoaXMgYmF0Y2hcblx0ICogVGhleSBrZXlzIG9mIHRoaXMgbWFwIGFyZSBpZGVudGljYWwgdG8gYHRoaXMuI3ByZXZpb3VzYFxuXHQgKiBAdHlwZSB7TWFwPFNvdXJjZSwgYW55Pn1cblx0ICovXG5cdGN1cnJlbnQgPSBuZXcgTWFwKCk7XG5cblx0LyoqXG5cdCAqIFRoZSB2YWx1ZXMgb2YgYW55IHNvdXJjZXMgdGhhdCBhcmUgdXBkYXRlZCBpbiB0aGlzIGJhdGNoIF9iZWZvcmVfIHRob3NlIHVwZGF0ZXMgdG9vayBwbGFjZS5cblx0ICogVGhleSBrZXlzIG9mIHRoaXMgbWFwIGFyZSBpZGVudGljYWwgdG8gYHRoaXMuI2N1cnJlbnRgXG5cdCAqIEB0eXBlIHtNYXA8U291cmNlLCBhbnk+fVxuXHQgKi9cblx0cHJldmlvdXMgPSBuZXcgTWFwKCk7XG5cblx0LyoqXG5cdCAqIFdoZW4gdGhlIGJhdGNoIGlzIGNvbW1pdHRlZCAoYW5kIHRoZSBET00gaXMgdXBkYXRlZCksIHdlIG5lZWQgdG8gcmVtb3ZlIG9sZCBicmFuY2hlc1xuXHQgKiBhbmQgYXBwZW5kIG5ldyBvbmVzIGJ5IGNhbGxpbmcgdGhlIGZ1bmN0aW9ucyBhZGRlZCBpbnNpZGUgKGlmL2VhY2gva2V5L2V0YykgYmxvY2tzXG5cdCAqIEB0eXBlIHtTZXQ8KCkgPT4gdm9pZD59XG5cdCAqL1xuXHQjY29tbWl0X2NhbGxiYWNrcyA9IG5ldyBTZXQoKTtcblxuXHQvKipcblx0ICogSWYgYSBmb3JrIGlzIGRpc2NhcmRlZCwgd2UgbmVlZCB0byBkZXN0cm95IGFueSBlZmZlY3RzIHRoYXQgYXJlIG5vIGxvbmdlciBuZWVkZWRcblx0ICogQHR5cGUge1NldDwoYmF0Y2g6IEJhdGNoKSA9PiB2b2lkPn1cblx0ICovXG5cdCNkaXNjYXJkX2NhbGxiYWNrcyA9IG5ldyBTZXQoKTtcblxuXHQvKipcblx0ICogVGhlIG51bWJlciBvZiBhc3luYyBlZmZlY3RzIHRoYXQgYXJlIGN1cnJlbnRseSBpbiBmbGlnaHRcblx0ICovXG5cdCNwZW5kaW5nID0gMDtcblxuXHQvKipcblx0ICogVGhlIG51bWJlciBvZiBhc3luYyBlZmZlY3RzIHRoYXQgYXJlIGN1cnJlbnRseSBpbiBmbGlnaHQsIF9ub3RfIGluc2lkZSBhIHBlbmRpbmcgYm91bmRhcnlcblx0ICovXG5cdCNibG9ja2luZ19wZW5kaW5nID0gMDtcblxuXHQvKipcblx0ICogQSBkZWZlcnJlZCB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIGJhdGNoIGlzIGNvbW1pdHRlZCwgdXNlZCB3aXRoIGBzZXR0bGVkKClgXG5cdCAqIFRPRE8gcmVwbGFjZSB3aXRoIFByb21pc2Uud2l0aFJlc29sdmVycyBvbmNlIHN1cHBvcnRlZCB3aWRlbHkgZW5vdWdoXG5cdCAqIEB0eXBlIHt7IHByb21pc2U6IFByb21pc2U8dm9pZD4sIHJlc29sdmU6ICh2YWx1ZT86IGFueSkgPT4gdm9pZCwgcmVqZWN0OiAocmVhc29uOiB1bmtub3duKSA9PiB2b2lkIH0gfCBudWxsfVxuXHQgKi9cblx0I2RlZmVycmVkID0gbnVsbDtcblxuXHQvKipcblx0ICogRGVmZXJyZWQgZWZmZWN0cyAod2hpY2ggcnVuIGFmdGVyIGFzeW5jIHdvcmsgaGFzIGNvbXBsZXRlZCkgdGhhdCBhcmUgRElSVFlcblx0ICogQHR5cGUge1NldDxFZmZlY3Q+fVxuXHQgKi9cblx0I2RpcnR5X2VmZmVjdHMgPSBuZXcgU2V0KCk7XG5cblx0LyoqXG5cdCAqIERlZmVycmVkIGVmZmVjdHMgdGhhdCBhcmUgTUFZQkVfRElSVFlcblx0ICogQHR5cGUge1NldDxFZmZlY3Q+fVxuXHQgKi9cblx0I21heWJlX2RpcnR5X2VmZmVjdHMgPSBuZXcgU2V0KCk7XG5cblx0LyoqXG5cdCAqIEEgc2V0IG9mIGJyYW5jaGVzIHRoYXQgc3RpbGwgZXhpc3QsIGJ1dCB3aWxsIGJlIGRlc3Ryb3llZCB3aGVuIHRoaXMgYmF0Y2hcblx0ICogaXMgY29tbWl0dGVkIOKAlCB3ZSBza2lwIG92ZXIgdGhlc2UgZHVyaW5nIGBwcm9jZXNzYFxuXHQgKiBAdHlwZSB7U2V0PEVmZmVjdD59XG5cdCAqL1xuXHRza2lwcGVkX2VmZmVjdHMgPSBuZXcgU2V0KCk7XG5cblx0aXNfZm9yayA9IGZhbHNlO1xuXG5cdGlzX2RlZmVycmVkKCkge1xuXHRcdHJldHVybiB0aGlzLmlzX2ZvcmsgfHwgdGhpcy4jYmxvY2tpbmdfcGVuZGluZyA+IDA7XG5cdH1cblxuXHQvKipcblx0ICpcblx0ICogQHBhcmFtIHtFZmZlY3RbXX0gcm9vdF9lZmZlY3RzXG5cdCAqL1xuXHRwcm9jZXNzKHJvb3RfZWZmZWN0cykge1xuXHRcdHF1ZXVlZF9yb290X2VmZmVjdHMgPSBbXTtcblxuXHRcdHByZXZpb3VzX2JhdGNoID0gbnVsbDtcblxuXHRcdHRoaXMuYXBwbHkoKTtcblxuXHRcdC8qKiBAdHlwZSB7RWZmZWN0VGFyZ2V0fSAqL1xuXHRcdHZhciB0YXJnZXQgPSB7XG5cdFx0XHRwYXJlbnQ6IG51bGwsXG5cdFx0XHRlZmZlY3Q6IG51bGwsXG5cdFx0XHRlZmZlY3RzOiBbXSxcblx0XHRcdHJlbmRlcl9lZmZlY3RzOiBbXVxuXHRcdH07XG5cblx0XHRmb3IgKGNvbnN0IHJvb3Qgb2Ygcm9vdF9lZmZlY3RzKSB7XG5cdFx0XHR0aGlzLiN0cmF2ZXJzZV9lZmZlY3RfdHJlZShyb290LCB0YXJnZXQpO1xuXHRcdFx0Ly8gTm90ZTogI3RyYXZlcnNlX2VmZmVjdF90cmVlIHJ1bnMgYmxvY2sgZWZmZWN0cyBlYWdlcmx5LCB3aGljaCBjYW4gc2NoZWR1bGUgZWZmZWN0cyxcblx0XHRcdC8vIHdoaWNoIG1lYW5zIHF1ZXVlZF9yb290X2VmZmVjdHMgbm93IG1heSBiZSBmaWxsZWQgYWdhaW4uXG5cblx0XHRcdC8vIEhlbHBmdWwgZm9yIGRlYnVnZ2luZyByZWFjdGl2aXR5IGxvc3MgdGhhdCBoYXMgdG8gZG8gd2l0aCBicmFuY2hlcyBiZWluZyBza2lwcGVkOlxuXHRcdFx0Ly8gbG9nX2luY29uc2lzdGVudF9icmFuY2hlcyhyb290KTtcblx0XHR9XG5cblx0XHRpZiAoIXRoaXMuaXNfZm9yaykge1xuXHRcdFx0dGhpcy4jcmVzb2x2ZSgpO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmlzX2RlZmVycmVkKCkpIHtcblx0XHRcdHRoaXMuI2RlZmVyX2VmZmVjdHModGFyZ2V0LmVmZmVjdHMpO1xuXHRcdFx0dGhpcy4jZGVmZXJfZWZmZWN0cyh0YXJnZXQucmVuZGVyX2VmZmVjdHMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBJZiBzb3VyY2VzIGFyZSB3cml0dGVuIHRvLCB0aGVuIHdvcmsgbmVlZHMgdG8gaGFwcGVuIGluIGEgc2VwYXJhdGUgYmF0Y2gsIGVsc2UgcHJpb3Igc291cmNlcyB3b3VsZCBiZSBtaXhlZCB3aXRoXG5cdFx0XHQvLyBuZXdseSB1cGRhdGVkIHNvdXJjZXMsIHdoaWNoIGNvdWxkIGxlYWQgdG8gaW5maW5pdGUgbG9vcHMgd2hlbiBlZmZlY3RzIHJ1biBvdmVyIGFuZCBvdmVyIGFnYWluLlxuXHRcdFx0cHJldmlvdXNfYmF0Y2ggPSB0aGlzO1xuXHRcdFx0Y3VycmVudF9iYXRjaCA9IG51bGw7XG5cblx0XHRcdGZsdXNoX3F1ZXVlZF9lZmZlY3RzKHRhcmdldC5yZW5kZXJfZWZmZWN0cyk7XG5cdFx0XHRmbHVzaF9xdWV1ZWRfZWZmZWN0cyh0YXJnZXQuZWZmZWN0cyk7XG5cblx0XHRcdHByZXZpb3VzX2JhdGNoID0gbnVsbDtcblxuXHRcdFx0dGhpcy4jZGVmZXJyZWQ/LnJlc29sdmUoKTtcblx0XHR9XG5cblx0XHRiYXRjaF92YWx1ZXMgPSBudWxsO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRyYXZlcnNlIHRoZSBlZmZlY3QgdHJlZSwgZXhlY3V0aW5nIGVmZmVjdHMgb3Igc3Rhc2hpbmdcblx0ICogdGhlbSBmb3IgbGF0ZXIgZXhlY3V0aW9uIGFzIGFwcHJvcHJpYXRlXG5cdCAqIEBwYXJhbSB7RWZmZWN0fSByb290XG5cdCAqIEBwYXJhbSB7RWZmZWN0VGFyZ2V0fSB0YXJnZXRcblx0ICovXG5cdCN0cmF2ZXJzZV9lZmZlY3RfdHJlZShyb290LCB0YXJnZXQpIHtcblx0XHRyb290LmYgXj0gQ0xFQU47XG5cblx0XHR2YXIgZWZmZWN0ID0gcm9vdC5maXJzdDtcblxuXHRcdHdoaWxlIChlZmZlY3QgIT09IG51bGwpIHtcblx0XHRcdHZhciBmbGFncyA9IGVmZmVjdC5mO1xuXHRcdFx0dmFyIGlzX2JyYW5jaCA9IChmbGFncyAmIChCUkFOQ0hfRUZGRUNUIHwgUk9PVF9FRkZFQ1QpKSAhPT0gMDtcblx0XHRcdHZhciBpc19za2lwcGFibGVfYnJhbmNoID0gaXNfYnJhbmNoICYmIChmbGFncyAmIENMRUFOKSAhPT0gMDtcblxuXHRcdFx0dmFyIHNraXAgPSBpc19za2lwcGFibGVfYnJhbmNoIHx8IChmbGFncyAmIElORVJUKSAhPT0gMCB8fCB0aGlzLnNraXBwZWRfZWZmZWN0cy5oYXMoZWZmZWN0KTtcblxuXHRcdFx0aWYgKChlZmZlY3QuZiAmIEJPVU5EQVJZX0VGRkVDVCkgIT09IDAgJiYgZWZmZWN0LmI/LmlzX3BlbmRpbmcoKSkge1xuXHRcdFx0XHR0YXJnZXQgPSB7XG5cdFx0XHRcdFx0cGFyZW50OiB0YXJnZXQsXG5cdFx0XHRcdFx0ZWZmZWN0LFxuXHRcdFx0XHRcdGVmZmVjdHM6IFtdLFxuXHRcdFx0XHRcdHJlbmRlcl9lZmZlY3RzOiBbXVxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIXNraXAgJiYgZWZmZWN0LmZuICE9PSBudWxsKSB7XG5cdFx0XHRcdGlmIChpc19icmFuY2gpIHtcblx0XHRcdFx0XHRlZmZlY3QuZiBePSBDTEVBTjtcblx0XHRcdFx0fSBlbHNlIGlmICgoZmxhZ3MgJiBFRkZFQ1QpICE9PSAwKSB7XG5cdFx0XHRcdFx0dGFyZ2V0LmVmZmVjdHMucHVzaChlZmZlY3QpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGFzeW5jX21vZGVfZmxhZyAmJiAoZmxhZ3MgJiAoUkVOREVSX0VGRkVDVCB8IE1BTkFHRURfRUZGRUNUKSkgIT09IDApIHtcblx0XHRcdFx0XHR0YXJnZXQucmVuZGVyX2VmZmVjdHMucHVzaChlZmZlY3QpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGlzX2RpcnR5KGVmZmVjdCkpIHtcblx0XHRcdFx0XHRpZiAoKGVmZmVjdC5mICYgQkxPQ0tfRUZGRUNUKSAhPT0gMCkgdGhpcy4jZGlydHlfZWZmZWN0cy5hZGQoZWZmZWN0KTtcblx0XHRcdFx0XHR1cGRhdGVfZWZmZWN0KGVmZmVjdCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YXIgY2hpbGQgPSBlZmZlY3QuZmlyc3Q7XG5cblx0XHRcdFx0aWYgKGNoaWxkICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0ZWZmZWN0ID0gY2hpbGQ7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0dmFyIHBhcmVudCA9IGVmZmVjdC5wYXJlbnQ7XG5cdFx0XHRlZmZlY3QgPSBlZmZlY3QubmV4dDtcblxuXHRcdFx0d2hpbGUgKGVmZmVjdCA9PT0gbnVsbCAmJiBwYXJlbnQgIT09IG51bGwpIHtcblx0XHRcdFx0aWYgKHBhcmVudCA9PT0gdGFyZ2V0LmVmZmVjdCkge1xuXHRcdFx0XHRcdC8vIFRPRE8gcmF0aGVyIHRoYW4gdHJhdmVyc2luZyBpbnRvIHBlbmRpbmcgYm91bmRhcmllcyBhbmQgZGVmZXJyaW5nIHRoZSBlZmZlY3RzLFxuXHRcdFx0XHRcdC8vIGNvdWxkIHdlIGp1c3QgYXR0YWNoIHRoZSBlZmZlY3RzIF90b18gdGhlIHBlbmRpbmcgYm91bmRhcnkgYW5kIHNjaGVkdWxlIHRoZW1cblx0XHRcdFx0XHQvLyBvbmNlIHRoZSBib3VuZGFyeSBpcyByZWFkeT9cblx0XHRcdFx0XHR0aGlzLiNkZWZlcl9lZmZlY3RzKHRhcmdldC5lZmZlY3RzKTtcblx0XHRcdFx0XHR0aGlzLiNkZWZlcl9lZmZlY3RzKHRhcmdldC5yZW5kZXJfZWZmZWN0cyk7XG5cblx0XHRcdFx0XHR0YXJnZXQgPSAvKiogQHR5cGUge0VmZmVjdFRhcmdldH0gKi8gKHRhcmdldC5wYXJlbnQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZWZmZWN0ID0gcGFyZW50Lm5leHQ7XG5cdFx0XHRcdHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7RWZmZWN0W119IGVmZmVjdHNcblx0ICovXG5cdCNkZWZlcl9lZmZlY3RzKGVmZmVjdHMpIHtcblx0XHRmb3IgKGNvbnN0IGUgb2YgZWZmZWN0cykge1xuXHRcdFx0aWYgKChlLmYgJiBESVJUWSkgIT09IDApIHtcblx0XHRcdFx0dGhpcy4jZGlydHlfZWZmZWN0cy5hZGQoZSk7XG5cdFx0XHR9IGVsc2UgaWYgKChlLmYgJiBNQVlCRV9ESVJUWSkgIT09IDApIHtcblx0XHRcdFx0dGhpcy4jbWF5YmVfZGlydHlfZWZmZWN0cy5hZGQoZSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNpbmNlIHdlJ3JlIG5vdCBleGVjdXRpbmcgdGhlc2UgZWZmZWN0cyBub3csIHdlIG5lZWQgdG8gY2xlYXIgYW55IFdBU19NQVJLRUQgZmxhZ3Ncblx0XHRcdC8vIHNvIHRoYXQgb3RoZXIgYmF0Y2hlcyBjYW4gY29ycmVjdGx5IHJlYWNoIHRoZXNlIGVmZmVjdHMgZHVyaW5nIHRoZWlyIG93biB0cmF2ZXJzYWxcblx0XHRcdHRoaXMuI2NsZWFyX21hcmtlZChlLmRlcHMpO1xuXG5cdFx0XHQvLyBtYXJrIGFzIGNsZWFuIHNvIHRoZXkgZ2V0IHNjaGVkdWxlZCBpZiB0aGV5IGRlcGVuZCBvbiBwZW5kaW5nIGFzeW5jIHN0YXRlXG5cdFx0XHRzZXRfc2lnbmFsX3N0YXR1cyhlLCBDTEVBTik7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7VmFsdWVbXSB8IG51bGx9IGRlcHNcblx0ICovXG5cdCNjbGVhcl9tYXJrZWQoZGVwcykge1xuXHRcdGlmIChkZXBzID09PSBudWxsKSByZXR1cm47XG5cblx0XHRmb3IgKGNvbnN0IGRlcCBvZiBkZXBzKSB7XG5cdFx0XHRpZiAoKGRlcC5mICYgREVSSVZFRCkgPT09IDAgfHwgKGRlcC5mICYgV0FTX01BUktFRCkgPT09IDApIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGRlcC5mIF49IFdBU19NQVJLRUQ7XG5cblx0XHRcdHRoaXMuI2NsZWFyX21hcmtlZCgvKiogQHR5cGUge0Rlcml2ZWR9ICovIChkZXApLmRlcHMpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBBc3NvY2lhdGUgYSBjaGFuZ2UgdG8gYSBnaXZlbiBzb3VyY2Ugd2l0aCB0aGUgY3VycmVudFxuXHQgKiBiYXRjaCwgbm90aW5nIGl0cyBwcmV2aW91cyBhbmQgY3VycmVudCB2YWx1ZXNcblx0ICogQHBhcmFtIHtTb3VyY2V9IHNvdXJjZVxuXHQgKiBAcGFyYW0ge2FueX0gdmFsdWVcblx0ICovXG5cdGNhcHR1cmUoc291cmNlLCB2YWx1ZSkge1xuXHRcdGlmICghdGhpcy5wcmV2aW91cy5oYXMoc291cmNlKSkge1xuXHRcdFx0dGhpcy5wcmV2aW91cy5zZXQoc291cmNlLCB2YWx1ZSk7XG5cdFx0fVxuXG5cdFx0Ly8gRG9uJ3Qgc2F2ZSBlcnJvcnMgaW4gYGJhdGNoX3ZhbHVlc2AsIG9yIHRoZXkgd29uJ3QgYmUgdGhyb3duIGluIGBydW50aW1lLmpzI2dldGBcblx0XHRpZiAoKHNvdXJjZS5mICYgRVJST1JfVkFMVUUpID09PSAwKSB7XG5cdFx0XHR0aGlzLmN1cnJlbnQuc2V0KHNvdXJjZSwgc291cmNlLnYpO1xuXHRcdFx0YmF0Y2hfdmFsdWVzPy5zZXQoc291cmNlLCBzb3VyY2Uudik7XG5cdFx0fVxuXHR9XG5cblx0YWN0aXZhdGUoKSB7XG5cdFx0Y3VycmVudF9iYXRjaCA9IHRoaXM7XG5cdFx0dGhpcy5hcHBseSgpO1xuXHR9XG5cblx0ZGVhY3RpdmF0ZSgpIHtcblx0XHQvLyBJZiB3ZSdyZSBub3QgdGhlIGN1cnJlbnQgYmF0Y2gsIGRvbid0IGRlYWN0aXZhdGUsXG5cdFx0Ly8gZWxzZSB3ZSBjb3VsZCBjcmVhdGUgem9tYmllIGJhdGNoZXMgdGhhdCBhcmUgbmV2ZXIgZmx1c2hlZFxuXHRcdGlmIChjdXJyZW50X2JhdGNoICE9PSB0aGlzKSByZXR1cm47XG5cblx0XHRjdXJyZW50X2JhdGNoID0gbnVsbDtcblx0XHRiYXRjaF92YWx1ZXMgPSBudWxsO1xuXHR9XG5cblx0Zmx1c2goKSB7XG5cdFx0dGhpcy5hY3RpdmF0ZSgpO1xuXG5cdFx0aWYgKHF1ZXVlZF9yb290X2VmZmVjdHMubGVuZ3RoID4gMCkge1xuXHRcdFx0Zmx1c2hfZWZmZWN0cygpO1xuXG5cdFx0XHRpZiAoY3VycmVudF9iYXRjaCAhPT0gbnVsbCAmJiBjdXJyZW50X2JhdGNoICE9PSB0aGlzKSB7XG5cdFx0XHRcdC8vIHRoaXMgY2FuIGhhcHBlbiBpZiBhIG5ldyBiYXRjaCB3YXMgY3JlYXRlZCBkdXJpbmcgYGZsdXNoX2VmZmVjdHMoKWBcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAodGhpcy4jcGVuZGluZyA9PT0gMCkge1xuXHRcdFx0dGhpcy5wcm9jZXNzKFtdKTsgLy8gVE9ETyB0aGlzIGZlZWxzIGF3a3dhcmRcblx0XHR9XG5cblx0XHR0aGlzLmRlYWN0aXZhdGUoKTtcblx0fVxuXG5cdGRpc2NhcmQoKSB7XG5cdFx0Zm9yIChjb25zdCBmbiBvZiB0aGlzLiNkaXNjYXJkX2NhbGxiYWNrcykgZm4odGhpcyk7XG5cdFx0dGhpcy4jZGlzY2FyZF9jYWxsYmFja3MuY2xlYXIoKTtcblx0fVxuXG5cdCNyZXNvbHZlKCkge1xuXHRcdGlmICh0aGlzLiNibG9ja2luZ19wZW5kaW5nID09PSAwKSB7XG5cdFx0XHQvLyBhcHBlbmQvcmVtb3ZlIGJyYW5jaGVzXG5cdFx0XHRmb3IgKGNvbnN0IGZuIG9mIHRoaXMuI2NvbW1pdF9jYWxsYmFja3MpIGZuKCk7XG5cdFx0XHR0aGlzLiNjb21taXRfY2FsbGJhY2tzLmNsZWFyKCk7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuI3BlbmRpbmcgPT09IDApIHtcblx0XHRcdHRoaXMuI2NvbW1pdCgpO1xuXHRcdH1cblx0fVxuXG5cdCNjb21taXQoKSB7XG5cdFx0Ly8gSWYgdGhlcmUgYXJlIG90aGVyIHBlbmRpbmcgYmF0Y2hlcywgdGhleSBub3cgbmVlZCB0byBiZSAncmViYXNlZCcg4oCUXG5cdFx0Ly8gaW4gb3RoZXIgd29yZHMsIHdlIHJlLXJ1biBibG9jay9hc3luYyBlZmZlY3RzIHdpdGggdGhlIG5ld2x5XG5cdFx0Ly8gY29tbWl0dGVkIHN0YXRlLCB1bmxlc3MgdGhlIGJhdGNoIGluIHF1ZXN0aW9uIGhhcyBhIG1vcmVcblx0XHQvLyByZWNlbnQgdmFsdWUgZm9yIGEgZ2l2ZW4gc291cmNlXG5cdFx0aWYgKGJhdGNoZXMuc2l6ZSA+IDEpIHtcblx0XHRcdHRoaXMucHJldmlvdXMuY2xlYXIoKTtcblxuXHRcdFx0dmFyIHByZXZpb3VzX2JhdGNoX3ZhbHVlcyA9IGJhdGNoX3ZhbHVlcztcblx0XHRcdHZhciBpc19lYXJsaWVyID0gdHJ1ZTtcblxuXHRcdFx0LyoqIEB0eXBlIHtFZmZlY3RUYXJnZXR9ICovXG5cdFx0XHR2YXIgZHVtbXlfdGFyZ2V0ID0ge1xuXHRcdFx0XHRwYXJlbnQ6IG51bGwsXG5cdFx0XHRcdGVmZmVjdDogbnVsbCxcblx0XHRcdFx0ZWZmZWN0czogW10sXG5cdFx0XHRcdHJlbmRlcl9lZmZlY3RzOiBbXVxuXHRcdFx0fTtcblxuXHRcdFx0Zm9yIChjb25zdCBiYXRjaCBvZiBiYXRjaGVzKSB7XG5cdFx0XHRcdGlmIChiYXRjaCA9PT0gdGhpcykge1xuXHRcdFx0XHRcdGlzX2VhcmxpZXIgPSBmYWxzZTtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8qKiBAdHlwZSB7U291cmNlW119ICovXG5cdFx0XHRcdGNvbnN0IHNvdXJjZXMgPSBbXTtcblxuXHRcdFx0XHRmb3IgKGNvbnN0IFtzb3VyY2UsIHZhbHVlXSBvZiB0aGlzLmN1cnJlbnQpIHtcblx0XHRcdFx0XHRpZiAoYmF0Y2guY3VycmVudC5oYXMoc291cmNlKSkge1xuXHRcdFx0XHRcdFx0aWYgKGlzX2VhcmxpZXIgJiYgdmFsdWUgIT09IGJhdGNoLmN1cnJlbnQuZ2V0KHNvdXJjZSkpIHtcblx0XHRcdFx0XHRcdFx0Ly8gYnJpbmcgdGhlIHZhbHVlIHVwIHRvIGRhdGVcblx0XHRcdFx0XHRcdFx0YmF0Y2guY3VycmVudC5zZXQoc291cmNlLCB2YWx1ZSk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQvLyBzYW1lIHZhbHVlIG9yIGxhdGVyIGJhdGNoIGhhcyBtb3JlIHJlY2VudCB2YWx1ZSxcblx0XHRcdFx0XHRcdFx0Ly8gbm8gbmVlZCB0byByZS1ydW4gdGhlc2UgZWZmZWN0c1xuXHRcdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRzb3VyY2VzLnB1c2goc291cmNlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChzb3VyY2VzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUmUtcnVuIGFzeW5jL2Jsb2NrIGVmZmVjdHMgdGhhdCBkZXBlbmQgb24gZGlzdGluY3QgdmFsdWVzIGNoYW5nZWQgaW4gYm90aCBiYXRjaGVzXG5cdFx0XHRcdGNvbnN0IG90aGVycyA9IFsuLi5iYXRjaC5jdXJyZW50LmtleXMoKV0uZmlsdGVyKChzKSA9PiAhdGhpcy5jdXJyZW50LmhhcyhzKSk7XG5cdFx0XHRcdGlmIChvdGhlcnMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdC8vIEF2b2lkIHJ1bm5pbmcgcXVldWVkIHJvb3QgZWZmZWN0cyBvbiB0aGUgd3JvbmcgYnJhbmNoXG5cdFx0XHRcdFx0dmFyIHByZXZfcXVldWVkX3Jvb3RfZWZmZWN0cyA9IHF1ZXVlZF9yb290X2VmZmVjdHM7XG5cdFx0XHRcdFx0cXVldWVkX3Jvb3RfZWZmZWN0cyA9IFtdO1xuXG5cdFx0XHRcdFx0LyoqIEB0eXBlIHtTZXQ8VmFsdWU+fSAqL1xuXHRcdFx0XHRcdGNvbnN0IG1hcmtlZCA9IG5ldyBTZXQoKTtcblx0XHRcdFx0XHQvKiogQHR5cGUge01hcDxSZWFjdGlvbiwgYm9vbGVhbj59ICovXG5cdFx0XHRcdFx0Y29uc3QgY2hlY2tlZCA9IG5ldyBNYXAoKTtcblx0XHRcdFx0XHRmb3IgKGNvbnN0IHNvdXJjZSBvZiBzb3VyY2VzKSB7XG5cdFx0XHRcdFx0XHRtYXJrX2VmZmVjdHMoc291cmNlLCBvdGhlcnMsIG1hcmtlZCwgY2hlY2tlZCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKHF1ZXVlZF9yb290X2VmZmVjdHMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFx0Y3VycmVudF9iYXRjaCA9IGJhdGNoO1xuXHRcdFx0XHRcdFx0YmF0Y2guYXBwbHkoKTtcblxuXHRcdFx0XHRcdFx0Zm9yIChjb25zdCByb290IG9mIHF1ZXVlZF9yb290X2VmZmVjdHMpIHtcblx0XHRcdFx0XHRcdFx0YmF0Y2guI3RyYXZlcnNlX2VmZmVjdF90cmVlKHJvb3QsIGR1bW15X3RhcmdldCk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIFRPRE8gZG8gd2UgbmVlZCB0byBkbyBhbnl0aGluZyB3aXRoIGB0YXJnZXRgPyBkZWZlciBibG9jayBlZmZlY3RzP1xuXG5cdFx0XHRcdFx0XHRiYXRjaC5kZWFjdGl2YXRlKCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cXVldWVkX3Jvb3RfZWZmZWN0cyA9IHByZXZfcXVldWVkX3Jvb3RfZWZmZWN0cztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRjdXJyZW50X2JhdGNoID0gbnVsbDtcblx0XHRcdGJhdGNoX3ZhbHVlcyA9IHByZXZpb3VzX2JhdGNoX3ZhbHVlcztcblx0XHR9XG5cblx0XHR0aGlzLmNvbW1pdHRlZCA9IHRydWU7XG5cdFx0YmF0Y2hlcy5kZWxldGUodGhpcyk7XG5cdH1cblxuXHQvKipcblx0ICpcblx0ICogQHBhcmFtIHtib29sZWFufSBibG9ja2luZ1xuXHQgKi9cblx0aW5jcmVtZW50KGJsb2NraW5nKSB7XG5cdFx0dGhpcy4jcGVuZGluZyArPSAxO1xuXHRcdGlmIChibG9ja2luZykgdGhpcy4jYmxvY2tpbmdfcGVuZGluZyArPSAxO1xuXHR9XG5cblx0LyoqXG5cdCAqXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gYmxvY2tpbmdcblx0ICovXG5cdGRlY3JlbWVudChibG9ja2luZykge1xuXHRcdHRoaXMuI3BlbmRpbmcgLT0gMTtcblx0XHRpZiAoYmxvY2tpbmcpIHRoaXMuI2Jsb2NraW5nX3BlbmRpbmcgLT0gMTtcblxuXHRcdHRoaXMucmV2aXZlKCk7XG5cdH1cblxuXHRyZXZpdmUoKSB7XG5cdFx0Zm9yIChjb25zdCBlIG9mIHRoaXMuI2RpcnR5X2VmZmVjdHMpIHtcblx0XHRcdHRoaXMuI21heWJlX2RpcnR5X2VmZmVjdHMuZGVsZXRlKGUpO1xuXHRcdFx0c2V0X3NpZ25hbF9zdGF0dXMoZSwgRElSVFkpO1xuXHRcdFx0c2NoZWR1bGVfZWZmZWN0KGUpO1xuXHRcdH1cblxuXHRcdGZvciAoY29uc3QgZSBvZiB0aGlzLiNtYXliZV9kaXJ0eV9lZmZlY3RzKSB7XG5cdFx0XHRzZXRfc2lnbmFsX3N0YXR1cyhlLCBNQVlCRV9ESVJUWSk7XG5cdFx0XHRzY2hlZHVsZV9lZmZlY3QoZSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5mbHVzaCgpO1xuXHR9XG5cblx0LyoqIEBwYXJhbSB7KCkgPT4gdm9pZH0gZm4gKi9cblx0b25jb21taXQoZm4pIHtcblx0XHR0aGlzLiNjb21taXRfY2FsbGJhY2tzLmFkZChmbik7XG5cdH1cblxuXHQvKiogQHBhcmFtIHsoYmF0Y2g6IEJhdGNoKSA9PiB2b2lkfSBmbiAqL1xuXHRvbmRpc2NhcmQoZm4pIHtcblx0XHR0aGlzLiNkaXNjYXJkX2NhbGxiYWNrcy5hZGQoZm4pO1xuXHR9XG5cblx0c2V0dGxlZCgpIHtcblx0XHRyZXR1cm4gKHRoaXMuI2RlZmVycmVkID8/PSBkZWZlcnJlZCgpKS5wcm9taXNlO1xuXHR9XG5cblx0c3RhdGljIGVuc3VyZSgpIHtcblx0XHRpZiAoY3VycmVudF9iYXRjaCA9PT0gbnVsbCkge1xuXHRcdFx0Y29uc3QgYmF0Y2ggPSAoY3VycmVudF9iYXRjaCA9IG5ldyBCYXRjaCgpKTtcblx0XHRcdGJhdGNoZXMuYWRkKGN1cnJlbnRfYmF0Y2gpO1xuXG5cdFx0XHRpZiAoIWlzX2ZsdXNoaW5nX3N5bmMpIHtcblx0XHRcdFx0QmF0Y2guZW5xdWV1ZSgoKSA9PiB7XG5cdFx0XHRcdFx0aWYgKGN1cnJlbnRfYmF0Y2ggIT09IGJhdGNoKSB7XG5cdFx0XHRcdFx0XHQvLyBhIGZsdXNoU3luYyBoYXBwZW5lZCBpbiB0aGUgbWVhbnRpbWVcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRiYXRjaC5mbHVzaCgpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gY3VycmVudF9iYXRjaDtcblx0fVxuXG5cdC8qKiBAcGFyYW0geygpID0+IHZvaWR9IHRhc2sgKi9cblx0c3RhdGljIGVucXVldWUodGFzaykge1xuXHRcdHF1ZXVlX21pY3JvX3Rhc2sodGFzayk7XG5cdH1cblxuXHRhcHBseSgpIHtcblx0XHRpZiAoIWFzeW5jX21vZGVfZmxhZyB8fCAoIXRoaXMuaXNfZm9yayAmJiBiYXRjaGVzLnNpemUgPT09IDEpKSByZXR1cm47XG5cblx0XHQvLyBpZiB0aGVyZSBhcmUgbXVsdGlwbGUgYmF0Y2hlcywgd2UgYXJlICd0aW1lIHRyYXZlbGxpbmcnIOKAlFxuXHRcdC8vIHdlIG5lZWQgdG8gb3ZlcnJpZGUgdmFsdWVzIHdpdGggdGhlIG9uZXMgaW4gdGhpcyBiYXRjaC4uLlxuXHRcdGJhdGNoX3ZhbHVlcyA9IG5ldyBNYXAodGhpcy5jdXJyZW50KTtcblxuXHRcdC8vIC4uLmFuZCB1bmRvIGNoYW5nZXMgYmVsb25naW5nIHRvIG90aGVyIGJhdGNoZXNcblx0XHRmb3IgKGNvbnN0IGJhdGNoIG9mIGJhdGNoZXMpIHtcblx0XHRcdGlmIChiYXRjaCA9PT0gdGhpcykgY29udGludWU7XG5cblx0XHRcdGZvciAoY29uc3QgW3NvdXJjZSwgcHJldmlvdXNdIG9mIGJhdGNoLnByZXZpb3VzKSB7XG5cdFx0XHRcdGlmICghYmF0Y2hfdmFsdWVzLmhhcyhzb3VyY2UpKSB7XG5cdFx0XHRcdFx0YmF0Y2hfdmFsdWVzLnNldChzb3VyY2UsIHByZXZpb3VzKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIFN5bmNocm9ub3VzbHkgZmx1c2ggYW55IHBlbmRpbmcgdXBkYXRlcy5cbiAqIFJldHVybnMgdm9pZCBpZiBubyBjYWxsYmFjayBpcyBwcm92aWRlZCwgb3RoZXJ3aXNlIHJldHVybnMgdGhlIHJlc3VsdCBvZiBjYWxsaW5nIHRoZSBjYWxsYmFjay5cbiAqIEB0ZW1wbGF0ZSBbVD12b2lkXVxuICogQHBhcmFtIHsoKCkgPT4gVCkgfCB1bmRlZmluZWR9IFtmbl1cbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZmx1c2hTeW5jKGZuKSB7XG5cdHZhciB3YXNfZmx1c2hpbmdfc3luYyA9IGlzX2ZsdXNoaW5nX3N5bmM7XG5cdGlzX2ZsdXNoaW5nX3N5bmMgPSB0cnVlO1xuXG5cdHRyeSB7XG5cdFx0dmFyIHJlc3VsdDtcblxuXHRcdGlmIChmbikge1xuXHRcdFx0aWYgKGN1cnJlbnRfYmF0Y2ggIT09IG51bGwpIHtcblx0XHRcdFx0Zmx1c2hfZWZmZWN0cygpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXN1bHQgPSBmbigpO1xuXHRcdH1cblxuXHRcdHdoaWxlICh0cnVlKSB7XG5cdFx0XHRmbHVzaF90YXNrcygpO1xuXG5cdFx0XHRpZiAocXVldWVkX3Jvb3RfZWZmZWN0cy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0Y3VycmVudF9iYXRjaD8uZmx1c2goKTtcblxuXHRcdFx0XHQvLyB3ZSBuZWVkIHRvIGNoZWNrIGFnYWluLCBpbiBjYXNlIHdlIGp1c3QgdXBkYXRlZCBhbiBgJGVmZmVjdC5wZW5kaW5nKClgXG5cdFx0XHRcdGlmIChxdWV1ZWRfcm9vdF9lZmZlY3RzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRcdC8vIHRoaXMgd291bGQgYmUgcmVzZXQgaW4gYGZsdXNoX2VmZmVjdHMoKWAgYnV0IHNpbmNlIHdlIGFyZSBlYXJseSByZXR1cm5pbmcgaGVyZSxcblx0XHRcdFx0XHQvLyB3ZSBuZWVkIHRvIHJlc2V0IGl0IGhlcmUgYXMgd2VsbCBpbiBjYXNlIHRoZSBmaXJzdCB0aW1lIHRoZXJlJ3MgMCBxdWV1ZWQgcm9vdCBlZmZlY3RzXG5cdFx0XHRcdFx0bGFzdF9zY2hlZHVsZWRfZWZmZWN0ID0gbnVsbDtcblxuXHRcdFx0XHRcdHJldHVybiAvKiogQHR5cGUge1R9ICovIChyZXN1bHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGZsdXNoX2VmZmVjdHMoKTtcblx0XHR9XG5cdH0gZmluYWxseSB7XG5cdFx0aXNfZmx1c2hpbmdfc3luYyA9IHdhc19mbHVzaGluZ19zeW5jO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGZsdXNoX2VmZmVjdHMoKSB7XG5cdHZhciB3YXNfdXBkYXRpbmdfZWZmZWN0ID0gaXNfdXBkYXRpbmdfZWZmZWN0O1xuXHRpc19mbHVzaGluZyA9IHRydWU7XG5cblx0dmFyIHNvdXJjZV9zdGFja3MgPSBERVYgPyBuZXcgU2V0KCkgOiBudWxsO1xuXG5cdHRyeSB7XG5cdFx0dmFyIGZsdXNoX2NvdW50ID0gMDtcblx0XHRzZXRfaXNfdXBkYXRpbmdfZWZmZWN0KHRydWUpO1xuXG5cdFx0d2hpbGUgKHF1ZXVlZF9yb290X2VmZmVjdHMubGVuZ3RoID4gMCkge1xuXHRcdFx0dmFyIGJhdGNoID0gQmF0Y2guZW5zdXJlKCk7XG5cblx0XHRcdGlmIChmbHVzaF9jb3VudCsrID4gMTAwMCkge1xuXHRcdFx0XHRpZiAoREVWKSB7XG5cdFx0XHRcdFx0dmFyIHVwZGF0ZXMgPSBuZXcgTWFwKCk7XG5cblx0XHRcdFx0XHRmb3IgKGNvbnN0IHNvdXJjZSBvZiBiYXRjaC5jdXJyZW50LmtleXMoKSkge1xuXHRcdFx0XHRcdFx0Zm9yIChjb25zdCBbc3RhY2ssIHVwZGF0ZV0gb2Ygc291cmNlLnVwZGF0ZWQgPz8gW10pIHtcblx0XHRcdFx0XHRcdFx0dmFyIGVudHJ5ID0gdXBkYXRlcy5nZXQoc3RhY2spO1xuXG5cdFx0XHRcdFx0XHRcdGlmICghZW50cnkpIHtcblx0XHRcdFx0XHRcdFx0XHRlbnRyeSA9IHsgZXJyb3I6IHVwZGF0ZS5lcnJvciwgY291bnQ6IDAgfTtcblx0XHRcdFx0XHRcdFx0XHR1cGRhdGVzLnNldChzdGFjaywgZW50cnkpO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0ZW50cnkuY291bnQgKz0gdXBkYXRlLmNvdW50O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGZvciAoY29uc3QgdXBkYXRlIG9mIHVwZGF0ZXMudmFsdWVzKCkpIHtcblx0XHRcdFx0XHRcdGlmICh1cGRhdGUuZXJyb3IpIHtcblx0XHRcdFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcblx0XHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcih1cGRhdGUuZXJyb3IpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGluZmluaXRlX2xvb3BfZ3VhcmQoKTtcblx0XHRcdH1cblxuXHRcdFx0YmF0Y2gucHJvY2VzcyhxdWV1ZWRfcm9vdF9lZmZlY3RzKTtcblx0XHRcdG9sZF92YWx1ZXMuY2xlYXIoKTtcblxuXHRcdFx0aWYgKERFVikge1xuXHRcdFx0XHRmb3IgKGNvbnN0IHNvdXJjZSBvZiBiYXRjaC5jdXJyZW50LmtleXMoKSkge1xuXHRcdFx0XHRcdC8qKiBAdHlwZSB7U2V0PFNvdXJjZT59ICovIChzb3VyY2Vfc3RhY2tzKS5hZGQoc291cmNlKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSBmaW5hbGx5IHtcblx0XHRpc19mbHVzaGluZyA9IGZhbHNlO1xuXHRcdHNldF9pc191cGRhdGluZ19lZmZlY3Qod2FzX3VwZGF0aW5nX2VmZmVjdCk7XG5cblx0XHRsYXN0X3NjaGVkdWxlZF9lZmZlY3QgPSBudWxsO1xuXG5cdFx0aWYgKERFVikge1xuXHRcdFx0Zm9yIChjb25zdCBzb3VyY2Ugb2YgLyoqIEB0eXBlIHtTZXQ8U291cmNlPn0gKi8gKHNvdXJjZV9zdGFja3MpKSB7XG5cdFx0XHRcdHNvdXJjZS51cGRhdGVkID0gbnVsbDtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gaW5maW5pdGVfbG9vcF9ndWFyZCgpIHtcblx0dHJ5IHtcblx0XHRlLmVmZmVjdF91cGRhdGVfZGVwdGhfZXhjZWVkZWQoKTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRpZiAoREVWKSB7XG5cdFx0XHQvLyBzdGFjayBjb250YWlucyBubyB1c2VmdWwgaW5mb3JtYXRpb24sIHJlcGxhY2UgaXRcblx0XHRcdGRlZmluZV9wcm9wZXJ0eShlcnJvciwgJ3N0YWNrJywgeyB2YWx1ZTogJycgfSk7XG5cdFx0fVxuXG5cdFx0Ly8gQmVzdCBlZmZvcnQ6IGludm9rZSB0aGUgYm91bmRhcnkgbmVhcmVzdCB0aGUgbW9zdCByZWNlbnRcblx0XHQvLyBlZmZlY3QgYW5kIGhvcGUgdGhhdCBpdCdzIHJlbGV2YW50IHRvIHRoZSBpbmZpbml0ZSBsb29wXG5cdFx0aW52b2tlX2Vycm9yX2JvdW5kYXJ5KGVycm9yLCBsYXN0X3NjaGVkdWxlZF9lZmZlY3QpO1xuXHR9XG59XG5cbi8qKiBAdHlwZSB7U2V0PEVmZmVjdD4gfCBudWxsfSAqL1xuZXhwb3J0IGxldCBlYWdlcl9ibG9ja19lZmZlY3RzID0gbnVsbDtcblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PEVmZmVjdD59IGVmZmVjdHNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiBmbHVzaF9xdWV1ZWRfZWZmZWN0cyhlZmZlY3RzKSB7XG5cdHZhciBsZW5ndGggPSBlZmZlY3RzLmxlbmd0aDtcblx0aWYgKGxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG5cdHZhciBpID0gMDtcblxuXHR3aGlsZSAoaSA8IGxlbmd0aCkge1xuXHRcdHZhciBlZmZlY3QgPSBlZmZlY3RzW2krK107XG5cblx0XHRpZiAoKGVmZmVjdC5mICYgKERFU1RST1lFRCB8IElORVJUKSkgPT09IDAgJiYgaXNfZGlydHkoZWZmZWN0KSkge1xuXHRcdFx0ZWFnZXJfYmxvY2tfZWZmZWN0cyA9IG5ldyBTZXQoKTtcblxuXHRcdFx0dXBkYXRlX2VmZmVjdChlZmZlY3QpO1xuXG5cdFx0XHQvLyBFZmZlY3RzIHdpdGggbm8gZGVwZW5kZW5jaWVzIG9yIHRlYXJkb3duIGRvIG5vdCBnZXQgYWRkZWQgdG8gdGhlIGVmZmVjdCB0cmVlLlxuXHRcdFx0Ly8gRGVmZXJyZWQgZWZmZWN0cyAoZS5nLiBgJGVmZmVjdCguLi4pYCkgX2FyZV8gYWRkZWQgdG8gdGhlIHRyZWUgYmVjYXVzZSB3ZVxuXHRcdFx0Ly8gZG9uJ3Qga25vdyBpZiB3ZSBuZWVkIHRvIGtlZXAgdGhlbSB1bnRpbCB0aGV5IGFyZSBleGVjdXRlZC4gRG9pbmcgdGhlIGNoZWNrXG5cdFx0XHQvLyBoZXJlIChyYXRoZXIgdGhhbiBpbiBgdXBkYXRlX2VmZmVjdGApIGFsbG93cyB1cyB0byBza2lwIHRoZSB3b3JrIGZvclxuXHRcdFx0Ly8gaW1tZWRpYXRlIGVmZmVjdHMuXG5cdFx0XHRpZiAoZWZmZWN0LmRlcHMgPT09IG51bGwgJiYgZWZmZWN0LmZpcnN0ID09PSBudWxsICYmIGVmZmVjdC5ub2RlcyA9PT0gbnVsbCkge1xuXHRcdFx0XHQvLyBpZiB0aGVyZSdzIG5vIHRlYXJkb3duIG9yIGFib3J0IGNvbnRyb2xsZXIgd2UgY29tcGxldGVseSB1bmxpbmtcblx0XHRcdFx0Ly8gdGhlIGVmZmVjdCBmcm9tIHRoZSBncmFwaFxuXHRcdFx0XHRpZiAoZWZmZWN0LnRlYXJkb3duID09PSBudWxsICYmIGVmZmVjdC5hYyA9PT0gbnVsbCkge1xuXHRcdFx0XHRcdC8vIHJlbW92ZSB0aGlzIGVmZmVjdCBmcm9tIHRoZSBncmFwaFxuXHRcdFx0XHRcdHVubGlua19lZmZlY3QoZWZmZWN0KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyBrZWVwIHRoZSBlZmZlY3QgaW4gdGhlIGdyYXBoLCBidXQgZnJlZSB1cCBzb21lIG1lbW9yeVxuXHRcdFx0XHRcdGVmZmVjdC5mbiA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgdXBkYXRlX2VmZmVjdCgpIGhhcyBhIGZsdXNoU3luYygpIGluIGl0LCB3ZSBtYXkgaGF2ZSBmbHVzaGVkIGFub3RoZXIgZmx1c2hfcXVldWVkX2VmZmVjdHMoKSxcblx0XHRcdC8vIHdoaWNoIGFscmVhZHkgaGFuZGxlZCB0aGlzIGxvZ2ljIGFuZCBkaWQgc2V0IGVhZ2VyX2Jsb2NrX2VmZmVjdHMgdG8gbnVsbC5cblx0XHRcdGlmIChlYWdlcl9ibG9ja19lZmZlY3RzPy5zaXplID4gMCkge1xuXHRcdFx0XHRvbGRfdmFsdWVzLmNsZWFyKCk7XG5cblx0XHRcdFx0Zm9yIChjb25zdCBlIG9mIGVhZ2VyX2Jsb2NrX2VmZmVjdHMpIHtcblx0XHRcdFx0XHQvLyBTa2lwIGVhZ2VyIGVmZmVjdHMgdGhhdCBoYXZlIGFscmVhZHkgYmVlbiB1bm1vdW50ZWRcblx0XHRcdFx0XHRpZiAoKGUuZiAmIChERVNUUk9ZRUQgfCBJTkVSVCkpICE9PSAwKSBjb250aW51ZTtcblxuXHRcdFx0XHRcdC8vIFJ1biBlZmZlY3RzIGluIG9yZGVyIGZyb20gYW5jZXN0b3IgdG8gZGVzY2VuZGFudCwgZWxzZSB3ZSBjb3VsZCBydW4gaW50byBudWxscG9pbnRlcnNcblx0XHRcdFx0XHQvKiogQHR5cGUge0VmZmVjdFtdfSAqL1xuXHRcdFx0XHRcdGNvbnN0IG9yZGVyZWRfZWZmZWN0cyA9IFtlXTtcblx0XHRcdFx0XHRsZXQgYW5jZXN0b3IgPSBlLnBhcmVudDtcblx0XHRcdFx0XHR3aGlsZSAoYW5jZXN0b3IgIT09IG51bGwpIHtcblx0XHRcdFx0XHRcdGlmIChlYWdlcl9ibG9ja19lZmZlY3RzLmhhcyhhbmNlc3RvcikpIHtcblx0XHRcdFx0XHRcdFx0ZWFnZXJfYmxvY2tfZWZmZWN0cy5kZWxldGUoYW5jZXN0b3IpO1xuXHRcdFx0XHRcdFx0XHRvcmRlcmVkX2VmZmVjdHMucHVzaChhbmNlc3Rvcik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRhbmNlc3RvciA9IGFuY2VzdG9yLnBhcmVudDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRmb3IgKGxldCBqID0gb3JkZXJlZF9lZmZlY3RzLmxlbmd0aCAtIDE7IGogPj0gMDsgai0tKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBlID0gb3JkZXJlZF9lZmZlY3RzW2pdO1xuXHRcdFx0XHRcdFx0Ly8gU2tpcCBlYWdlciBlZmZlY3RzIHRoYXQgaGF2ZSBhbHJlYWR5IGJlZW4gdW5tb3VudGVkXG5cdFx0XHRcdFx0XHRpZiAoKGUuZiAmIChERVNUUk9ZRUQgfCBJTkVSVCkpICE9PSAwKSBjb250aW51ZTtcblx0XHRcdFx0XHRcdHVwZGF0ZV9lZmZlY3QoZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZWFnZXJfYmxvY2tfZWZmZWN0cy5jbGVhcigpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGVhZ2VyX2Jsb2NrX2VmZmVjdHMgPSBudWxsO1xufVxuXG4vKipcbiAqIFRoaXMgaXMgc2ltaWxhciB0byBgbWFya19yZWFjdGlvbnNgLCBidXQgaXQgb25seSBtYXJrcyBhc3luYy9ibG9jayBlZmZlY3RzXG4gKiBkZXBlbmRpbmcgb24gYHZhbHVlYCBhbmQgYXQgbGVhc3Qgb25lIG9mIHRoZSBvdGhlciBgc291cmNlc2AsIHNvIHRoYXRcbiAqIHRoZXNlIGVmZmVjdHMgY2FuIHJlLXJ1biBhZnRlciBhbm90aGVyIGJhdGNoIGhhcyBiZWVuIGNvbW1pdHRlZFxuICogQHBhcmFtIHtWYWx1ZX0gdmFsdWVcbiAqIEBwYXJhbSB7U291cmNlW119IHNvdXJjZXNcbiAqIEBwYXJhbSB7U2V0PFZhbHVlPn0gbWFya2VkXG4gKiBAcGFyYW0ge01hcDxSZWFjdGlvbiwgYm9vbGVhbj59IGNoZWNrZWRcbiAqL1xuZnVuY3Rpb24gbWFya19lZmZlY3RzKHZhbHVlLCBzb3VyY2VzLCBtYXJrZWQsIGNoZWNrZWQpIHtcblx0aWYgKG1hcmtlZC5oYXModmFsdWUpKSByZXR1cm47XG5cdG1hcmtlZC5hZGQodmFsdWUpO1xuXG5cdGlmICh2YWx1ZS5yZWFjdGlvbnMgIT09IG51bGwpIHtcblx0XHRmb3IgKGNvbnN0IHJlYWN0aW9uIG9mIHZhbHVlLnJlYWN0aW9ucykge1xuXHRcdFx0Y29uc3QgZmxhZ3MgPSByZWFjdGlvbi5mO1xuXG5cdFx0XHRpZiAoKGZsYWdzICYgREVSSVZFRCkgIT09IDApIHtcblx0XHRcdFx0bWFya19lZmZlY3RzKC8qKiBAdHlwZSB7RGVyaXZlZH0gKi8gKHJlYWN0aW9uKSwgc291cmNlcywgbWFya2VkLCBjaGVja2VkKTtcblx0XHRcdH0gZWxzZSBpZiAoXG5cdFx0XHRcdChmbGFncyAmIChBU1lOQyB8IEJMT0NLX0VGRkVDVCkpICE9PSAwICYmXG5cdFx0XHRcdChmbGFncyAmIERJUlRZKSA9PT0gMCAmJlxuXHRcdFx0XHRkZXBlbmRzX29uKHJlYWN0aW9uLCBzb3VyY2VzLCBjaGVja2VkKVxuXHRcdFx0KSB7XG5cdFx0XHRcdHNldF9zaWduYWxfc3RhdHVzKHJlYWN0aW9uLCBESVJUWSk7XG5cdFx0XHRcdHNjaGVkdWxlX2VmZmVjdCgvKiogQHR5cGUge0VmZmVjdH0gKi8gKHJlYWN0aW9uKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogV2hlbiBjb21taXR0aW5nIGEgZm9yaywgd2UgbmVlZCB0byB0cmlnZ2VyIGVhZ2VyIGVmZmVjdHMgc28gdGhhdFxuICogYW55IGAkc3RhdGUuZWFnZXIoLi4uKWAgZXhwcmVzc2lvbnMgdXBkYXRlIGltbWVkaWF0ZWx5LiBUaGlzXG4gKiBmdW5jdGlvbiBhbGxvd3MgdXMgdG8gZGlzY292ZXIgdGhlbVxuICogQHBhcmFtIHtWYWx1ZX0gdmFsdWVcbiAqIEBwYXJhbSB7U2V0PEVmZmVjdD59IGVmZmVjdHNcbiAqL1xuZnVuY3Rpb24gbWFya19lYWdlcl9lZmZlY3RzKHZhbHVlLCBlZmZlY3RzKSB7XG5cdGlmICh2YWx1ZS5yZWFjdGlvbnMgPT09IG51bGwpIHJldHVybjtcblxuXHRmb3IgKGNvbnN0IHJlYWN0aW9uIG9mIHZhbHVlLnJlYWN0aW9ucykge1xuXHRcdGNvbnN0IGZsYWdzID0gcmVhY3Rpb24uZjtcblxuXHRcdGlmICgoZmxhZ3MgJiBERVJJVkVEKSAhPT0gMCkge1xuXHRcdFx0bWFya19lYWdlcl9lZmZlY3RzKC8qKiBAdHlwZSB7RGVyaXZlZH0gKi8gKHJlYWN0aW9uKSwgZWZmZWN0cyk7XG5cdFx0fSBlbHNlIGlmICgoZmxhZ3MgJiBFQUdFUl9FRkZFQ1QpICE9PSAwKSB7XG5cdFx0XHRzZXRfc2lnbmFsX3N0YXR1cyhyZWFjdGlvbiwgRElSVFkpO1xuXHRcdFx0ZWZmZWN0cy5hZGQoLyoqIEB0eXBlIHtFZmZlY3R9ICovIChyZWFjdGlvbikpO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7UmVhY3Rpb259IHJlYWN0aW9uXG4gKiBAcGFyYW0ge1NvdXJjZVtdfSBzb3VyY2VzXG4gKiBAcGFyYW0ge01hcDxSZWFjdGlvbiwgYm9vbGVhbj59IGNoZWNrZWRcbiAqL1xuZnVuY3Rpb24gZGVwZW5kc19vbihyZWFjdGlvbiwgc291cmNlcywgY2hlY2tlZCkge1xuXHRjb25zdCBkZXBlbmRzID0gY2hlY2tlZC5nZXQocmVhY3Rpb24pO1xuXHRpZiAoZGVwZW5kcyAhPT0gdW5kZWZpbmVkKSByZXR1cm4gZGVwZW5kcztcblxuXHRpZiAocmVhY3Rpb24uZGVwcyAhPT0gbnVsbCkge1xuXHRcdGZvciAoY29uc3QgZGVwIG9mIHJlYWN0aW9uLmRlcHMpIHtcblx0XHRcdGlmIChzb3VyY2VzLmluY2x1ZGVzKGRlcCkpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmICgoZGVwLmYgJiBERVJJVkVEKSAhPT0gMCAmJiBkZXBlbmRzX29uKC8qKiBAdHlwZSB7RGVyaXZlZH0gKi8gKGRlcCksIHNvdXJjZXMsIGNoZWNrZWQpKSB7XG5cdFx0XHRcdGNoZWNrZWQuc2V0KC8qKiBAdHlwZSB7RGVyaXZlZH0gKi8gKGRlcCksIHRydWUpO1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRjaGVja2VkLnNldChyZWFjdGlvbiwgZmFsc2UpO1xuXG5cdHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VmZmVjdH0gc2lnbmFsXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlX2VmZmVjdChzaWduYWwpIHtcblx0dmFyIGVmZmVjdCA9IChsYXN0X3NjaGVkdWxlZF9lZmZlY3QgPSBzaWduYWwpO1xuXG5cdHdoaWxlIChlZmZlY3QucGFyZW50ICE9PSBudWxsKSB7XG5cdFx0ZWZmZWN0ID0gZWZmZWN0LnBhcmVudDtcblx0XHR2YXIgZmxhZ3MgPSBlZmZlY3QuZjtcblxuXHRcdC8vIGlmIHRoZSBlZmZlY3QgaXMgYmVpbmcgc2NoZWR1bGVkIGJlY2F1c2UgYSBwYXJlbnQgKGVhY2gvYXdhaXQvZXRjKSBibG9ja1xuXHRcdC8vIHVwZGF0ZWQgYW4gaW50ZXJuYWwgc291cmNlLCBiYWlsIG91dCBvciB3ZSdsbCBjYXVzZSBhIHNlY29uZCBmbHVzaFxuXHRcdGlmIChcblx0XHRcdGlzX2ZsdXNoaW5nICYmXG5cdFx0XHRlZmZlY3QgPT09IGFjdGl2ZV9lZmZlY3QgJiZcblx0XHRcdChmbGFncyAmIEJMT0NLX0VGRkVDVCkgIT09IDAgJiZcblx0XHRcdChmbGFncyAmIEhFQURfRUZGRUNUKSA9PT0gMFxuXHRcdCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICgoZmxhZ3MgJiAoUk9PVF9FRkZFQ1QgfCBCUkFOQ0hfRUZGRUNUKSkgIT09IDApIHtcblx0XHRcdGlmICgoZmxhZ3MgJiBDTEVBTikgPT09IDApIHJldHVybjtcblx0XHRcdGVmZmVjdC5mIF49IENMRUFOO1xuXHRcdH1cblx0fVxuXG5cdHF1ZXVlZF9yb290X2VmZmVjdHMucHVzaChlZmZlY3QpO1xufVxuXG4vKiogQHR5cGUge1NvdXJjZTxudW1iZXI+W119ICovXG5sZXQgZWFnZXJfdmVyc2lvbnMgPSBbXTtcblxuZnVuY3Rpb24gZWFnZXJfZmx1c2goKSB7XG5cdHRyeSB7XG5cdFx0Zmx1c2hTeW5jKCgpID0+IHtcblx0XHRcdGZvciAoY29uc3QgdmVyc2lvbiBvZiBlYWdlcl92ZXJzaW9ucykge1xuXHRcdFx0XHR1cGRhdGUodmVyc2lvbik7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0gZmluYWxseSB7XG5cdFx0ZWFnZXJfdmVyc2lvbnMgPSBbXTtcblx0fVxufVxuXG4vKipcbiAqIEltcGxlbWVudGF0aW9uIG9mIGAkc3RhdGUuZWFnZXIoZm4oKSlgXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHsoKSA9PiBUfSBmblxuICogQHJldHVybnMge1R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlYWdlcihmbikge1xuXHR2YXIgdmVyc2lvbiA9IHNvdXJjZSgwKTtcblx0dmFyIGluaXRpYWwgPSB0cnVlO1xuXHR2YXIgdmFsdWUgPSAvKiogQHR5cGUge1R9ICovICh1bmRlZmluZWQpO1xuXG5cdGdldCh2ZXJzaW9uKTtcblxuXHRlYWdlcl9lZmZlY3QoKCkgPT4ge1xuXHRcdGlmIChpbml0aWFsKSB7XG5cdFx0XHQvLyB0aGUgZmlyc3QgdGltZSB0aGlzIHJ1bnMsIHdlIGNyZWF0ZSBhbiBlYWdlciBlZmZlY3Rcblx0XHRcdC8vIHRoYXQgd2lsbCBydW4gZWFnZXJseSB3aGVuZXZlciB0aGUgZXhwcmVzc2lvbiBjaGFuZ2VzXG5cdFx0XHR2YXIgcHJldmlvdXNfYmF0Y2hfdmFsdWVzID0gYmF0Y2hfdmFsdWVzO1xuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRiYXRjaF92YWx1ZXMgPSBudWxsO1xuXHRcdFx0XHR2YWx1ZSA9IGZuKCk7XG5cdFx0XHR9IGZpbmFsbHkge1xuXHRcdFx0XHRiYXRjaF92YWx1ZXMgPSBwcmV2aW91c19iYXRjaF92YWx1ZXM7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyB0aGUgc2Vjb25kIHRpbWUgdGhpcyBlZmZlY3QgcnVucywgaXQncyB0byBzY2hlZHVsZSBhXG5cdFx0Ly8gYHZlcnNpb25gIHVwZGF0ZS4gc2luY2UgdGhpcyB3aWxsIHJlY3JlYXRlIHRoZSBlZmZlY3QsXG5cdFx0Ly8gd2UgZG9uJ3QgbmVlZCB0byBldmFsdWF0ZSB0aGUgZXhwcmVzc2lvbiBoZXJlXG5cdFx0aWYgKGVhZ2VyX3ZlcnNpb25zLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0cXVldWVfbWljcm9fdGFzayhlYWdlcl9mbHVzaCk7XG5cdFx0fVxuXG5cdFx0ZWFnZXJfdmVyc2lvbnMucHVzaCh2ZXJzaW9uKTtcblx0fSk7XG5cblx0aW5pdGlhbCA9IGZhbHNlO1xuXG5cdHJldHVybiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgJ2ZvcmsnLCBpbiB3aGljaCBzdGF0ZSBjaGFuZ2VzIGFyZSBldmFsdWF0ZWQgYnV0IG5vdCBhcHBsaWVkIHRvIHRoZSBET00uXG4gKiBUaGlzIGlzIHVzZWZ1bCBmb3Igc3BlY3VsYXRpdmVseSBsb2FkaW5nIGRhdGEgKGZvciBleGFtcGxlKSB3aGVuIHlvdSBzdXNwZWN0IHRoYXRcbiAqIHRoZSB1c2VyIGlzIGFib3V0IHRvIHRha2Ugc29tZSBhY3Rpb24uXG4gKlxuICogRnJhbWV3b3JrcyBsaWtlIFN2ZWx0ZUtpdCBjYW4gdXNlIHRoaXMgdG8gcHJlbG9hZCBkYXRhIHdoZW4gdGhlIHVzZXIgdG91Y2hlcyBvclxuICogaG92ZXJzIG92ZXIgYSBsaW5rLCBtYWtpbmcgYW55IHN1YnNlcXVlbnQgbmF2aWdhdGlvbiBmZWVsIGluc3RhbnRhbmVvdXMuXG4gKlxuICogVGhlIGBmbmAgcGFyYW1ldGVyIGlzIGEgc3luY2hyb25vdXMgZnVuY3Rpb24gdGhhdCBtb2RpZmllcyBzb21lIHN0YXRlLiBUaGVcbiAqIHN0YXRlIGNoYW5nZXMgd2lsbCBiZSByZXZlcnRlZCBhZnRlciB0aGUgZm9yayBpcyBpbml0aWFsaXNlZCwgdGhlbiByZWFwcGxpZWRcbiAqIGlmIGFuZCB3aGVuIHRoZSBmb3JrIGlzIGV2ZW50dWFsbHkgY29tbWl0dGVkLlxuICpcbiAqIFdoZW4gaXQgYmVjb21lcyBjbGVhciB0aGF0IGEgZm9yayB3aWxsIF9ub3RfIGJlIGNvbW1pdHRlZCAoZS5nLiBiZWNhdXNlIHRoZVxuICogdXNlciBuYXZpZ2F0ZWQgZWxzZXdoZXJlKSwgaXQgbXVzdCBiZSBkaXNjYXJkZWQgdG8gYXZvaWQgbGVha2luZyBtZW1vcnkuXG4gKlxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBmblxuICogQHJldHVybnMge0Zvcmt9XG4gKiBAc2luY2UgNS40MlxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9yayhmbikge1xuXHRpZiAoIWFzeW5jX21vZGVfZmxhZykge1xuXHRcdGUuZXhwZXJpbWVudGFsX2FzeW5jX3JlcXVpcmVkKCdmb3JrJyk7XG5cdH1cblxuXHRpZiAoY3VycmVudF9iYXRjaCAhPT0gbnVsbCkge1xuXHRcdGUuZm9ya190aW1pbmcoKTtcblx0fVxuXG5cdHZhciBiYXRjaCA9IEJhdGNoLmVuc3VyZSgpO1xuXHRiYXRjaC5pc19mb3JrID0gdHJ1ZTtcblx0YmF0Y2hfdmFsdWVzID0gbmV3IE1hcCgpO1xuXG5cdHZhciBjb21taXR0ZWQgPSBmYWxzZTtcblx0dmFyIHNldHRsZWQgPSBiYXRjaC5zZXR0bGVkKCk7XG5cblx0Zmx1c2hTeW5jKGZuKTtcblxuXHRiYXRjaF92YWx1ZXMgPSBudWxsO1xuXG5cdC8vIHJldmVydCBzdGF0ZSBjaGFuZ2VzXG5cdGZvciAodmFyIFtzb3VyY2UsIHZhbHVlXSBvZiBiYXRjaC5wcmV2aW91cykge1xuXHRcdHNvdXJjZS52ID0gdmFsdWU7XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdGNvbW1pdDogYXN5bmMgKCkgPT4ge1xuXHRcdFx0aWYgKGNvbW1pdHRlZCkge1xuXHRcdFx0XHRhd2FpdCBzZXR0bGVkO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICghYmF0Y2hlcy5oYXMoYmF0Y2gpKSB7XG5cdFx0XHRcdGUuZm9ya19kaXNjYXJkZWQoKTtcblx0XHRcdH1cblxuXHRcdFx0Y29tbWl0dGVkID0gdHJ1ZTtcblxuXHRcdFx0YmF0Y2guaXNfZm9yayA9IGZhbHNlO1xuXG5cdFx0XHQvLyBhcHBseSBjaGFuZ2VzXG5cdFx0XHRmb3IgKHZhciBbc291cmNlLCB2YWx1ZV0gb2YgYmF0Y2guY3VycmVudCkge1xuXHRcdFx0XHRzb3VyY2UudiA9IHZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyB0cmlnZ2VyIGFueSBgJHN0YXRlLmVhZ2VyKC4uLilgIGV4cHJlc3Npb25zIHdpdGggdGhlIG5ldyBzdGF0ZS5cblx0XHRcdC8vIGVhZ2VyIGVmZmVjdHMgZG9uJ3QgZ2V0IHNjaGVkdWxlZCBsaWtlIG90aGVyIGVmZmVjdHMsIHNvIHdlXG5cdFx0XHQvLyBjYW4ndCBqdXN0IGVuY291bnRlciB0aGVtIGR1cmluZyB0cmF2ZXJzYWwsIHdlIG5lZWQgdG9cblx0XHRcdC8vIHByb2FjdGl2ZWx5IGZsdXNoIHRoZW1cblx0XHRcdC8vIFRPRE8gbWF5YmUgdGhlcmUncyBhIGJldHRlciBpbXBsZW1lbnRhdGlvbj9cblx0XHRcdGZsdXNoU3luYygoKSA9PiB7XG5cdFx0XHRcdC8qKiBAdHlwZSB7U2V0PEVmZmVjdD59ICovXG5cdFx0XHRcdHZhciBlYWdlcl9lZmZlY3RzID0gbmV3IFNldCgpO1xuXG5cdFx0XHRcdGZvciAodmFyIHNvdXJjZSBvZiBiYXRjaC5jdXJyZW50LmtleXMoKSkge1xuXHRcdFx0XHRcdG1hcmtfZWFnZXJfZWZmZWN0cyhzb3VyY2UsIGVhZ2VyX2VmZmVjdHMpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0c2V0X2VhZ2VyX2VmZmVjdHMoZWFnZXJfZWZmZWN0cyk7XG5cdFx0XHRcdGZsdXNoX2VhZ2VyX2VmZmVjdHMoKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRiYXRjaC5yZXZpdmUoKTtcblx0XHRcdGF3YWl0IHNldHRsZWQ7XG5cdFx0fSxcblx0XHRkaXNjYXJkOiAoKSA9PiB7XG5cdFx0XHRpZiAoIWNvbW1pdHRlZCAmJiBiYXRjaGVzLmhhcyhiYXRjaCkpIHtcblx0XHRcdFx0YmF0Y2hlcy5kZWxldGUoYmF0Y2gpO1xuXHRcdFx0XHRiYXRjaC5kaXNjYXJkKCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vKipcbiAqIEZvcmNpYmx5IHJlbW92ZSBhbGwgY3VycmVudCBiYXRjaGVzLCB0byBwcmV2ZW50IGNyb3NzLXRhbGsgYmV0d2VlbiB0ZXN0c1xuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXIoKSB7XG5cdGJhdGNoZXMuY2xlYXIoKTtcbn1cbiIsImltcG9ydCB7IGdldCwgdGljaywgdW50cmFjayB9IGZyb20gJy4uL2ludGVybmFsL2NsaWVudC9ydW50aW1lLmpzJztcbmltcG9ydCB7IGVmZmVjdF90cmFja2luZywgcmVuZGVyX2VmZmVjdCB9IGZyb20gJy4uL2ludGVybmFsL2NsaWVudC9yZWFjdGl2aXR5L2VmZmVjdHMuanMnO1xuaW1wb3J0IHsgc291cmNlLCBpbmNyZW1lbnQgfSBmcm9tICcuLi9pbnRlcm5hbC9jbGllbnQvcmVhY3Rpdml0eS9zb3VyY2VzLmpzJztcbmltcG9ydCB7IHRhZyB9IGZyb20gJy4uL2ludGVybmFsL2NsaWVudC9kZXYvdHJhY2luZy5qcyc7XG5pbXBvcnQgeyBERVYgfSBmcm9tICdlc20tZW52JztcbmltcG9ydCB7IHF1ZXVlX21pY3JvX3Rhc2sgfSBmcm9tICcuLi9pbnRlcm5hbC9jbGllbnQvZG9tL3Rhc2suanMnO1xuXG4vKipcbiAqIFJldHVybnMgYSBgc3Vic2NyaWJlYCBmdW5jdGlvbiB0aGF0IGludGVncmF0ZXMgZXh0ZXJuYWwgZXZlbnQtYmFzZWQgc3lzdGVtcyB3aXRoIFN2ZWx0ZSdzIHJlYWN0aXZpdHkuXG4gKiBJdCdzIHBhcnRpY3VsYXJseSB1c2VmdWwgZm9yIGludGVncmF0aW5nIHdpdGggd2ViIEFQSXMgbGlrZSBgTWVkaWFRdWVyeWAsIGBJbnRlcnNlY3Rpb25PYnNlcnZlcmAsIG9yIGBXZWJTb2NrZXRgLlxuICpcbiAqIElmIGBzdWJzY3JpYmVgIGlzIGNhbGxlZCBpbnNpZGUgYW4gZWZmZWN0IChpbmNsdWRpbmcgaW5kaXJlY3RseSwgZm9yIGV4YW1wbGUgaW5zaWRlIGEgZ2V0dGVyKSxcbiAqIHRoZSBgc3RhcnRgIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHdpdGggYW4gYHVwZGF0ZWAgZnVuY3Rpb24uIFdoZW5ldmVyIGB1cGRhdGVgIGlzIGNhbGxlZCwgdGhlIGVmZmVjdCByZS1ydW5zLlxuICpcbiAqIElmIGBzdGFydGAgcmV0dXJucyBhIGNsZWFudXAgZnVuY3Rpb24sIGl0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGVmZmVjdCBpcyBkZXN0cm95ZWQuXG4gKlxuICogSWYgYHN1YnNjcmliZWAgaXMgY2FsbGVkIGluIG11bHRpcGxlIGVmZmVjdHMsIGBzdGFydGAgd2lsbCBvbmx5IGJlIGNhbGxlZCBvbmNlIGFzIGxvbmcgYXMgdGhlIGVmZmVjdHNcbiAqIGFyZSBhY3RpdmUsIGFuZCB0aGUgcmV0dXJuZWQgdGVhcmRvd24gZnVuY3Rpb24gd2lsbCBvbmx5IGJlIGNhbGxlZCB3aGVuIGFsbCBlZmZlY3RzIGFyZSBkZXN0cm95ZWQuXG4gKlxuICogSXQncyBiZXN0IHVuZGVyc3Rvb2Qgd2l0aCBhbiBleGFtcGxlLiBIZXJlJ3MgYW4gaW1wbGVtZW50YXRpb24gb2YgW2BNZWRpYVF1ZXJ5YF0oaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlL3N2ZWx0ZS1yZWFjdGl2aXR5I01lZGlhUXVlcnkpOlxuICpcbiAqIGBgYGpzXG4gKiBpbXBvcnQgeyBjcmVhdGVTdWJzY3JpYmVyIH0gZnJvbSAnc3ZlbHRlL3JlYWN0aXZpdHknO1xuICogaW1wb3J0IHsgb24gfSBmcm9tICdzdmVsdGUvZXZlbnRzJztcbiAqXG4gKiBleHBvcnQgY2xhc3MgTWVkaWFRdWVyeSB7XG4gKiBcdCNxdWVyeTtcbiAqIFx0I3N1YnNjcmliZTtcbiAqXG4gKiBcdGNvbnN0cnVjdG9yKHF1ZXJ5KSB7XG4gKiBcdFx0dGhpcy4jcXVlcnkgPSB3aW5kb3cubWF0Y2hNZWRpYShgKCR7cXVlcnl9KWApO1xuICpcbiAqIFx0XHR0aGlzLiNzdWJzY3JpYmUgPSBjcmVhdGVTdWJzY3JpYmVyKCh1cGRhdGUpID0+IHtcbiAqIFx0XHRcdC8vIHdoZW4gdGhlIGBjaGFuZ2VgIGV2ZW50IG9jY3VycywgcmUtcnVuIGFueSBlZmZlY3RzIHRoYXQgcmVhZCBgdGhpcy5jdXJyZW50YFxuICogXHRcdFx0Y29uc3Qgb2ZmID0gb24odGhpcy4jcXVlcnksICdjaGFuZ2UnLCB1cGRhdGUpO1xuICpcbiAqIFx0XHRcdC8vIHN0b3AgbGlzdGVuaW5nIHdoZW4gYWxsIHRoZSBlZmZlY3RzIGFyZSBkZXN0cm95ZWRcbiAqIFx0XHRcdHJldHVybiAoKSA9PiBvZmYoKTtcbiAqIFx0XHR9KTtcbiAqIFx0fVxuICpcbiAqIFx0Z2V0IGN1cnJlbnQoKSB7XG4gKiBcdFx0Ly8gVGhpcyBtYWtlcyB0aGUgZ2V0dGVyIHJlYWN0aXZlLCBpZiByZWFkIGluIGFuIGVmZmVjdFxuICogXHRcdHRoaXMuI3N1YnNjcmliZSgpO1xuICpcbiAqIFx0XHQvLyBSZXR1cm4gdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIHF1ZXJ5LCB3aGV0aGVyIG9yIG5vdCB3ZSdyZSBpbiBhbiBlZmZlY3RcbiAqIFx0XHRyZXR1cm4gdGhpcy4jcXVlcnkubWF0Y2hlcztcbiAqIFx0fVxuICogfVxuICogYGBgXG4gKiBAcGFyYW0geyh1cGRhdGU6ICgpID0+IHZvaWQpID0+ICgoKSA9PiB2b2lkKSB8IHZvaWR9IHN0YXJ0XG4gKiBAc2luY2UgNS43LjBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVN1YnNjcmliZXIoc3RhcnQpIHtcblx0bGV0IHN1YnNjcmliZXJzID0gMDtcblx0bGV0IHZlcnNpb24gPSBzb3VyY2UoMCk7XG5cdC8qKiBAdHlwZSB7KCgpID0+IHZvaWQpIHwgdm9pZH0gKi9cblx0bGV0IHN0b3A7XG5cblx0aWYgKERFVikge1xuXHRcdHRhZyh2ZXJzaW9uLCAnY3JlYXRlU3Vic2NyaWJlciB2ZXJzaW9uJyk7XG5cdH1cblxuXHRyZXR1cm4gKCkgPT4ge1xuXHRcdGlmIChlZmZlY3RfdHJhY2tpbmcoKSkge1xuXHRcdFx0Z2V0KHZlcnNpb24pO1xuXG5cdFx0XHRyZW5kZXJfZWZmZWN0KCgpID0+IHtcblx0XHRcdFx0aWYgKHN1YnNjcmliZXJzID09PSAwKSB7XG5cdFx0XHRcdFx0c3RvcCA9IHVudHJhY2soKCkgPT4gc3RhcnQoKCkgPT4gaW5jcmVtZW50KHZlcnNpb24pKSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRzdWJzY3JpYmVycyArPSAxO1xuXG5cdFx0XHRcdHJldHVybiAoKSA9PiB7XG5cdFx0XHRcdFx0cXVldWVfbWljcm9fdGFzaygoKSA9PiB7XG5cdFx0XHRcdFx0XHQvLyBPbmx5IGNvdW50IGRvd24gYWZ0ZXIgYSBtaWNyb3Rhc2ssIGVsc2Ugd2Ugd291bGQgcmVhY2ggMCBiZWZvcmUgb3VyIG93biByZW5kZXIgZWZmZWN0IHJlcnVucyxcblx0XHRcdFx0XHRcdC8vIGJ1dCByZWFjaCAxIGFnYWluIHdoZW4gdGhlIHRpY2sgY2FsbGJhY2sgb2YgdGhlIHByaW9yIHRlYXJkb3duIHJ1bnMuIFRoYXQgd291bGQgbWVhbiB3ZVxuXHRcdFx0XHRcdFx0Ly8gcmUtc3ViY3JpYmUgdW5uZWNlc3NhcmlseSBhbmQgY3JlYXRlIGEgbWVtb3J5IGxlYWsgYmVjYXVzZSB0aGUgb2xkIHN1YnNjcmlwdGlvbiBpcyBuZXZlciBjbGVhbmVkIHVwLlxuXHRcdFx0XHRcdFx0c3Vic2NyaWJlcnMgLT0gMTtcblxuXHRcdFx0XHRcdFx0aWYgKHN1YnNjcmliZXJzID09PSAwKSB7XG5cdFx0XHRcdFx0XHRcdHN0b3A/LigpO1xuXHRcdFx0XHRcdFx0XHRzdG9wID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0XHQvLyBJbmNyZW1lbnQgdGhlIHZlcnNpb24gdG8gZW5zdXJlIGFueSBkZXBlbmRlbnQgZGVyaXZlZHMgYXJlIG1hcmtlZCBkaXJ0eSB3aGVuIHRoZSBzdWJzY3JpcHRpb24gaXMgcGlja2VkIHVwIGFnYWluIGxhdGVyLlxuXHRcdFx0XHRcdFx0XHQvLyBJZiB3ZSBkaWRuJ3QgZG8gdGhpcyB0aGVuIHRoZSBjb21wYXJpc29uIG9mIHdyaXRlIHZlcnNpb25zIHdvdWxkIGRldGVybWluZSB0aGF0IHRoZSBkZXJpdmVkIGhhcyBhIGxhdGVyIHZlcnNpb24gdGhhblxuXHRcdFx0XHRcdFx0XHQvLyB0aGUgc3Vic2NyaWJlciwgYW5kIGl0IHdvdWxkIG5vdCBiZSByZS1ydW4uXG5cdFx0XHRcdFx0XHRcdGluY3JlbWVudCh2ZXJzaW9uKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fTtcbn1cbiIsIi8qKiBAaW1wb3J0IHsgRWZmZWN0LCBTb3VyY2UsIFRlbXBsYXRlTm9kZSwgfSBmcm9tICcjY2xpZW50JyAqL1xuaW1wb3J0IHtcblx0Qk9VTkRBUllfRUZGRUNULFxuXHRDT01NRU5UX05PREUsXG5cdEVGRkVDVF9QUkVTRVJWRUQsXG5cdEVGRkVDVF9UUkFOU1BBUkVOVFxufSBmcm9tICcjY2xpZW50L2NvbnN0YW50cyc7XG5pbXBvcnQgeyBIWURSQVRJT05fU1RBUlRfRUxTRSB9IGZyb20gJy4uLy4uLy4uLy4uL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBjb21wb25lbnRfY29udGV4dCwgc2V0X2NvbXBvbmVudF9jb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC5qcyc7XG5pbXBvcnQgeyBoYW5kbGVfZXJyb3IsIGludm9rZV9lcnJvcl9ib3VuZGFyeSB9IGZyb20gJy4uLy4uL2Vycm9yLWhhbmRsaW5nLmpzJztcbmltcG9ydCB7XG5cdGJsb2NrLFxuXHRicmFuY2gsXG5cdGRlc3Ryb3lfZWZmZWN0LFxuXHRtb3ZlX2VmZmVjdCxcblx0cGF1c2VfZWZmZWN0XG59IGZyb20gJy4uLy4uL3JlYWN0aXZpdHkvZWZmZWN0cy5qcyc7XG5pbXBvcnQge1xuXHRhY3RpdmVfZWZmZWN0LFxuXHRhY3RpdmVfcmVhY3Rpb24sXG5cdGdldCxcblx0c2V0X2FjdGl2ZV9lZmZlY3QsXG5cdHNldF9hY3RpdmVfcmVhY3Rpb25cbn0gZnJvbSAnLi4vLi4vcnVudGltZS5qcyc7XG5pbXBvcnQge1xuXHRoeWRyYXRlX25leHQsXG5cdGh5ZHJhdGVfbm9kZSxcblx0aHlkcmF0aW5nLFxuXHRuZXh0LFxuXHRza2lwX25vZGVzLFxuXHRzZXRfaHlkcmF0ZV9ub2RlXG59IGZyb20gJy4uL2h5ZHJhdGlvbi5qcyc7XG5pbXBvcnQgeyBxdWV1ZV9taWNyb190YXNrIH0gZnJvbSAnLi4vdGFzay5qcyc7XG5pbXBvcnQgKiBhcyBlIGZyb20gJy4uLy4uL2Vycm9ycy5qcyc7XG5pbXBvcnQgKiBhcyB3IGZyb20gJy4uLy4uL3dhcm5pbmdzLmpzJztcbmltcG9ydCB7IERFViB9IGZyb20gJ2VzbS1lbnYnO1xuaW1wb3J0IHsgQmF0Y2ggfSBmcm9tICcuLi8uLi9yZWFjdGl2aXR5L2JhdGNoLmpzJztcbmltcG9ydCB7IGludGVybmFsX3NldCwgc291cmNlIH0gZnJvbSAnLi4vLi4vcmVhY3Rpdml0eS9zb3VyY2VzLmpzJztcbmltcG9ydCB7IHRhZyB9IGZyb20gJy4uLy4uL2Rldi90cmFjaW5nLmpzJztcbmltcG9ydCB7IGNyZWF0ZVN1YnNjcmliZXIgfSBmcm9tICcuLi8uLi8uLi8uLi9yZWFjdGl2aXR5L2NyZWF0ZS1zdWJzY3JpYmVyLmpzJztcbmltcG9ydCB7IGNyZWF0ZV90ZXh0IH0gZnJvbSAnLi4vb3BlcmF0aW9ucy5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge3tcbiAqIFx0IG9uZXJyb3I/OiAoZXJyb3I6IHVua25vd24sIHJlc2V0OiAoKSA9PiB2b2lkKSA9PiB2b2lkO1xuICogICBmYWlsZWQ/OiAoYW5jaG9yOiBOb2RlLCBlcnJvcjogKCkgPT4gdW5rbm93biwgcmVzZXQ6ICgpID0+ICgpID0+IHZvaWQpID0+IHZvaWQ7XG4gKiAgIHBlbmRpbmc/OiAoYW5jaG9yOiBOb2RlKSA9PiB2b2lkO1xuICogfX0gQm91bmRhcnlQcm9wc1xuICovXG5cbnZhciBmbGFncyA9IEVGRkVDVF9UUkFOU1BBUkVOVCB8IEVGRkVDVF9QUkVTRVJWRUQgfCBCT1VOREFSWV9FRkZFQ1Q7XG5cbi8qKlxuICogQHBhcmFtIHtUZW1wbGF0ZU5vZGV9IG5vZGVcbiAqIEBwYXJhbSB7Qm91bmRhcnlQcm9wc30gcHJvcHNcbiAqIEBwYXJhbSB7KChhbmNob3I6IE5vZGUpID0+IHZvaWQpfSBjaGlsZHJlblxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBib3VuZGFyeShub2RlLCBwcm9wcywgY2hpbGRyZW4pIHtcblx0bmV3IEJvdW5kYXJ5KG5vZGUsIHByb3BzLCBjaGlsZHJlbik7XG59XG5cbmV4cG9ydCBjbGFzcyBCb3VuZGFyeSB7XG5cdC8qKiBAdHlwZSB7Qm91bmRhcnkgfCBudWxsfSAqL1xuXHRwYXJlbnQ7XG5cblx0I3BlbmRpbmcgPSBmYWxzZTtcblxuXHQvKiogQHR5cGUge1RlbXBsYXRlTm9kZX0gKi9cblx0I2FuY2hvcjtcblxuXHQvKiogQHR5cGUge1RlbXBsYXRlTm9kZSB8IG51bGx9ICovXG5cdCNoeWRyYXRlX29wZW4gPSBoeWRyYXRpbmcgPyBoeWRyYXRlX25vZGUgOiBudWxsO1xuXG5cdC8qKiBAdHlwZSB7Qm91bmRhcnlQcm9wc30gKi9cblx0I3Byb3BzO1xuXG5cdC8qKiBAdHlwZSB7KChhbmNob3I6IE5vZGUpID0+IHZvaWQpfSAqL1xuXHQjY2hpbGRyZW47XG5cblx0LyoqIEB0eXBlIHtFZmZlY3R9ICovXG5cdCNlZmZlY3Q7XG5cblx0LyoqIEB0eXBlIHtFZmZlY3QgfCBudWxsfSAqL1xuXHQjbWFpbl9lZmZlY3QgPSBudWxsO1xuXG5cdC8qKiBAdHlwZSB7RWZmZWN0IHwgbnVsbH0gKi9cblx0I3BlbmRpbmdfZWZmZWN0ID0gbnVsbDtcblxuXHQvKiogQHR5cGUge0VmZmVjdCB8IG51bGx9ICovXG5cdCNmYWlsZWRfZWZmZWN0ID0gbnVsbDtcblxuXHQvKiogQHR5cGUge0RvY3VtZW50RnJhZ21lbnQgfCBudWxsfSAqL1xuXHQjb2Zmc2NyZWVuX2ZyYWdtZW50ID0gbnVsbDtcblxuXHQvKiogQHR5cGUge1RlbXBsYXRlTm9kZSB8IG51bGx9ICovXG5cdCNwZW5kaW5nX2FuY2hvciA9IG51bGw7XG5cblx0I2xvY2FsX3BlbmRpbmdfY291bnQgPSAwO1xuXHQjcGVuZGluZ19jb3VudCA9IDA7XG5cblx0I2lzX2NyZWF0aW5nX2ZhbGxiYWNrID0gZmFsc2U7XG5cblx0LyoqXG5cdCAqIEEgc291cmNlIGNvbnRhaW5pbmcgdGhlIG51bWJlciBvZiBwZW5kaW5nIGFzeW5jIGRlcml2ZWRzL2V4cHJlc3Npb25zLlxuXHQgKiBPbmx5IGNyZWF0ZWQgaWYgYCRlZmZlY3QucGVuZGluZygpYCBpcyB1c2VkIGluc2lkZSB0aGUgYm91bmRhcnksXG5cdCAqIG90aGVyd2lzZSB1cGRhdGluZyB0aGUgc291cmNlIHJlc3VsdHMgaW4gbmVlZGxlc3MgYEJhdGNoLmVuc3VyZSgpYFxuXHQgKiBjYWxscyBmb2xsb3dlZCBieSBuby1vcCBmbHVzaGVzXG5cdCAqIEB0eXBlIHtTb3VyY2U8bnVtYmVyPiB8IG51bGx9XG5cdCAqL1xuXHQjZWZmZWN0X3BlbmRpbmcgPSBudWxsO1xuXG5cdCNlZmZlY3RfcGVuZGluZ19zdWJzY3JpYmVyID0gY3JlYXRlU3Vic2NyaWJlcigoKSA9PiB7XG5cdFx0dGhpcy4jZWZmZWN0X3BlbmRpbmcgPSBzb3VyY2UodGhpcy4jbG9jYWxfcGVuZGluZ19jb3VudCk7XG5cblx0XHRpZiAoREVWKSB7XG5cdFx0XHR0YWcodGhpcy4jZWZmZWN0X3BlbmRpbmcsICckZWZmZWN0LnBlbmRpbmcoKScpO1xuXHRcdH1cblxuXHRcdHJldHVybiAoKSA9PiB7XG5cdFx0XHR0aGlzLiNlZmZlY3RfcGVuZGluZyA9IG51bGw7XG5cdFx0fTtcblx0fSk7XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7VGVtcGxhdGVOb2RlfSBub2RlXG5cdCAqIEBwYXJhbSB7Qm91bmRhcnlQcm9wc30gcHJvcHNcblx0ICogQHBhcmFtIHsoKGFuY2hvcjogTm9kZSkgPT4gdm9pZCl9IGNoaWxkcmVuXG5cdCAqL1xuXHRjb25zdHJ1Y3Rvcihub2RlLCBwcm9wcywgY2hpbGRyZW4pIHtcblx0XHR0aGlzLiNhbmNob3IgPSBub2RlO1xuXHRcdHRoaXMuI3Byb3BzID0gcHJvcHM7XG5cdFx0dGhpcy4jY2hpbGRyZW4gPSBjaGlsZHJlbjtcblxuXHRcdHRoaXMucGFyZW50ID0gLyoqIEB0eXBlIHtFZmZlY3R9ICovIChhY3RpdmVfZWZmZWN0KS5iO1xuXG5cdFx0dGhpcy4jcGVuZGluZyA9ICEhdGhpcy4jcHJvcHMucGVuZGluZztcblxuXHRcdHRoaXMuI2VmZmVjdCA9IGJsb2NrKCgpID0+IHtcblx0XHRcdC8qKiBAdHlwZSB7RWZmZWN0fSAqLyAoYWN0aXZlX2VmZmVjdCkuYiA9IHRoaXM7XG5cblx0XHRcdGlmIChoeWRyYXRpbmcpIHtcblx0XHRcdFx0Y29uc3QgY29tbWVudCA9IHRoaXMuI2h5ZHJhdGVfb3Blbjtcblx0XHRcdFx0aHlkcmF0ZV9uZXh0KCk7XG5cblx0XHRcdFx0Y29uc3Qgc2VydmVyX3JlbmRlcmVkX3BlbmRpbmcgPVxuXHRcdFx0XHRcdC8qKiBAdHlwZSB7Q29tbWVudH0gKi8gKGNvbW1lbnQpLm5vZGVUeXBlID09PSBDT01NRU5UX05PREUgJiZcblx0XHRcdFx0XHQvKiogQHR5cGUge0NvbW1lbnR9ICovIChjb21tZW50KS5kYXRhID09PSBIWURSQVRJT05fU1RBUlRfRUxTRTtcblxuXHRcdFx0XHRpZiAoc2VydmVyX3JlbmRlcmVkX3BlbmRpbmcpIHtcblx0XHRcdFx0XHR0aGlzLiNoeWRyYXRlX3BlbmRpbmdfY29udGVudCgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRoaXMuI2h5ZHJhdGVfcmVzb2x2ZWRfY29udGVudCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YXIgYW5jaG9yID0gdGhpcy4jZ2V0X2FuY2hvcigpO1xuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0dGhpcy4jbWFpbl9lZmZlY3QgPSBicmFuY2goKCkgPT4gY2hpbGRyZW4oYW5jaG9yKSk7XG5cdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0dGhpcy5lcnJvcihlcnJvcik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAodGhpcy4jcGVuZGluZ19jb3VudCA+IDApIHtcblx0XHRcdFx0XHR0aGlzLiNzaG93X3BlbmRpbmdfc25pcHBldCgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRoaXMuI3BlbmRpbmcgPSBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0XHR0aGlzLiNwZW5kaW5nX2FuY2hvcj8ucmVtb3ZlKCk7XG5cdFx0XHR9O1xuXHRcdH0sIGZsYWdzKTtcblxuXHRcdGlmIChoeWRyYXRpbmcpIHtcblx0XHRcdHRoaXMuI2FuY2hvciA9IGh5ZHJhdGVfbm9kZTtcblx0XHR9XG5cdH1cblxuXHQjaHlkcmF0ZV9yZXNvbHZlZF9jb250ZW50KCkge1xuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLiNtYWluX2VmZmVjdCA9IGJyYW5jaCgoKSA9PiB0aGlzLiNjaGlsZHJlbih0aGlzLiNhbmNob3IpKTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5lcnJvcihlcnJvcik7XG5cdFx0fVxuXG5cdFx0Ly8gU2luY2Ugc2VydmVyIHJlbmRlcmVkIHJlc29sdmVkIGNvbnRlbnQsIHdlIG5ldmVyIHNob3cgcGVuZGluZyBzdGF0ZVxuXHRcdC8vIEV2ZW4gaWYgY2xpZW50LXNpZGUgYXN5bmMgb3BlcmF0aW9ucyBhcmUgc3RpbGwgcnVubmluZywgdGhlIGNvbnRlbnQgaXMgYWxyZWFkeSBkaXNwbGF5ZWRcblx0XHR0aGlzLiNwZW5kaW5nID0gZmFsc2U7XG5cdH1cblxuXHQjaHlkcmF0ZV9wZW5kaW5nX2NvbnRlbnQoKSB7XG5cdFx0Y29uc3QgcGVuZGluZyA9IHRoaXMuI3Byb3BzLnBlbmRpbmc7XG5cdFx0aWYgKCFwZW5kaW5nKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHRoaXMuI3BlbmRpbmdfZWZmZWN0ID0gYnJhbmNoKCgpID0+IHBlbmRpbmcodGhpcy4jYW5jaG9yKSk7XG5cblx0XHRCYXRjaC5lbnF1ZXVlKCgpID0+IHtcblx0XHRcdHZhciBhbmNob3IgPSB0aGlzLiNnZXRfYW5jaG9yKCk7XG5cblx0XHRcdHRoaXMuI21haW5fZWZmZWN0ID0gdGhpcy4jcnVuKCgpID0+IHtcblx0XHRcdFx0QmF0Y2guZW5zdXJlKCk7XG5cdFx0XHRcdHJldHVybiBicmFuY2goKCkgPT4gdGhpcy4jY2hpbGRyZW4oYW5jaG9yKSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0aWYgKHRoaXMuI3BlbmRpbmdfY291bnQgPiAwKSB7XG5cdFx0XHRcdHRoaXMuI3Nob3dfcGVuZGluZ19zbmlwcGV0KCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRwYXVzZV9lZmZlY3QoLyoqIEB0eXBlIHtFZmZlY3R9ICovICh0aGlzLiNwZW5kaW5nX2VmZmVjdCksICgpID0+IHtcblx0XHRcdFx0XHR0aGlzLiNwZW5kaW5nX2VmZmVjdCA9IG51bGw7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdHRoaXMuI3BlbmRpbmcgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdCNnZXRfYW5jaG9yKCkge1xuXHRcdHZhciBhbmNob3IgPSB0aGlzLiNhbmNob3I7XG5cblx0XHRpZiAodGhpcy4jcGVuZGluZykge1xuXHRcdFx0dGhpcy4jcGVuZGluZ19hbmNob3IgPSBjcmVhdGVfdGV4dCgpO1xuXHRcdFx0dGhpcy4jYW5jaG9yLmJlZm9yZSh0aGlzLiNwZW5kaW5nX2FuY2hvcik7XG5cblx0XHRcdGFuY2hvciA9IHRoaXMuI3BlbmRpbmdfYW5jaG9yO1xuXHRcdH1cblxuXHRcdHJldHVybiBhbmNob3I7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVmZmVjdCBleGlzdHMgaW5zaWRlIGEgYm91bmRhcnkgd2hvc2UgcGVuZGluZyBzbmlwcGV0IGlzIHNob3duXG5cdCAqIEByZXR1cm5zIHtib29sZWFufVxuXHQgKi9cblx0aXNfcGVuZGluZygpIHtcblx0XHRyZXR1cm4gdGhpcy4jcGVuZGluZyB8fCAoISF0aGlzLnBhcmVudCAmJiB0aGlzLnBhcmVudC5pc19wZW5kaW5nKCkpO1xuXHR9XG5cblx0aGFzX3BlbmRpbmdfc25pcHBldCgpIHtcblx0XHRyZXR1cm4gISF0aGlzLiNwcm9wcy5wZW5kaW5nO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7KCkgPT4gRWZmZWN0IHwgbnVsbH0gZm5cblx0ICovXG5cdCNydW4oZm4pIHtcblx0XHR2YXIgcHJldmlvdXNfZWZmZWN0ID0gYWN0aXZlX2VmZmVjdDtcblx0XHR2YXIgcHJldmlvdXNfcmVhY3Rpb24gPSBhY3RpdmVfcmVhY3Rpb247XG5cdFx0dmFyIHByZXZpb3VzX2N0eCA9IGNvbXBvbmVudF9jb250ZXh0O1xuXG5cdFx0c2V0X2FjdGl2ZV9lZmZlY3QodGhpcy4jZWZmZWN0KTtcblx0XHRzZXRfYWN0aXZlX3JlYWN0aW9uKHRoaXMuI2VmZmVjdCk7XG5cdFx0c2V0X2NvbXBvbmVudF9jb250ZXh0KHRoaXMuI2VmZmVjdC5jdHgpO1xuXG5cdFx0dHJ5IHtcblx0XHRcdHJldHVybiBmbigpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGhhbmRsZV9lcnJvcihlKTtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH0gZmluYWxseSB7XG5cdFx0XHRzZXRfYWN0aXZlX2VmZmVjdChwcmV2aW91c19lZmZlY3QpO1xuXHRcdFx0c2V0X2FjdGl2ZV9yZWFjdGlvbihwcmV2aW91c19yZWFjdGlvbik7XG5cdFx0XHRzZXRfY29tcG9uZW50X2NvbnRleHQocHJldmlvdXNfY3R4KTtcblx0XHR9XG5cdH1cblxuXHQjc2hvd19wZW5kaW5nX3NuaXBwZXQoKSB7XG5cdFx0Y29uc3QgcGVuZGluZyA9IC8qKiBAdHlwZSB7KGFuY2hvcjogTm9kZSkgPT4gdm9pZH0gKi8gKHRoaXMuI3Byb3BzLnBlbmRpbmcpO1xuXG5cdFx0aWYgKHRoaXMuI21haW5fZWZmZWN0ICE9PSBudWxsKSB7XG5cdFx0XHR0aGlzLiNvZmZzY3JlZW5fZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cdFx0XHR0aGlzLiNvZmZzY3JlZW5fZnJhZ21lbnQuYXBwZW5kKC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqLyAodGhpcy4jcGVuZGluZ19hbmNob3IpKTtcblx0XHRcdG1vdmVfZWZmZWN0KHRoaXMuI21haW5fZWZmZWN0LCB0aGlzLiNvZmZzY3JlZW5fZnJhZ21lbnQpO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLiNwZW5kaW5nX2VmZmVjdCA9PT0gbnVsbCkge1xuXHRcdFx0dGhpcy4jcGVuZGluZ19lZmZlY3QgPSBicmFuY2goKCkgPT4gcGVuZGluZyh0aGlzLiNhbmNob3IpKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogVXBkYXRlcyB0aGUgcGVuZGluZyBjb3VudCBhc3NvY2lhdGVkIHdpdGggdGhlIGN1cnJlbnRseSB2aXNpYmxlIHBlbmRpbmcgc25pcHBldCxcblx0ICogaWYgYW55LCBzdWNoIHRoYXQgd2UgY2FuIHJlcGxhY2UgdGhlIHNuaXBwZXQgd2l0aCBjb250ZW50IG9uY2Ugd29yayBpcyBkb25lXG5cdCAqIEBwYXJhbSB7MSB8IC0xfSBkXG5cdCAqL1xuXHQjdXBkYXRlX3BlbmRpbmdfY291bnQoZCkge1xuXHRcdGlmICghdGhpcy5oYXNfcGVuZGluZ19zbmlwcGV0KCkpIHtcblx0XHRcdGlmICh0aGlzLnBhcmVudCkge1xuXHRcdFx0XHR0aGlzLnBhcmVudC4jdXBkYXRlX3BlbmRpbmdfY291bnQoZCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGlmIHRoZXJlJ3Mgbm8gcGFyZW50LCB3ZSdyZSBpbiBhIHNjb3BlIHdpdGggbm8gcGVuZGluZyBzbmlwcGV0XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy4jcGVuZGluZ19jb3VudCArPSBkO1xuXG5cdFx0aWYgKHRoaXMuI3BlbmRpbmdfY291bnQgPT09IDApIHtcblx0XHRcdHRoaXMuI3BlbmRpbmcgPSBmYWxzZTtcblxuXHRcdFx0aWYgKHRoaXMuI3BlbmRpbmdfZWZmZWN0KSB7XG5cdFx0XHRcdHBhdXNlX2VmZmVjdCh0aGlzLiNwZW5kaW5nX2VmZmVjdCwgKCkgPT4ge1xuXHRcdFx0XHRcdHRoaXMuI3BlbmRpbmdfZWZmZWN0ID0gbnVsbDtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLiNvZmZzY3JlZW5fZnJhZ21lbnQpIHtcblx0XHRcdFx0dGhpcy4jYW5jaG9yLmJlZm9yZSh0aGlzLiNvZmZzY3JlZW5fZnJhZ21lbnQpO1xuXHRcdFx0XHR0aGlzLiNvZmZzY3JlZW5fZnJhZ21lbnQgPSBudWxsO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBVcGRhdGUgdGhlIHNvdXJjZSB0aGF0IHBvd2VycyBgJGVmZmVjdC5wZW5kaW5nKClgIGluc2lkZSB0aGlzIGJvdW5kYXJ5LFxuXHQgKiBhbmQgY29udHJvbHMgd2hlbiB0aGUgY3VycmVudCBgcGVuZGluZ2Agc25pcHBldCAoaWYgYW55KSBpcyByZW1vdmVkLlxuXHQgKiBEbyBub3QgY2FsbCBmcm9tIGluc2lkZSB0aGUgY2xhc3Ncblx0ICogQHBhcmFtIHsxIHwgLTF9IGRcblx0ICovXG5cdHVwZGF0ZV9wZW5kaW5nX2NvdW50KGQpIHtcblx0XHR0aGlzLiN1cGRhdGVfcGVuZGluZ19jb3VudChkKTtcblxuXHRcdHRoaXMuI2xvY2FsX3BlbmRpbmdfY291bnQgKz0gZDtcblxuXHRcdGlmICh0aGlzLiNlZmZlY3RfcGVuZGluZykge1xuXHRcdFx0aW50ZXJuYWxfc2V0KHRoaXMuI2VmZmVjdF9wZW5kaW5nLCB0aGlzLiNsb2NhbF9wZW5kaW5nX2NvdW50KTtcblx0XHR9XG5cdH1cblxuXHRnZXRfZWZmZWN0X3BlbmRpbmcoKSB7XG5cdFx0dGhpcy4jZWZmZWN0X3BlbmRpbmdfc3Vic2NyaWJlcigpO1xuXHRcdHJldHVybiBnZXQoLyoqIEB0eXBlIHtTb3VyY2U8bnVtYmVyPn0gKi8gKHRoaXMuI2VmZmVjdF9wZW5kaW5nKSk7XG5cdH1cblxuXHQvKiogQHBhcmFtIHt1bmtub3dufSBlcnJvciAqL1xuXHRlcnJvcihlcnJvcikge1xuXHRcdHZhciBvbmVycm9yID0gdGhpcy4jcHJvcHMub25lcnJvcjtcblx0XHRsZXQgZmFpbGVkID0gdGhpcy4jcHJvcHMuZmFpbGVkO1xuXG5cdFx0Ly8gSWYgd2UgaGF2ZSBub3RoaW5nIHRvIGNhcHR1cmUgdGhlIGVycm9yLCBvciBpZiB3ZSBoaXQgYW4gZXJyb3Igd2hpbGVcblx0XHQvLyByZW5kZXJpbmcgdGhlIGZhbGxiYWNrLCByZS10aHJvdyBmb3IgYW5vdGhlciBib3VuZGFyeSB0byBoYW5kbGVcblx0XHRpZiAodGhpcy4jaXNfY3JlYXRpbmdfZmFsbGJhY2sgfHwgKCFvbmVycm9yICYmICFmYWlsZWQpKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRpZiAodGhpcy4jbWFpbl9lZmZlY3QpIHtcblx0XHRcdGRlc3Ryb3lfZWZmZWN0KHRoaXMuI21haW5fZWZmZWN0KTtcblx0XHRcdHRoaXMuI21haW5fZWZmZWN0ID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAodGhpcy4jcGVuZGluZ19lZmZlY3QpIHtcblx0XHRcdGRlc3Ryb3lfZWZmZWN0KHRoaXMuI3BlbmRpbmdfZWZmZWN0KTtcblx0XHRcdHRoaXMuI3BlbmRpbmdfZWZmZWN0ID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAodGhpcy4jZmFpbGVkX2VmZmVjdCkge1xuXHRcdFx0ZGVzdHJveV9lZmZlY3QodGhpcy4jZmFpbGVkX2VmZmVjdCk7XG5cdFx0XHR0aGlzLiNmYWlsZWRfZWZmZWN0ID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAoaHlkcmF0aW5nKSB7XG5cdFx0XHRzZXRfaHlkcmF0ZV9ub2RlKC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqLyAodGhpcy4jaHlkcmF0ZV9vcGVuKSk7XG5cdFx0XHRuZXh0KCk7XG5cdFx0XHRzZXRfaHlkcmF0ZV9ub2RlKHNraXBfbm9kZXMoKSk7XG5cdFx0fVxuXG5cdFx0dmFyIGRpZF9yZXNldCA9IGZhbHNlO1xuXHRcdHZhciBjYWxsaW5nX29uX2Vycm9yID0gZmFsc2U7XG5cblx0XHRjb25zdCByZXNldCA9ICgpID0+IHtcblx0XHRcdGlmIChkaWRfcmVzZXQpIHtcblx0XHRcdFx0dy5zdmVsdGVfYm91bmRhcnlfcmVzZXRfbm9vcCgpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGRpZF9yZXNldCA9IHRydWU7XG5cblx0XHRcdGlmIChjYWxsaW5nX29uX2Vycm9yKSB7XG5cdFx0XHRcdGUuc3ZlbHRlX2JvdW5kYXJ5X3Jlc2V0X29uZXJyb3IoKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgdGhlIGZhaWx1cmUgaGFwcGVuZWQgd2hpbGUgZmx1c2hpbmcgZWZmZWN0cywgY3VycmVudF9iYXRjaCBjYW4gYmUgbnVsbFxuXHRcdFx0QmF0Y2guZW5zdXJlKCk7XG5cblx0XHRcdHRoaXMuI2xvY2FsX3BlbmRpbmdfY291bnQgPSAwO1xuXG5cdFx0XHRpZiAodGhpcy4jZmFpbGVkX2VmZmVjdCAhPT0gbnVsbCkge1xuXHRcdFx0XHRwYXVzZV9lZmZlY3QodGhpcy4jZmFpbGVkX2VmZmVjdCwgKCkgPT4ge1xuXHRcdFx0XHRcdHRoaXMuI2ZhaWxlZF9lZmZlY3QgPSBudWxsO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gd2UgaW50ZW50aW9uYWxseSBkbyBub3QgdHJ5IHRvIGZpbmQgdGhlIG5lYXJlc3QgcGVuZGluZyBib3VuZGFyeS4gSWYgdGhpcyBib3VuZGFyeSBoYXMgb25lLCB3ZSdsbCByZW5kZXIgaXQgb24gcmVzZXRcblx0XHRcdC8vIGJ1dCBpdCB3b3VsZCBiZSByZWFsbHkgd2VpcmQgdG8gc2hvdyB0aGUgcGFyZW50J3MgYm91bmRhcnkgb24gYSBjaGlsZCByZXNldC5cblx0XHRcdHRoaXMuI3BlbmRpbmcgPSB0aGlzLmhhc19wZW5kaW5nX3NuaXBwZXQoKTtcblxuXHRcdFx0dGhpcy4jbWFpbl9lZmZlY3QgPSB0aGlzLiNydW4oKCkgPT4ge1xuXHRcdFx0XHR0aGlzLiNpc19jcmVhdGluZ19mYWxsYmFjayA9IGZhbHNlO1xuXHRcdFx0XHRyZXR1cm4gYnJhbmNoKCgpID0+IHRoaXMuI2NoaWxkcmVuKHRoaXMuI2FuY2hvcikpO1xuXHRcdFx0fSk7XG5cblx0XHRcdGlmICh0aGlzLiNwZW5kaW5nX2NvdW50ID4gMCkge1xuXHRcdFx0XHR0aGlzLiNzaG93X3BlbmRpbmdfc25pcHBldCgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy4jcGVuZGluZyA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHR2YXIgcHJldmlvdXNfcmVhY3Rpb24gPSBhY3RpdmVfcmVhY3Rpb247XG5cblx0XHR0cnkge1xuXHRcdFx0c2V0X2FjdGl2ZV9yZWFjdGlvbihudWxsKTtcblx0XHRcdGNhbGxpbmdfb25fZXJyb3IgPSB0cnVlO1xuXHRcdFx0b25lcnJvcj8uKGVycm9yLCByZXNldCk7XG5cdFx0XHRjYWxsaW5nX29uX2Vycm9yID0gZmFsc2U7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGludm9rZV9lcnJvcl9ib3VuZGFyeShlcnJvciwgdGhpcy4jZWZmZWN0ICYmIHRoaXMuI2VmZmVjdC5wYXJlbnQpO1xuXHRcdH0gZmluYWxseSB7XG5cdFx0XHRzZXRfYWN0aXZlX3JlYWN0aW9uKHByZXZpb3VzX3JlYWN0aW9uKTtcblx0XHR9XG5cblx0XHRpZiAoZmFpbGVkKSB7XG5cdFx0XHRxdWV1ZV9taWNyb190YXNrKCgpID0+IHtcblx0XHRcdFx0dGhpcy4jZmFpbGVkX2VmZmVjdCA9IHRoaXMuI3J1bigoKSA9PiB7XG5cdFx0XHRcdFx0QmF0Y2guZW5zdXJlKCk7XG5cdFx0XHRcdFx0dGhpcy4jaXNfY3JlYXRpbmdfZmFsbGJhY2sgPSB0cnVlO1xuXG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdHJldHVybiBicmFuY2goKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRmYWlsZWQoXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy4jYW5jaG9yLFxuXHRcdFx0XHRcdFx0XHRcdCgpID0+IGVycm9yLFxuXHRcdFx0XHRcdFx0XHRcdCgpID0+IHJlc2V0XG5cdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRcdFx0aW52b2tlX2Vycm9yX2JvdW5kYXJ5KGVycm9yLCAvKiogQHR5cGUge0VmZmVjdH0gKi8gKHRoaXMuI2VmZmVjdC5wYXJlbnQpKTtcblx0XHRcdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0XHRcdH0gZmluYWxseSB7XG5cdFx0XHRcdFx0XHR0aGlzLiNpc19jcmVhdGluZ19mYWxsYmFjayA9IGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldF9ib3VuZGFyeSgpIHtcblx0cmV0dXJuIC8qKiBAdHlwZSB7Qm91bmRhcnl9ICovICgvKiogQHR5cGUge0VmZmVjdH0gKi8gKGFjdGl2ZV9lZmZlY3QpLmIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGVuZGluZygpIHtcblx0aWYgKGFjdGl2ZV9lZmZlY3QgPT09IG51bGwpIHtcblx0XHRlLmVmZmVjdF9wZW5kaW5nX291dHNpZGVfcmVhY3Rpb24oKTtcblx0fVxuXG5cdHZhciBib3VuZGFyeSA9IGFjdGl2ZV9lZmZlY3QuYjtcblxuXHRpZiAoYm91bmRhcnkgPT09IG51bGwpIHtcblx0XHRyZXR1cm4gMDsgLy8gVE9ETyBldmVudHVhbGx5IHdlIHdpbGwgbmVlZCB0aGlzIHRvIGJlIGdsb2JhbFxuXHR9XG5cblx0cmV0dXJuIGJvdW5kYXJ5LmdldF9lZmZlY3RfcGVuZGluZygpO1xufVxuIiwiLyoqIEBpbXBvcnQgeyBFZmZlY3QsIFRlbXBsYXRlTm9kZSwgVmFsdWUgfSBmcm9tICcjY2xpZW50JyAqL1xuaW1wb3J0IHsgREVTVFJPWUVELCBTVEFMRV9SRUFDVElPTiB9IGZyb20gJyNjbGllbnQvY29uc3RhbnRzJztcbmltcG9ydCB7IERFViB9IGZyb20gJ2VzbS1lbnYnO1xuaW1wb3J0IHtcblx0Y29tcG9uZW50X2NvbnRleHQsXG5cdGRldl9zdGFjayxcblx0aXNfcnVuZXMsXG5cdHNldF9jb21wb25lbnRfY29udGV4dCxcblx0c2V0X2Rldl9zdGFja1xufSBmcm9tICcuLi9jb250ZXh0LmpzJztcbmltcG9ydCB7IGdldF9ib3VuZGFyeSB9IGZyb20gJy4uL2RvbS9ibG9ja3MvYm91bmRhcnkuanMnO1xuaW1wb3J0IHsgaW52b2tlX2Vycm9yX2JvdW5kYXJ5IH0gZnJvbSAnLi4vZXJyb3ItaGFuZGxpbmcuanMnO1xuaW1wb3J0IHtcblx0YWN0aXZlX2VmZmVjdCxcblx0YWN0aXZlX3JlYWN0aW9uLFxuXHRzZXRfYWN0aXZlX2VmZmVjdCxcblx0c2V0X2FjdGl2ZV9yZWFjdGlvblxufSBmcm9tICcuLi9ydW50aW1lLmpzJztcbmltcG9ydCB7IEJhdGNoLCBjdXJyZW50X2JhdGNoIH0gZnJvbSAnLi9iYXRjaC5qcyc7XG5pbXBvcnQge1xuXHRhc3luY19kZXJpdmVkLFxuXHRjdXJyZW50X2FzeW5jX2VmZmVjdCxcblx0ZGVyaXZlZCxcblx0ZGVyaXZlZF9zYWZlX2VxdWFsLFxuXHRzZXRfZnJvbV9hc3luY19kZXJpdmVkXG59IGZyb20gJy4vZGVyaXZlZHMuanMnO1xuaW1wb3J0IHsgYWJvcnRlZCB9IGZyb20gJy4vZWZmZWN0cy5qcyc7XG5pbXBvcnQgeyBoeWRyYXRlX25leHQsIGh5ZHJhdGluZywgc2V0X2h5ZHJhdGVfbm9kZSwgc2tpcF9ub2RlcyB9IGZyb20gJy4uL2RvbS9oeWRyYXRpb24uanMnO1xuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8UHJvbWlzZTx2b2lkPj59IGJsb2NrZXJzXG4gKiBAcGFyYW0ge0FycmF5PCgpID0+IGFueT59IHN5bmNcbiAqIEBwYXJhbSB7QXJyYXk8KCkgPT4gUHJvbWlzZTxhbnk+Pn0gYXN5bmNcbiAqIEBwYXJhbSB7KHZhbHVlczogVmFsdWVbXSkgPT4gYW55fSBmblxuICovXG5leHBvcnQgZnVuY3Rpb24gZmxhdHRlbihibG9ja2Vycywgc3luYywgYXN5bmMsIGZuKSB7XG5cdGNvbnN0IGQgPSBpc19ydW5lcygpID8gZGVyaXZlZCA6IGRlcml2ZWRfc2FmZV9lcXVhbDtcblxuXHRpZiAoYXN5bmMubGVuZ3RoID09PSAwICYmIGJsb2NrZXJzLmxlbmd0aCA9PT0gMCkge1xuXHRcdGZuKHN5bmMubWFwKGQpKTtcblx0XHRyZXR1cm47XG5cdH1cblxuXHR2YXIgYmF0Y2ggPSBjdXJyZW50X2JhdGNoO1xuXHR2YXIgcGFyZW50ID0gLyoqIEB0eXBlIHtFZmZlY3R9ICovIChhY3RpdmVfZWZmZWN0KTtcblxuXHR2YXIgcmVzdG9yZSA9IGNhcHR1cmUoKTtcblxuXHRmdW5jdGlvbiBydW4oKSB7XG5cdFx0UHJvbWlzZS5hbGwoYXN5bmMubWFwKChleHByZXNzaW9uKSA9PiBhc3luY19kZXJpdmVkKGV4cHJlc3Npb24pKSlcblx0XHRcdC50aGVuKChyZXN1bHQpID0+IHtcblx0XHRcdFx0cmVzdG9yZSgpO1xuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Zm4oWy4uLnN5bmMubWFwKGQpLCAuLi5yZXN1bHRdKTtcblx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0XHQvLyBpZ25vcmUgZXJyb3JzIGluIGJsb2NrcyB0aGF0IGhhdmUgYWxyZWFkeSBiZWVuIGRlc3Ryb3llZFxuXHRcdFx0XHRcdGlmICgocGFyZW50LmYgJiBERVNUUk9ZRUQpID09PSAwKSB7XG5cdFx0XHRcdFx0XHRpbnZva2VfZXJyb3JfYm91bmRhcnkoZXJyb3IsIHBhcmVudCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0YmF0Y2g/LmRlYWN0aXZhdGUoKTtcblx0XHRcdFx0dW5zZXRfY29udGV4dCgpO1xuXHRcdFx0fSlcblx0XHRcdC5jYXRjaCgoZXJyb3IpID0+IHtcblx0XHRcdFx0aW52b2tlX2Vycm9yX2JvdW5kYXJ5KGVycm9yLCBwYXJlbnQpO1xuXHRcdFx0fSk7XG5cdH1cblxuXHRpZiAoYmxvY2tlcnMubGVuZ3RoID4gMCkge1xuXHRcdFByb21pc2UuYWxsKGJsb2NrZXJzKS50aGVuKCgpID0+IHtcblx0XHRcdHJlc3RvcmUoKTtcblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0cmV0dXJuIHJ1bigpO1xuXHRcdFx0fSBmaW5hbGx5IHtcblx0XHRcdFx0YmF0Y2g/LmRlYWN0aXZhdGUoKTtcblx0XHRcdFx0dW5zZXRfY29udGV4dCgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdHJ1bigpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxQcm9taXNlPHZvaWQ+Pn0gYmxvY2tlcnNcbiAqIEBwYXJhbSB7KHZhbHVlczogVmFsdWVbXSkgPT4gYW55fSBmblxuICovXG5leHBvcnQgZnVuY3Rpb24gcnVuX2FmdGVyX2Jsb2NrZXJzKGJsb2NrZXJzLCBmbikge1xuXHRmbGF0dGVuKGJsb2NrZXJzLCBbXSwgW10sIGZuKTtcbn1cblxuLyoqXG4gKiBDYXB0dXJlcyB0aGUgY3VycmVudCBlZmZlY3QgY29udGV4dCBzbyB0aGF0IHdlIGNhbiByZXN0b3JlIGl0IGFmdGVyXG4gKiBzb21lIGFzeW5jaHJvbm91cyB3b3JrIGhhcyBoYXBwZW5lZCAoc28gdGhhdCBlLmcuIGBhd2FpdCBhICsgYmBcbiAqIGNhdXNlcyBgYmAgdG8gYmUgcmVnaXN0ZXJlZCBhcyBhIGRlcGVuZGVuY3kpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FwdHVyZSgpIHtcblx0dmFyIHByZXZpb3VzX2VmZmVjdCA9IGFjdGl2ZV9lZmZlY3Q7XG5cdHZhciBwcmV2aW91c19yZWFjdGlvbiA9IGFjdGl2ZV9yZWFjdGlvbjtcblx0dmFyIHByZXZpb3VzX2NvbXBvbmVudF9jb250ZXh0ID0gY29tcG9uZW50X2NvbnRleHQ7XG5cdHZhciBwcmV2aW91c19iYXRjaCA9IGN1cnJlbnRfYmF0Y2g7XG5cblx0aWYgKERFVikge1xuXHRcdHZhciBwcmV2aW91c19kZXZfc3RhY2sgPSBkZXZfc3RhY2s7XG5cdH1cblxuXHRyZXR1cm4gZnVuY3Rpb24gcmVzdG9yZShhY3RpdmF0ZV9iYXRjaCA9IHRydWUpIHtcblx0XHRzZXRfYWN0aXZlX2VmZmVjdChwcmV2aW91c19lZmZlY3QpO1xuXHRcdHNldF9hY3RpdmVfcmVhY3Rpb24ocHJldmlvdXNfcmVhY3Rpb24pO1xuXHRcdHNldF9jb21wb25lbnRfY29udGV4dChwcmV2aW91c19jb21wb25lbnRfY29udGV4dCk7XG5cdFx0aWYgKGFjdGl2YXRlX2JhdGNoKSBwcmV2aW91c19iYXRjaD8uYWN0aXZhdGUoKTtcblxuXHRcdGlmIChERVYpIHtcblx0XHRcdHNldF9mcm9tX2FzeW5jX2Rlcml2ZWQobnVsbCk7XG5cdFx0XHRzZXRfZGV2X3N0YWNrKHByZXZpb3VzX2Rldl9zdGFjayk7XG5cdFx0fVxuXHR9O1xufVxuXG4vKipcbiAqIFdyYXBzIGFuIGBhd2FpdGAgZXhwcmVzc2lvbiBpbiBzdWNoIGEgd2F5IHRoYXQgdGhlIGVmZmVjdCBjb250ZXh0IHRoYXQgd2FzXG4gKiBhY3RpdmUgYmVmb3JlIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlZCBjYW4gYmUgcmVhcHBsaWVkIGFmdGVyd2FyZHMg4oCUXG4gKiBgYXdhaXQgYSArIGJgIGJlY29tZXMgYChhd2FpdCAkLnNhdmUoYSkpKCkgKyBiYFxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7UHJvbWlzZTxUPn0gcHJvbWlzZVxuICogQHJldHVybnMge1Byb21pc2U8KCkgPT4gVD59XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYXZlKHByb21pc2UpIHtcblx0dmFyIHJlc3RvcmUgPSBjYXB0dXJlKCk7XG5cdHZhciB2YWx1ZSA9IGF3YWl0IHByb21pc2U7XG5cblx0cmV0dXJuICgpID0+IHtcblx0XHRyZXN0b3JlKCk7XG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9O1xufVxuXG4vKipcbiAqIFJlc2V0IGBjdXJyZW50X2FzeW5jX2VmZmVjdGAgYWZ0ZXIgdGhlIGBwcm9taXNlYCByZXNvbHZlcywgc29cbiAqIHRoYXQgd2UgY2FuIGVtaXQgYGF3YWl0X3JlYWN0aXZpdHlfbG9zc2Agd2FybmluZ3NcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge1Byb21pc2U8VD59IHByb21pc2VcbiAqIEByZXR1cm5zIHtQcm9taXNlPCgpID0+IFQ+fVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdHJhY2tfcmVhY3Rpdml0eV9sb3NzKHByb21pc2UpIHtcblx0dmFyIHByZXZpb3VzX2FzeW5jX2VmZmVjdCA9IGN1cnJlbnRfYXN5bmNfZWZmZWN0O1xuXHR2YXIgdmFsdWUgPSBhd2FpdCBwcm9taXNlO1xuXG5cdHJldHVybiAoKSA9PiB7XG5cdFx0c2V0X2Zyb21fYXN5bmNfZGVyaXZlZChwcmV2aW91c19hc3luY19lZmZlY3QpO1xuXHRcdHJldHVybiB2YWx1ZTtcblx0fTtcbn1cblxuLyoqXG4gKiBVc2VkIGluIGBmb3IgYXdhaXRgIGxvb3BzIGluIERFViwgc29cbiAqIHRoYXQgd2UgY2FuIGVtaXQgYGF3YWl0X3JlYWN0aXZpdHlfbG9zc2Agd2FybmluZ3NcbiAqIGFmdGVyIGVhY2ggYGFzeW5jX2l0ZXJhdG9yYCByZXN1bHQgcmVzb2x2ZXMgYW5kXG4gKiBhZnRlciB0aGUgYGFzeW5jX2l0ZXJhdG9yYCByZXR1cm4gcmVzb2x2ZXMgKGlmIGl0IHJ1bnMpXG4gKiBAdGVtcGxhdGUgVFxuICogQHRlbXBsYXRlIFRSZXR1cm5cbiAqIEBwYXJhbSB7SXRlcmFibGU8VD4gfCBBc3luY0l0ZXJhYmxlPFQ+fSBpdGVyYWJsZVxuICogQHJldHVybnMge0FzeW5jR2VuZXJhdG9yPFQsIFRSZXR1cm4gfCB1bmRlZmluZWQ+fVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24qIGZvcl9hd2FpdF90cmFja19yZWFjdGl2aXR5X2xvc3MoaXRlcmFibGUpIHtcblx0Ly8gVGhpcyBpcyBiYXNlZCBvbiB0aGUgYWxnb3JpdGhtcyBkZXNjcmliZWQgaW4gRUNNQS0yNjI6XG5cdC8vIEZvckluL09mQm9keUV2YWx1YXRpb25cblx0Ly8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvbXVsdGlwYWdlL2VjbWFzY3JpcHQtbGFuZ3VhZ2Utc3RhdGVtZW50cy1hbmQtZGVjbGFyYXRpb25zLmh0bWwjc2VjLXJ1bnRpbWUtc2VtYW50aWNzLWZvcmluLWRpdi1vZmJvZHlldmFsdWF0aW9uLWxocy1zdG10LWl0ZXJhdG9yLWxoc2tpbmQtbGFiZWxzZXRcblx0Ly8gQXN5bmNJdGVyYXRvckNsb3NlXG5cdC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyL211bHRpcGFnZS9hYnN0cmFjdC1vcGVyYXRpb25zLmh0bWwjc2VjLWFzeW5jaXRlcmF0b3JjbG9zZVxuXG5cdC8qKiBAdHlwZSB7QXN5bmNJdGVyYXRvcjxULCBUUmV0dXJuPn0gKi9cblx0Ly8gQHRzLWlnbm9yZVxuXHRjb25zdCBpdGVyYXRvciA9IGl0ZXJhYmxlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXT8uKCkgPz8gaXRlcmFibGVbU3ltYm9sLml0ZXJhdG9yXT8uKCk7XG5cblx0aWYgKGl0ZXJhdG9yID09PSB1bmRlZmluZWQpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCd2YWx1ZSBpcyBub3QgYXN5bmMgaXRlcmFibGUnKTtcblx0fVxuXG5cdC8qKiBXaGV0aGVyIHRoZSBjb21wbGV0aW9uIG9mIHRoZSBpdGVyYXRvciB3YXMgXCJub3JtYWxcIiwgbWVhbmluZyBpdCB3YXNuJ3QgZW5kZWQgdmlhIGBicmVha2Agb3IgYSBzaW1pbGFyIG1ldGhvZCAqL1xuXHRsZXQgbm9ybWFsX2NvbXBsZXRpb24gPSBmYWxzZTtcblx0dHJ5IHtcblx0XHR3aGlsZSAodHJ1ZSkge1xuXHRcdFx0Y29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gKGF3YWl0IHRyYWNrX3JlYWN0aXZpdHlfbG9zcyhpdGVyYXRvci5uZXh0KCkpKSgpO1xuXHRcdFx0aWYgKGRvbmUpIHtcblx0XHRcdFx0bm9ybWFsX2NvbXBsZXRpb24gPSB0cnVlO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdHlpZWxkIHZhbHVlO1xuXHRcdH1cblx0fSBmaW5hbGx5IHtcblx0XHQvLyBJZiB0aGUgaXRlcmF0b3IgaGFkIGEgbm9ybWFsIGNvbXBsZXRpb24gYW5kIGByZXR1cm5gIGlzIGRlZmluZWQgb24gdGhlIGl0ZXJhdG9yLCBjYWxsIGl0IGFuZCByZXR1cm4gdGhlIHZhbHVlXG5cdFx0aWYgKG5vcm1hbF9jb21wbGV0aW9uICYmIGl0ZXJhdG9yLnJldHVybiAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5zYWZlLWZpbmFsbHlcblx0XHRcdHJldHVybiAvKiogQHR5cGUge1RSZXR1cm59ICovICgoYXdhaXQgdHJhY2tfcmVhY3Rpdml0eV9sb3NzKGl0ZXJhdG9yLnJldHVybigpKSkoKS52YWx1ZSk7XG5cdFx0fVxuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bnNldF9jb250ZXh0KCkge1xuXHRzZXRfYWN0aXZlX2VmZmVjdChudWxsKTtcblx0c2V0X2FjdGl2ZV9yZWFjdGlvbihudWxsKTtcblx0c2V0X2NvbXBvbmVudF9jb250ZXh0KG51bGwpO1xuXG5cdGlmIChERVYpIHtcblx0XHRzZXRfZnJvbV9hc3luY19kZXJpdmVkKG51bGwpO1xuXHRcdHNldF9kZXZfc3RhY2sobnVsbCk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge1RlbXBsYXRlTm9kZX0gYW5jaG9yXG4gKiBAcGFyYW0geyh0YXJnZXQ6IFRlbXBsYXRlTm9kZSkgPT4gUHJvbWlzZTx2b2lkPn0gZm5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFzeW5jX2JvZHkoYW5jaG9yLCBmbikge1xuXHR2YXIgYm91bmRhcnkgPSBnZXRfYm91bmRhcnkoKTtcblx0dmFyIGJhdGNoID0gLyoqIEB0eXBlIHtCYXRjaH0gKi8gKGN1cnJlbnRfYmF0Y2gpO1xuXHR2YXIgYmxvY2tpbmcgPSAhYm91bmRhcnkuaXNfcGVuZGluZygpO1xuXG5cdGJvdW5kYXJ5LnVwZGF0ZV9wZW5kaW5nX2NvdW50KDEpO1xuXHRiYXRjaC5pbmNyZW1lbnQoYmxvY2tpbmcpO1xuXG5cdHZhciBhY3RpdmUgPSAvKiogQHR5cGUge0VmZmVjdH0gKi8gKGFjdGl2ZV9lZmZlY3QpO1xuXG5cdHZhciB3YXNfaHlkcmF0aW5nID0gaHlkcmF0aW5nO1xuXHR2YXIgbmV4dF9oeWRyYXRlX25vZGUgPSB1bmRlZmluZWQ7XG5cblx0aWYgKHdhc19oeWRyYXRpbmcpIHtcblx0XHRoeWRyYXRlX25leHQoKTtcblx0XHRuZXh0X2h5ZHJhdGVfbm9kZSA9IHNraXBfbm9kZXMoZmFsc2UpO1xuXHR9XG5cblx0dHJ5IHtcblx0XHR2YXIgcHJvbWlzZSA9IGZuKGFuY2hvcik7XG5cdH0gZmluYWxseSB7XG5cdFx0aWYgKG5leHRfaHlkcmF0ZV9ub2RlKSB7XG5cdFx0XHRzZXRfaHlkcmF0ZV9ub2RlKG5leHRfaHlkcmF0ZV9ub2RlKTtcblx0XHRcdGh5ZHJhdGVfbmV4dCgpO1xuXHRcdH1cblx0fVxuXG5cdHRyeSB7XG5cdFx0YXdhaXQgcHJvbWlzZTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRpZiAoIWFib3J0ZWQoYWN0aXZlKSkge1xuXHRcdFx0aW52b2tlX2Vycm9yX2JvdW5kYXJ5KGVycm9yLCBhY3RpdmUpO1xuXHRcdH1cblx0fSBmaW5hbGx5IHtcblx0XHRib3VuZGFyeS51cGRhdGVfcGVuZGluZ19jb3VudCgtMSk7XG5cdFx0YmF0Y2guZGVjcmVtZW50KGJsb2NraW5nKTtcblxuXHRcdHVuc2V0X2NvbnRleHQoKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8KCkgPT4gdm9pZCB8IFByb21pc2U8dm9pZD4+fSB0aHVua3NcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJ1bih0aHVua3MpIHtcblx0Y29uc3QgcmVzdG9yZSA9IGNhcHR1cmUoKTtcblxuXHR2YXIgYm91bmRhcnkgPSBnZXRfYm91bmRhcnkoKTtcblx0dmFyIGJhdGNoID0gLyoqIEB0eXBlIHtCYXRjaH0gKi8gKGN1cnJlbnRfYmF0Y2gpO1xuXHR2YXIgYmxvY2tpbmcgPSAhYm91bmRhcnkuaXNfcGVuZGluZygpO1xuXG5cdGJvdW5kYXJ5LnVwZGF0ZV9wZW5kaW5nX2NvdW50KDEpO1xuXHRiYXRjaC5pbmNyZW1lbnQoYmxvY2tpbmcpO1xuXG5cdHZhciBhY3RpdmUgPSAvKiogQHR5cGUge0VmZmVjdH0gKi8gKGFjdGl2ZV9lZmZlY3QpO1xuXG5cdC8qKiBAdHlwZSB7bnVsbCB8IHsgZXJyb3I6IGFueSB9fSAqL1xuXHR2YXIgZXJyb3JlZCA9IG51bGw7XG5cblx0LyoqIEBwYXJhbSB7YW55fSBlcnJvciAqL1xuXHRjb25zdCBoYW5kbGVfZXJyb3IgPSAoZXJyb3IpID0+IHtcblx0XHRlcnJvcmVkID0geyBlcnJvciB9OyAvLyB3cmFwIGluIG9iamVjdCBpbiBjYXNlIGEgcHJvbWlzZSByZWplY3RzIHdpdGggYSBmYWxzeSB2YWx1ZVxuXG5cdFx0aWYgKCFhYm9ydGVkKGFjdGl2ZSkpIHtcblx0XHRcdGludm9rZV9lcnJvcl9ib3VuZGFyeShlcnJvciwgYWN0aXZlKTtcblx0XHR9XG5cdH07XG5cblx0dmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUodGh1bmtzWzBdKCkpLmNhdGNoKGhhbmRsZV9lcnJvcik7XG5cblx0dmFyIHByb21pc2VzID0gW3Byb21pc2VdO1xuXG5cdGZvciAoY29uc3QgZm4gb2YgdGh1bmtzLnNsaWNlKDEpKSB7XG5cdFx0cHJvbWlzZSA9IHByb21pc2Vcblx0XHRcdC50aGVuKCgpID0+IHtcblx0XHRcdFx0aWYgKGVycm9yZWQpIHtcblx0XHRcdFx0XHR0aHJvdyBlcnJvcmVkLmVycm9yO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGFib3J0ZWQoYWN0aXZlKSkge1xuXHRcdFx0XHRcdHRocm93IFNUQUxFX1JFQUNUSU9OO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRyZXN0b3JlKCk7XG5cdFx0XHRcdFx0cmV0dXJuIGZuKCk7XG5cdFx0XHRcdH0gZmluYWxseSB7XG5cdFx0XHRcdFx0Ly8gVE9ETyBkbyB3ZSBuZWVkIGl0IGhlcmUgYXMgd2VsbCBhcyBiZWxvdz9cblx0XHRcdFx0XHR1bnNldF9jb250ZXh0KCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0XHQuY2F0Y2goaGFuZGxlX2Vycm9yKVxuXHRcdFx0LmZpbmFsbHkoKCkgPT4ge1xuXHRcdFx0XHR1bnNldF9jb250ZXh0KCk7XG5cdFx0XHR9KTtcblxuXHRcdHByb21pc2VzLnB1c2gocHJvbWlzZSk7XG5cdH1cblxuXHRwcm9taXNlXG5cdFx0Ly8gd2FpdCBvbmUgbW9yZSB0aWNrLCBzbyB0aGF0IHRlbXBsYXRlIGVmZmVjdHMgYXJlXG5cdFx0Ly8gZ3VhcmFudGVlZCB0byBydW4gYmVmb3JlIGAkZWZmZWN0KC4uLilgXG5cdFx0LnRoZW4oKCkgPT4gUHJvbWlzZS5yZXNvbHZlKCkpXG5cdFx0LmZpbmFsbHkoKCkgPT4ge1xuXHRcdFx0Ym91bmRhcnkudXBkYXRlX3BlbmRpbmdfY291bnQoLTEpO1xuXHRcdFx0YmF0Y2guZGVjcmVtZW50KGJsb2NraW5nKTtcblx0XHR9KTtcblxuXHRyZXR1cm4gcHJvbWlzZXM7XG59XG4iLCIvKiogQGltcG9ydCB7IERlcml2ZWQsIEVmZmVjdCwgU291cmNlIH0gZnJvbSAnI2NsaWVudCcgKi9cbi8qKiBAaW1wb3J0IHsgQmF0Y2ggfSBmcm9tICcuL2JhdGNoLmpzJzsgKi9cbmltcG9ydCB7IERFViB9IGZyb20gJ2VzbS1lbnYnO1xuaW1wb3J0IHtcblx0RVJST1JfVkFMVUUsXG5cdENMRUFOLFxuXHRERVJJVkVELFxuXHRESVJUWSxcblx0RUZGRUNUX1BSRVNFUlZFRCxcblx0TUFZQkVfRElSVFksXG5cdFNUQUxFX1JFQUNUSU9OLFxuXHRBU1lOQyxcblx0V0FTX01BUktFRCxcblx0Q09OTkVDVEVELFxuXHRERVNUUk9ZRURcbn0gZnJvbSAnI2NsaWVudC9jb25zdGFudHMnO1xuaW1wb3J0IHtcblx0YWN0aXZlX3JlYWN0aW9uLFxuXHRhY3RpdmVfZWZmZWN0LFxuXHRzZXRfc2lnbmFsX3N0YXR1cyxcblx0dXBkYXRlX3JlYWN0aW9uLFxuXHRpbmNyZW1lbnRfd3JpdGVfdmVyc2lvbixcblx0c2V0X2FjdGl2ZV9lZmZlY3QsXG5cdHB1c2hfcmVhY3Rpb25fdmFsdWUsXG5cdGlzX2Rlc3Ryb3lpbmdfZWZmZWN0XG59IGZyb20gJy4uL3J1bnRpbWUuanMnO1xuaW1wb3J0IHsgZXF1YWxzLCBzYWZlX2VxdWFscyB9IGZyb20gJy4vZXF1YWxpdHkuanMnO1xuaW1wb3J0ICogYXMgZSBmcm9tICcuLi9lcnJvcnMuanMnO1xuaW1wb3J0ICogYXMgdyBmcm9tICcuLi93YXJuaW5ncy5qcyc7XG5pbXBvcnQgeyBhc3luY19lZmZlY3QsIGRlc3Ryb3lfZWZmZWN0LCBlZmZlY3RfdHJhY2tpbmcsIHRlYXJkb3duIH0gZnJvbSAnLi9lZmZlY3RzLmpzJztcbmltcG9ydCB7IGVhZ2VyX2VmZmVjdHMsIGludGVybmFsX3NldCwgc2V0X2VhZ2VyX2VmZmVjdHMsIHNvdXJjZSB9IGZyb20gJy4vc291cmNlcy5qcyc7XG5pbXBvcnQgeyBnZXRfZXJyb3IgfSBmcm9tICcuLi8uLi9zaGFyZWQvZGV2LmpzJztcbmltcG9ydCB7IGFzeW5jX21vZGVfZmxhZywgdHJhY2luZ19tb2RlX2ZsYWcgfSBmcm9tICcuLi8uLi9mbGFncy9pbmRleC5qcyc7XG5pbXBvcnQgeyBCb3VuZGFyeSB9IGZyb20gJy4uL2RvbS9ibG9ja3MvYm91bmRhcnkuanMnO1xuaW1wb3J0IHsgY29tcG9uZW50X2NvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0LmpzJztcbmltcG9ydCB7IFVOSU5JVElBTElaRUQgfSBmcm9tICcuLi8uLi8uLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgYmF0Y2hfdmFsdWVzLCBjdXJyZW50X2JhdGNoIH0gZnJvbSAnLi9iYXRjaC5qcyc7XG5pbXBvcnQgeyB1bnNldF9jb250ZXh0IH0gZnJvbSAnLi9hc3luYy5qcyc7XG5pbXBvcnQgeyBkZWZlcnJlZCB9IGZyb20gJy4uLy4uL3NoYXJlZC91dGlscy5qcyc7XG5cbi8qKiBAdHlwZSB7RWZmZWN0IHwgbnVsbH0gKi9cbmV4cG9ydCBsZXQgY3VycmVudF9hc3luY19lZmZlY3QgPSBudWxsO1xuXG4vKiogQHBhcmFtIHtFZmZlY3QgfCBudWxsfSB2ICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2Zyb21fYXN5bmNfZGVyaXZlZCh2KSB7XG5cdGN1cnJlbnRfYXN5bmNfZWZmZWN0ID0gdjtcbn1cblxuZXhwb3J0IGNvbnN0IHJlY2VudF9hc3luY19kZXJpdmVkcyA9IG5ldyBTZXQoKTtcblxuLyoqXG4gKiBAdGVtcGxhdGUgVlxuICogQHBhcmFtIHsoKSA9PiBWfSBmblxuICogQHJldHVybnMge0Rlcml2ZWQ8Vj59XG4gKi9cbi8qI19fTk9fU0lERV9FRkZFQ1RTX18qL1xuZXhwb3J0IGZ1bmN0aW9uIGRlcml2ZWQoZm4pIHtcblx0dmFyIGZsYWdzID0gREVSSVZFRCB8IERJUlRZO1xuXHR2YXIgcGFyZW50X2Rlcml2ZWQgPVxuXHRcdGFjdGl2ZV9yZWFjdGlvbiAhPT0gbnVsbCAmJiAoYWN0aXZlX3JlYWN0aW9uLmYgJiBERVJJVkVEKSAhPT0gMFxuXHRcdFx0PyAvKiogQHR5cGUge0Rlcml2ZWR9ICovIChhY3RpdmVfcmVhY3Rpb24pXG5cdFx0XHQ6IG51bGw7XG5cblx0aWYgKGFjdGl2ZV9lZmZlY3QgIT09IG51bGwpIHtcblx0XHQvLyBTaW5jZSBkZXJpdmVkcyBhcmUgZXZhbHVhdGVkIGxhemlseSwgYW55IGVmZmVjdHMgY3JlYXRlZCBpbnNpZGUgdGhlbSBhcmVcblx0XHQvLyBjcmVhdGVkIHRvbyBsYXRlIHRvIGVuc3VyZSB0aGF0IHRoZSBwYXJlbnQgZWZmZWN0IGlzIGFkZGVkIHRvIHRoZSB0cmVlXG5cdFx0YWN0aXZlX2VmZmVjdC5mIHw9IEVGRkVDVF9QUkVTRVJWRUQ7XG5cdH1cblxuXHQvKiogQHR5cGUge0Rlcml2ZWQ8Vj59ICovXG5cdGNvbnN0IHNpZ25hbCA9IHtcblx0XHRjdHg6IGNvbXBvbmVudF9jb250ZXh0LFxuXHRcdGRlcHM6IG51bGwsXG5cdFx0ZWZmZWN0czogbnVsbCxcblx0XHRlcXVhbHMsXG5cdFx0ZjogZmxhZ3MsXG5cdFx0Zm4sXG5cdFx0cmVhY3Rpb25zOiBudWxsLFxuXHRcdHJ2OiAwLFxuXHRcdHY6IC8qKiBAdHlwZSB7Vn0gKi8gKFVOSU5JVElBTElaRUQpLFxuXHRcdHd2OiAwLFxuXHRcdHBhcmVudDogcGFyZW50X2Rlcml2ZWQgPz8gYWN0aXZlX2VmZmVjdCxcblx0XHRhYzogbnVsbFxuXHR9O1xuXG5cdGlmIChERVYgJiYgdHJhY2luZ19tb2RlX2ZsYWcpIHtcblx0XHRzaWduYWwuY3JlYXRlZCA9IGdldF9lcnJvcignY3JlYXRlZCBhdCcpO1xuXHR9XG5cblx0cmV0dXJuIHNpZ25hbDtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgVlxuICogQHBhcmFtIHsoKSA9PiBWIHwgUHJvbWlzZTxWPn0gZm5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbbG9jYXRpb25dIElmIHByb3ZpZGVkLCBwcmludCBhIHdhcm5pbmcgaWYgdGhlIHZhbHVlIGlzIG5vdCByZWFkIGltbWVkaWF0ZWx5IGFmdGVyIHVwZGF0ZVxuICogQHJldHVybnMge1Byb21pc2U8U291cmNlPFY+Pn1cbiAqL1xuLyojX19OT19TSURFX0VGRkVDVFNfXyovXG5leHBvcnQgZnVuY3Rpb24gYXN5bmNfZGVyaXZlZChmbiwgbG9jYXRpb24pIHtcblx0bGV0IHBhcmVudCA9IC8qKiBAdHlwZSB7RWZmZWN0IHwgbnVsbH0gKi8gKGFjdGl2ZV9lZmZlY3QpO1xuXG5cdGlmIChwYXJlbnQgPT09IG51bGwpIHtcblx0XHRlLmFzeW5jX2Rlcml2ZWRfb3JwaGFuKCk7XG5cdH1cblxuXHR2YXIgYm91bmRhcnkgPSAvKiogQHR5cGUge0JvdW5kYXJ5fSAqLyAocGFyZW50LmIpO1xuXG5cdHZhciBwcm9taXNlID0gLyoqIEB0eXBlIHtQcm9taXNlPFY+fSAqLyAoLyoqIEB0eXBlIHt1bmtub3dufSAqLyAodW5kZWZpbmVkKSk7XG5cdHZhciBzaWduYWwgPSBzb3VyY2UoLyoqIEB0eXBlIHtWfSAqLyAoVU5JTklUSUFMSVpFRCkpO1xuXG5cdC8vIG9ubHkgc3VzcGVuZCBpbiBhc3luYyBkZXJpdmVkcyBjcmVhdGVkIG9uIGluaXRpYWxpc2F0aW9uXG5cdHZhciBzaG91bGRfc3VzcGVuZCA9ICFhY3RpdmVfcmVhY3Rpb247XG5cblx0LyoqIEB0eXBlIHtNYXA8QmF0Y2gsIFJldHVyblR5cGU8dHlwZW9mIGRlZmVycmVkPFY+Pj59ICovXG5cdHZhciBkZWZlcnJlZHMgPSBuZXcgTWFwKCk7XG5cblx0YXN5bmNfZWZmZWN0KCgpID0+IHtcblx0XHRpZiAoREVWKSBjdXJyZW50X2FzeW5jX2VmZmVjdCA9IGFjdGl2ZV9lZmZlY3Q7XG5cblx0XHQvKiogQHR5cGUge1JldHVyblR5cGU8dHlwZW9mIGRlZmVycmVkPFY+Pn0gKi9cblx0XHR2YXIgZCA9IGRlZmVycmVkKCk7XG5cdFx0cHJvbWlzZSA9IGQucHJvbWlzZTtcblxuXHRcdHRyeSB7XG5cdFx0XHQvLyBJZiB0aGlzIGNvZGUgaXMgY2hhbmdlZCBhdCBzb21lIHBvaW50LCBtYWtlIHN1cmUgdG8gc3RpbGwgYWNjZXNzIHRoZSB0aGVuIHByb3BlcnR5XG5cdFx0XHQvLyBvZiBmbigpIHRvIHJlYWQgYW55IHNpZ25hbHMgaXQgbWlnaHQgYWNjZXNzLCBzbyB0aGF0IHdlIHRyYWNrIHRoZW0gYXMgZGVwZW5kZW5jaWVzLlxuXHRcdFx0Ly8gV2UgY2FsbCBgdW5zZXRfY29udGV4dGAgdG8gdW5kbyBhbnkgYHNhdmVgIGNhbGxzIHRoYXQgaGFwcGVuIGluc2lkZSBgZm4oKWBcblx0XHRcdFByb21pc2UucmVzb2x2ZShmbigpKVxuXHRcdFx0XHQudGhlbihkLnJlc29sdmUsIGQucmVqZWN0KVxuXHRcdFx0XHQudGhlbigoKSA9PiB7XG5cdFx0XHRcdFx0aWYgKGJhdGNoID09PSBjdXJyZW50X2JhdGNoICYmIGJhdGNoLmNvbW1pdHRlZCkge1xuXHRcdFx0XHRcdFx0Ly8gaWYgdGhlIGJhdGNoIHdhcyByZWplY3RlZCBhcyBzdGFsZSwgd2UgbmVlZCB0byBjbGVhbnVwXG5cdFx0XHRcdFx0XHQvLyBhZnRlciBhbnkgYCQuc2F2ZSguLi4pYCBjYWxscyBpbnNpZGUgYGZuKClgXG5cdFx0XHRcdFx0XHRiYXRjaC5kZWFjdGl2YXRlKCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dW5zZXRfY29udGV4dCgpO1xuXHRcdFx0XHR9KTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0ZC5yZWplY3QoZXJyb3IpO1xuXHRcdFx0dW5zZXRfY29udGV4dCgpO1xuXHRcdH1cblxuXHRcdGlmIChERVYpIGN1cnJlbnRfYXN5bmNfZWZmZWN0ID0gbnVsbDtcblxuXHRcdHZhciBiYXRjaCA9IC8qKiBAdHlwZSB7QmF0Y2h9ICovIChjdXJyZW50X2JhdGNoKTtcblxuXHRcdGlmIChzaG91bGRfc3VzcGVuZCkge1xuXHRcdFx0dmFyIGJsb2NraW5nID0gIWJvdW5kYXJ5LmlzX3BlbmRpbmcoKTtcblxuXHRcdFx0Ym91bmRhcnkudXBkYXRlX3BlbmRpbmdfY291bnQoMSk7XG5cdFx0XHRiYXRjaC5pbmNyZW1lbnQoYmxvY2tpbmcpO1xuXG5cdFx0XHRkZWZlcnJlZHMuZ2V0KGJhdGNoKT8ucmVqZWN0KFNUQUxFX1JFQUNUSU9OKTtcblx0XHRcdGRlZmVycmVkcy5kZWxldGUoYmF0Y2gpOyAvLyBkZWxldGUgdG8gZW5zdXJlIGNvcnJlY3Qgb3JkZXIgaW4gTWFwIGl0ZXJhdGlvbiBiZWxvd1xuXHRcdFx0ZGVmZXJyZWRzLnNldChiYXRjaCwgZCk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogQHBhcmFtIHthbnl9IHZhbHVlXG5cdFx0ICogQHBhcmFtIHt1bmtub3dufSBlcnJvclxuXHRcdCAqL1xuXHRcdGNvbnN0IGhhbmRsZXIgPSAodmFsdWUsIGVycm9yID0gdW5kZWZpbmVkKSA9PiB7XG5cdFx0XHRjdXJyZW50X2FzeW5jX2VmZmVjdCA9IG51bGw7XG5cblx0XHRcdGJhdGNoLmFjdGl2YXRlKCk7XG5cblx0XHRcdGlmIChlcnJvcikge1xuXHRcdFx0XHRpZiAoZXJyb3IgIT09IFNUQUxFX1JFQUNUSU9OKSB7XG5cdFx0XHRcdFx0c2lnbmFsLmYgfD0gRVJST1JfVkFMVUU7XG5cblx0XHRcdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yIHRoZSBlcnJvciBpcyB0aGUgd3JvbmcgdHlwZSwgYnV0IHdlIGRvbid0IGNhcmVcblx0XHRcdFx0XHRpbnRlcm5hbF9zZXQoc2lnbmFsLCBlcnJvcik7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmICgoc2lnbmFsLmYgJiBFUlJPUl9WQUxVRSkgIT09IDApIHtcblx0XHRcdFx0XHRzaWduYWwuZiBePSBFUlJPUl9WQUxVRTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGludGVybmFsX3NldChzaWduYWwsIHZhbHVlKTtcblxuXHRcdFx0XHQvLyBBbGwgcHJpb3IgYXN5bmMgZGVyaXZlZCBydW5zIGFyZSBub3cgc3RhbGVcblx0XHRcdFx0Zm9yIChjb25zdCBbYiwgZF0gb2YgZGVmZXJyZWRzKSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWRzLmRlbGV0ZShiKTtcblx0XHRcdFx0XHRpZiAoYiA9PT0gYmF0Y2gpIGJyZWFrO1xuXHRcdFx0XHRcdGQucmVqZWN0KFNUQUxFX1JFQUNUSU9OKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChERVYgJiYgbG9jYXRpb24gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHJlY2VudF9hc3luY19kZXJpdmVkcy5hZGQoc2lnbmFsKTtcblxuXHRcdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHJlY2VudF9hc3luY19kZXJpdmVkcy5oYXMoc2lnbmFsKSkge1xuXHRcdFx0XHRcdFx0XHR3LmF3YWl0X3dhdGVyZmFsbCgvKiogQHR5cGUge3N0cmluZ30gKi8gKHNpZ25hbC5sYWJlbCksIGxvY2F0aW9uKTtcblx0XHRcdFx0XHRcdFx0cmVjZW50X2FzeW5jX2Rlcml2ZWRzLmRlbGV0ZShzaWduYWwpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmIChzaG91bGRfc3VzcGVuZCkge1xuXHRcdFx0XHRib3VuZGFyeS51cGRhdGVfcGVuZGluZ19jb3VudCgtMSk7XG5cdFx0XHRcdGJhdGNoLmRlY3JlbWVudChibG9ja2luZyk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdGQucHJvbWlzZS50aGVuKGhhbmRsZXIsIChlKSA9PiBoYW5kbGVyKG51bGwsIGUgfHwgJ3Vua25vd24nKSk7XG5cdH0pO1xuXG5cdHRlYXJkb3duKCgpID0+IHtcblx0XHRmb3IgKGNvbnN0IGQgb2YgZGVmZXJyZWRzLnZhbHVlcygpKSB7XG5cdFx0XHRkLnJlamVjdChTVEFMRV9SRUFDVElPTik7XG5cdFx0fVxuXHR9KTtcblxuXHRpZiAoREVWKSB7XG5cdFx0Ly8gYWRkIGEgZmxhZyB0aGF0IGxldHMgdGhpcyBiZSBwcmludGVkIGFzIGEgZGVyaXZlZFxuXHRcdC8vIHdoZW4gdXNpbmcgYCRpbnNwZWN0LnRyYWNlKClgXG5cdFx0c2lnbmFsLmYgfD0gQVNZTkM7XG5cdH1cblxuXHRyZXR1cm4gbmV3IFByb21pc2UoKGZ1bGZpbCkgPT4ge1xuXHRcdC8qKiBAcGFyYW0ge1Byb21pc2U8Vj59IHAgKi9cblx0XHRmdW5jdGlvbiBuZXh0KHApIHtcblx0XHRcdGZ1bmN0aW9uIGdvKCkge1xuXHRcdFx0XHRpZiAocCA9PT0gcHJvbWlzZSkge1xuXHRcdFx0XHRcdGZ1bGZpbChzaWduYWwpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIGlmIHRoZSBlZmZlY3QgcmUtcnVucyBiZWZvcmUgdGhlIGluaXRpYWwgcHJvbWlzZVxuXHRcdFx0XHRcdC8vIHJlc29sdmVzLCBkZWxheSByZXNvbHV0aW9uIHVudGlsIHdlIGhhdmUgYSB2YWx1ZVxuXHRcdFx0XHRcdG5leHQocHJvbWlzZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cC50aGVuKGdvLCBnbyk7XG5cdFx0fVxuXG5cdFx0bmV4dChwcm9taXNlKTtcblx0fSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFZcbiAqIEBwYXJhbSB7KCkgPT4gVn0gZm5cbiAqIEByZXR1cm5zIHtEZXJpdmVkPFY+fVxuICovXG4vKiNfX05PX1NJREVfRUZGRUNUU19fKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VyX2Rlcml2ZWQoZm4pIHtcblx0Y29uc3QgZCA9IGRlcml2ZWQoZm4pO1xuXG5cdGlmICghYXN5bmNfbW9kZV9mbGFnKSBwdXNoX3JlYWN0aW9uX3ZhbHVlKGQpO1xuXG5cdHJldHVybiBkO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBWXG4gKiBAcGFyYW0geygpID0+IFZ9IGZuXG4gKiBAcmV0dXJucyB7RGVyaXZlZDxWPn1cbiAqL1xuLyojX19OT19TSURFX0VGRkVDVFNfXyovXG5leHBvcnQgZnVuY3Rpb24gZGVyaXZlZF9zYWZlX2VxdWFsKGZuKSB7XG5cdGNvbnN0IHNpZ25hbCA9IGRlcml2ZWQoZm4pO1xuXHRzaWduYWwuZXF1YWxzID0gc2FmZV9lcXVhbHM7XG5cdHJldHVybiBzaWduYWw7XG59XG5cbi8qKlxuICogQHBhcmFtIHtEZXJpdmVkfSBkZXJpdmVkXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3lfZGVyaXZlZF9lZmZlY3RzKGRlcml2ZWQpIHtcblx0dmFyIGVmZmVjdHMgPSBkZXJpdmVkLmVmZmVjdHM7XG5cblx0aWYgKGVmZmVjdHMgIT09IG51bGwpIHtcblx0XHRkZXJpdmVkLmVmZmVjdHMgPSBudWxsO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBlZmZlY3RzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRkZXN0cm95X2VmZmVjdCgvKiogQHR5cGUge0VmZmVjdH0gKi8gKGVmZmVjdHNbaV0pKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBUaGUgY3VycmVudGx5IHVwZGF0aW5nIGRlcml2ZWRzLCB1c2VkIHRvIGRldGVjdCBpbmZpbml0ZSByZWN1cnNpb25cbiAqIGluIGRldiBtb2RlIGFuZCBwcm92aWRlIGEgbmljZXIgZXJyb3IgdGhhbiAndG9vIG11Y2ggcmVjdXJzaW9uJ1xuICogQHR5cGUge0Rlcml2ZWRbXX1cbiAqL1xubGV0IHN0YWNrID0gW107XG5cbi8qKlxuICogQHBhcmFtIHtEZXJpdmVkfSBkZXJpdmVkXG4gKiBAcmV0dXJucyB7RWZmZWN0IHwgbnVsbH1cbiAqL1xuZnVuY3Rpb24gZ2V0X2Rlcml2ZWRfcGFyZW50X2VmZmVjdChkZXJpdmVkKSB7XG5cdHZhciBwYXJlbnQgPSBkZXJpdmVkLnBhcmVudDtcblx0d2hpbGUgKHBhcmVudCAhPT0gbnVsbCkge1xuXHRcdGlmICgocGFyZW50LmYgJiBERVJJVkVEKSA9PT0gMCkge1xuXHRcdFx0Ly8gVGhlIG9yaWdpbmFsIHBhcmVudCBlZmZlY3QgbWlnaHQndmUgYmVlbiBkZXN0cm95ZWQgYnV0IHRoZSBkZXJpdmVkXG5cdFx0XHQvLyBpcyB1c2VkIGVsc2V3aGVyZSBub3cgLSBkbyBub3QgcmV0dXJuIHRoZSBkZXN0cm95ZWQgZWZmZWN0IGluIHRoYXQgY2FzZVxuXHRcdFx0cmV0dXJuIChwYXJlbnQuZiAmIERFU1RST1lFRCkgPT09IDAgPyAvKiogQHR5cGUge0VmZmVjdH0gKi8gKHBhcmVudCkgOiBudWxsO1xuXHRcdH1cblx0XHRwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuXHR9XG5cdHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge0Rlcml2ZWR9IGRlcml2ZWRcbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXhlY3V0ZV9kZXJpdmVkKGRlcml2ZWQpIHtcblx0dmFyIHZhbHVlO1xuXHR2YXIgcHJldl9hY3RpdmVfZWZmZWN0ID0gYWN0aXZlX2VmZmVjdDtcblxuXHRzZXRfYWN0aXZlX2VmZmVjdChnZXRfZGVyaXZlZF9wYXJlbnRfZWZmZWN0KGRlcml2ZWQpKTtcblxuXHRpZiAoREVWKSB7XG5cdFx0bGV0IHByZXZfZWFnZXJfZWZmZWN0cyA9IGVhZ2VyX2VmZmVjdHM7XG5cdFx0c2V0X2VhZ2VyX2VmZmVjdHMobmV3IFNldCgpKTtcblx0XHR0cnkge1xuXHRcdFx0aWYgKHN0YWNrLmluY2x1ZGVzKGRlcml2ZWQpKSB7XG5cdFx0XHRcdGUuZGVyaXZlZF9yZWZlcmVuY2VzX3NlbGYoKTtcblx0XHRcdH1cblxuXHRcdFx0c3RhY2sucHVzaChkZXJpdmVkKTtcblxuXHRcdFx0ZGVyaXZlZC5mICY9IH5XQVNfTUFSS0VEO1xuXHRcdFx0ZGVzdHJveV9kZXJpdmVkX2VmZmVjdHMoZGVyaXZlZCk7XG5cdFx0XHR2YWx1ZSA9IHVwZGF0ZV9yZWFjdGlvbihkZXJpdmVkKTtcblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0c2V0X2FjdGl2ZV9lZmZlY3QocHJldl9hY3RpdmVfZWZmZWN0KTtcblx0XHRcdHNldF9lYWdlcl9lZmZlY3RzKHByZXZfZWFnZXJfZWZmZWN0cyk7XG5cdFx0XHRzdGFjay5wb3AoKTtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0dHJ5IHtcblx0XHRcdGRlcml2ZWQuZiAmPSB+V0FTX01BUktFRDtcblx0XHRcdGRlc3Ryb3lfZGVyaXZlZF9lZmZlY3RzKGRlcml2ZWQpO1xuXHRcdFx0dmFsdWUgPSB1cGRhdGVfcmVhY3Rpb24oZGVyaXZlZCk7XG5cdFx0fSBmaW5hbGx5IHtcblx0XHRcdHNldF9hY3RpdmVfZWZmZWN0KHByZXZfYWN0aXZlX2VmZmVjdCk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHZhbHVlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RGVyaXZlZH0gZGVyaXZlZFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVfZGVyaXZlZChkZXJpdmVkKSB7XG5cdHZhciB2YWx1ZSA9IGV4ZWN1dGVfZGVyaXZlZChkZXJpdmVkKTtcblxuXHRpZiAoIWRlcml2ZWQuZXF1YWxzKHZhbHVlKSkge1xuXHRcdC8vIGluIGEgZm9yaywgd2UgZG9uJ3QgdXBkYXRlIHRoZSB1bmRlcmx5aW5nIHZhbHVlLCBqdXN0IGBiYXRjaF92YWx1ZXNgLlxuXHRcdC8vIHRoZSB1bmRlcmx5aW5nIHZhbHVlIHdpbGwgYmUgdXBkYXRlZCB3aGVuIHRoZSBmb3JrIGlzIGNvbW1pdHRlZC5cblx0XHQvLyBvdGhlcndpc2UsIHRoZSBuZXh0IHRpbWUgd2UgZ2V0IGhlcmUgYWZ0ZXIgYSAncmVhbCB3b3JsZCcgc3RhdGVcblx0XHQvLyBjaGFuZ2UsIGBkZXJpdmVkLmVxdWFsc2AgbWF5IGluY29ycmVjdGx5IHJldHVybiBgdHJ1ZWBcblx0XHRpZiAoIWN1cnJlbnRfYmF0Y2g/LmlzX2ZvcmspIHtcblx0XHRcdGRlcml2ZWQudiA9IHZhbHVlO1xuXHRcdH1cblxuXHRcdGRlcml2ZWQud3YgPSBpbmNyZW1lbnRfd3JpdGVfdmVyc2lvbigpO1xuXHR9XG5cblx0Ly8gZG9uJ3QgbWFyayBkZXJpdmVkIGNsZWFuIGlmIHdlJ3JlIHJlYWRpbmcgaXQgaW5zaWRlIGFcblx0Ly8gY2xlYW51cCBmdW5jdGlvbiwgb3IgaXQgd2lsbCBjYWNoZSBhIHN0YWxlIHZhbHVlXG5cdGlmIChpc19kZXN0cm95aW5nX2VmZmVjdCkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIER1cmluZyB0aW1lIHRyYXZlbGluZyB3ZSBkb24ndCB3YW50IHRvIHJlc2V0IHRoZSBzdGF0dXMgc28gdGhhdFxuXHQvLyB0cmF2ZXJzYWwgb2YgdGhlIGdyYXBoIGluIHRoZSBvdGhlciBiYXRjaGVzIHN0aWxsIGhhcHBlbnNcblx0aWYgKGJhdGNoX3ZhbHVlcyAhPT0gbnVsbCkge1xuXHRcdC8vIG9ubHkgY2FjaGUgdGhlIHZhbHVlIGlmIHdlJ3JlIGluIGEgdHJhY2tpbmcgY29udGV4dCwgb3RoZXJ3aXNlIHdlIHdvbid0XG5cdFx0Ly8gY2xlYXIgdGhlIGNhY2hlIGluIGBtYXJrX3JlYWN0aW9uc2Agd2hlbiBkZXBlbmRlbmNpZXMgYXJlIHVwZGF0ZWRcblx0XHRpZiAoZWZmZWN0X3RyYWNraW5nKCkgfHwgY3VycmVudF9iYXRjaD8uaXNfZm9yaykge1xuXHRcdFx0YmF0Y2hfdmFsdWVzLnNldChkZXJpdmVkLCB2YWx1ZSk7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdHZhciBzdGF0dXMgPSAoZGVyaXZlZC5mICYgQ09OTkVDVEVEKSA9PT0gMCA/IE1BWUJFX0RJUlRZIDogQ0xFQU47XG5cdFx0c2V0X3NpZ25hbF9zdGF0dXMoZGVyaXZlZCwgc3RhdHVzKTtcblx0fVxufVxuIiwiLyoqIEBpbXBvcnQgeyBEZXJpdmVkLCBFZmZlY3QsIFNvdXJjZSwgVmFsdWUgfSBmcm9tICcjY2xpZW50JyAqL1xuaW1wb3J0IHsgREVWIH0gZnJvbSAnZXNtLWVudic7XG5pbXBvcnQge1xuXHRhY3RpdmVfcmVhY3Rpb24sXG5cdGFjdGl2ZV9lZmZlY3QsXG5cdHVudHJhY2tlZF93cml0ZXMsXG5cdGdldCxcblx0c2V0X3VudHJhY2tlZF93cml0ZXMsXG5cdHNldF9zaWduYWxfc3RhdHVzLFxuXHR1bnRyYWNrLFxuXHRpbmNyZW1lbnRfd3JpdGVfdmVyc2lvbixcblx0dXBkYXRlX2VmZmVjdCxcblx0Y3VycmVudF9zb3VyY2VzLFxuXHRpc19kaXJ0eSxcblx0dW50cmFja2luZyxcblx0aXNfZGVzdHJveWluZ19lZmZlY3QsXG5cdHB1c2hfcmVhY3Rpb25fdmFsdWUsXG5cdHNldF9pc191cGRhdGluZ19lZmZlY3QsXG5cdGlzX3VwZGF0aW5nX2VmZmVjdFxufSBmcm9tICcuLi9ydW50aW1lLmpzJztcbmltcG9ydCB7IGVxdWFscywgc2FmZV9lcXVhbHMgfSBmcm9tICcuL2VxdWFsaXR5LmpzJztcbmltcG9ydCB7XG5cdENMRUFOLFxuXHRERVJJVkVELFxuXHRESVJUWSxcblx0QlJBTkNIX0VGRkVDVCxcblx0RUFHRVJfRUZGRUNULFxuXHRNQVlCRV9ESVJUWSxcblx0QkxPQ0tfRUZGRUNULFxuXHRST09UX0VGRkVDVCxcblx0QVNZTkMsXG5cdFdBU19NQVJLRUQsXG5cdENPTk5FQ1RFRFxufSBmcm9tICcjY2xpZW50L2NvbnN0YW50cyc7XG5pbXBvcnQgKiBhcyBlIGZyb20gJy4uL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBsZWdhY3lfbW9kZV9mbGFnLCB0cmFjaW5nX21vZGVfZmxhZyB9IGZyb20gJy4uLy4uL2ZsYWdzL2luZGV4LmpzJztcbmltcG9ydCB7IHRhZ19wcm94eSB9IGZyb20gJy4uL2Rldi90cmFjaW5nLmpzJztcbmltcG9ydCB7IGdldF9lcnJvciB9IGZyb20gJy4uLy4uL3NoYXJlZC9kZXYuanMnO1xuaW1wb3J0IHsgY29tcG9uZW50X2NvbnRleHQsIGlzX3J1bmVzIH0gZnJvbSAnLi4vY29udGV4dC5qcyc7XG5pbXBvcnQgeyBCYXRjaCwgYmF0Y2hfdmFsdWVzLCBlYWdlcl9ibG9ja19lZmZlY3RzLCBzY2hlZHVsZV9lZmZlY3QgfSBmcm9tICcuL2JhdGNoLmpzJztcbmltcG9ydCB7IHByb3h5IH0gZnJvbSAnLi4vcHJveHkuanMnO1xuaW1wb3J0IHsgZXhlY3V0ZV9kZXJpdmVkIH0gZnJvbSAnLi9kZXJpdmVkcy5qcyc7XG5cbi8qKiBAdHlwZSB7U2V0PGFueT59ICovXG5leHBvcnQgbGV0IGVhZ2VyX2VmZmVjdHMgPSBuZXcgU2V0KCk7XG5cbi8qKiBAdHlwZSB7TWFwPFNvdXJjZSwgYW55Pn0gKi9cbmV4cG9ydCBjb25zdCBvbGRfdmFsdWVzID0gbmV3IE1hcCgpO1xuXG4vKipcbiAqIEBwYXJhbSB7U2V0PGFueT59IHZcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9lYWdlcl9lZmZlY3RzKHYpIHtcblx0ZWFnZXJfZWZmZWN0cyA9IHY7XG59XG5cbmxldCBlYWdlcl9lZmZlY3RzX2RlZmVycmVkID0gZmFsc2U7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRfZWFnZXJfZWZmZWN0c19kZWZlcnJlZCgpIHtcblx0ZWFnZXJfZWZmZWN0c19kZWZlcnJlZCA9IHRydWU7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFZcbiAqIEBwYXJhbSB7Vn0gdlxuICogQHBhcmFtIHtFcnJvciB8IG51bGx9IFtzdGFja11cbiAqIEByZXR1cm5zIHtTb3VyY2U8Vj59XG4gKi9cbi8vIFRPRE8gcmVuYW1lIHRoaXMgdG8gYHN0YXRlYCB0aHJvdWdob3V0IHRoZSBjb2RlYmFzZVxuZXhwb3J0IGZ1bmN0aW9uIHNvdXJjZSh2LCBzdGFjaykge1xuXHQvKiogQHR5cGUge1ZhbHVlfSAqL1xuXHR2YXIgc2lnbmFsID0ge1xuXHRcdGY6IDAsIC8vIFRPRE8gaWRlYWxseSB3ZSBjb3VsZCBza2lwIHRoaXMgYWx0b2dldGhlciwgYnV0IGl0IGNhdXNlcyB0eXBlIGVycm9yc1xuXHRcdHYsXG5cdFx0cmVhY3Rpb25zOiBudWxsLFxuXHRcdGVxdWFscyxcblx0XHRydjogMCxcblx0XHR3djogMFxuXHR9O1xuXG5cdGlmIChERVYgJiYgdHJhY2luZ19tb2RlX2ZsYWcpIHtcblx0XHRzaWduYWwuY3JlYXRlZCA9IHN0YWNrID8/IGdldF9lcnJvcignY3JlYXRlZCBhdCcpO1xuXHRcdHNpZ25hbC51cGRhdGVkID0gbnVsbDtcblx0XHRzaWduYWwuc2V0X2R1cmluZ19lZmZlY3QgPSBmYWxzZTtcblx0XHRzaWduYWwudHJhY2UgPSBudWxsO1xuXHR9XG5cblx0cmV0dXJuIHNpZ25hbDtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgVlxuICogQHBhcmFtIHtWfSB2XG4gKiBAcGFyYW0ge0Vycm9yIHwgbnVsbH0gW3N0YWNrXVxuICovXG4vKiNfX05PX1NJREVfRUZGRUNUU19fKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGF0ZSh2LCBzdGFjaykge1xuXHRjb25zdCBzID0gc291cmNlKHYsIHN0YWNrKTtcblxuXHRwdXNoX3JlYWN0aW9uX3ZhbHVlKHMpO1xuXG5cdHJldHVybiBzO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBWXG4gKiBAcGFyYW0ge1Z9IGluaXRpYWxfdmFsdWVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ltbXV0YWJsZV1cbiAqIEByZXR1cm5zIHtTb3VyY2U8Vj59XG4gKi9cbi8qI19fTk9fU0lERV9FRkZFQ1RTX18qL1xuZXhwb3J0IGZ1bmN0aW9uIG11dGFibGVfc291cmNlKGluaXRpYWxfdmFsdWUsIGltbXV0YWJsZSA9IGZhbHNlLCB0cmFja2FibGUgPSB0cnVlKSB7XG5cdGNvbnN0IHMgPSBzb3VyY2UoaW5pdGlhbF92YWx1ZSk7XG5cdGlmICghaW1tdXRhYmxlKSB7XG5cdFx0cy5lcXVhbHMgPSBzYWZlX2VxdWFscztcblx0fVxuXG5cdC8vIGJpbmQgdGhlIHNpZ25hbCB0byB0aGUgY29tcG9uZW50IGNvbnRleHQsIGluIGNhc2Ugd2UgbmVlZCB0b1xuXHQvLyB0cmFjayB1cGRhdGVzIHRvIHRyaWdnZXIgYmVmb3JlVXBkYXRlL2FmdGVyVXBkYXRlIGNhbGxiYWNrc1xuXHRpZiAobGVnYWN5X21vZGVfZmxhZyAmJiB0cmFja2FibGUgJiYgY29tcG9uZW50X2NvbnRleHQgIT09IG51bGwgJiYgY29tcG9uZW50X2NvbnRleHQubCAhPT0gbnVsbCkge1xuXHRcdChjb21wb25lbnRfY29udGV4dC5sLnMgPz89IFtdKS5wdXNoKHMpO1xuXHR9XG5cblx0cmV0dXJuIHM7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFZcbiAqIEBwYXJhbSB7VmFsdWU8Vj59IHNvdXJjZVxuICogQHBhcmFtIHtWfSB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gbXV0YXRlKHNvdXJjZSwgdmFsdWUpIHtcblx0c2V0KFxuXHRcdHNvdXJjZSxcblx0XHR1bnRyYWNrKCgpID0+IGdldChzb3VyY2UpKVxuXHQpO1xuXHRyZXR1cm4gdmFsdWU7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFZcbiAqIEBwYXJhbSB7U291cmNlPFY+fSBzb3VyY2VcbiAqIEBwYXJhbSB7Vn0gdmFsdWVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Nob3VsZF9wcm94eV1cbiAqIEByZXR1cm5zIHtWfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0KHNvdXJjZSwgdmFsdWUsIHNob3VsZF9wcm94eSA9IGZhbHNlKSB7XG5cdGlmIChcblx0XHRhY3RpdmVfcmVhY3Rpb24gIT09IG51bGwgJiZcblx0XHQvLyBzaW5jZSB3ZSBhcmUgdW50cmFja2luZyB0aGUgZnVuY3Rpb24gaW5zaWRlIGAkaW5zcGVjdC53aXRoYCB3ZSBuZWVkIHRvIGFkZCB0aGlzIGNoZWNrXG5cdFx0Ly8gdG8gZW5zdXJlIHdlIGVycm9yIGlmIHN0YXRlIGlzIHNldCBpbnNpZGUgYW4gaW5zcGVjdCBlZmZlY3Rcblx0XHQoIXVudHJhY2tpbmcgfHwgKGFjdGl2ZV9yZWFjdGlvbi5mICYgRUFHRVJfRUZGRUNUKSAhPT0gMCkgJiZcblx0XHRpc19ydW5lcygpICYmXG5cdFx0KGFjdGl2ZV9yZWFjdGlvbi5mICYgKERFUklWRUQgfCBCTE9DS19FRkZFQ1QgfCBBU1lOQyB8IEVBR0VSX0VGRkVDVCkpICE9PSAwICYmXG5cdFx0IWN1cnJlbnRfc291cmNlcz8uaW5jbHVkZXMoc291cmNlKVxuXHQpIHtcblx0XHRlLnN0YXRlX3Vuc2FmZV9tdXRhdGlvbigpO1xuXHR9XG5cblx0bGV0IG5ld192YWx1ZSA9IHNob3VsZF9wcm94eSA/IHByb3h5KHZhbHVlKSA6IHZhbHVlO1xuXG5cdGlmIChERVYpIHtcblx0XHR0YWdfcHJveHkobmV3X3ZhbHVlLCAvKiogQHR5cGUge3N0cmluZ30gKi8gKHNvdXJjZS5sYWJlbCkpO1xuXHR9XG5cblx0cmV0dXJuIGludGVybmFsX3NldChzb3VyY2UsIG5ld192YWx1ZSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFZcbiAqIEBwYXJhbSB7U291cmNlPFY+fSBzb3VyY2VcbiAqIEBwYXJhbSB7Vn0gdmFsdWVcbiAqIEByZXR1cm5zIHtWfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJuYWxfc2V0KHNvdXJjZSwgdmFsdWUpIHtcblx0aWYgKCFzb3VyY2UuZXF1YWxzKHZhbHVlKSkge1xuXHRcdHZhciBvbGRfdmFsdWUgPSBzb3VyY2UudjtcblxuXHRcdGlmIChpc19kZXN0cm95aW5nX2VmZmVjdCkge1xuXHRcdFx0b2xkX3ZhbHVlcy5zZXQoc291cmNlLCB2YWx1ZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG9sZF92YWx1ZXMuc2V0KHNvdXJjZSwgb2xkX3ZhbHVlKTtcblx0XHR9XG5cblx0XHRzb3VyY2UudiA9IHZhbHVlO1xuXG5cdFx0dmFyIGJhdGNoID0gQmF0Y2guZW5zdXJlKCk7XG5cdFx0YmF0Y2guY2FwdHVyZShzb3VyY2UsIG9sZF92YWx1ZSk7XG5cblx0XHRpZiAoREVWKSB7XG5cdFx0XHRpZiAodHJhY2luZ19tb2RlX2ZsYWcgfHwgYWN0aXZlX2VmZmVjdCAhPT0gbnVsbCkge1xuXHRcdFx0XHRzb3VyY2UudXBkYXRlZCA/Pz0gbmV3IE1hcCgpO1xuXG5cdFx0XHRcdC8vIEZvciBwZXJmb3JtYW5jZSByZWFzb25zLCB3aGVuIG5vdCB1c2luZyAkaW5zcGVjdC50cmFjZSwgd2Ugb25seSBzdGFydCBjb2xsZWN0aW5nIHN0YWNrIHRyYWNlc1xuXHRcdFx0XHQvLyBhZnRlciB0aGUgc2FtZSBzb3VyY2UgaGFzIGJlZW4gdXBkYXRlZCBtb3JlIHRoYW4gNSB0aW1lcyBpbiB0aGUgc2FtZSBmbHVzaCBjeWNsZS5cblx0XHRcdFx0Y29uc3QgY291bnQgPSAoc291cmNlLnVwZGF0ZWQuZ2V0KCcnKT8uY291bnQgPz8gMCkgKyAxO1xuXHRcdFx0XHRzb3VyY2UudXBkYXRlZC5zZXQoJycsIHsgZXJyb3I6IC8qKiBAdHlwZSB7YW55fSAqLyAobnVsbCksIGNvdW50IH0pO1xuXG5cdFx0XHRcdGlmICh0cmFjaW5nX21vZGVfZmxhZyB8fCBjb3VudCA+IDUpIHtcblx0XHRcdFx0XHRjb25zdCBlcnJvciA9IGdldF9lcnJvcigndXBkYXRlZCBhdCcpO1xuXG5cdFx0XHRcdFx0aWYgKGVycm9yICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRsZXQgZW50cnkgPSBzb3VyY2UudXBkYXRlZC5nZXQoZXJyb3Iuc3RhY2spO1xuXG5cdFx0XHRcdFx0XHRpZiAoIWVudHJ5KSB7XG5cdFx0XHRcdFx0XHRcdGVudHJ5ID0geyBlcnJvciwgY291bnQ6IDAgfTtcblx0XHRcdFx0XHRcdFx0c291cmNlLnVwZGF0ZWQuc2V0KGVycm9yLnN0YWNrLCBlbnRyeSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGVudHJ5LmNvdW50Kys7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmIChhY3RpdmVfZWZmZWN0ICE9PSBudWxsKSB7XG5cdFx0XHRcdHNvdXJjZS5zZXRfZHVyaW5nX2VmZmVjdCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKChzb3VyY2UuZiAmIERFUklWRUQpICE9PSAwKSB7XG5cdFx0XHQvLyBpZiB3ZSBhcmUgYXNzaWduaW5nIHRvIGEgZGlydHkgZGVyaXZlZCB3ZSBzZXQgaXQgdG8gY2xlYW4vbWF5YmUgZGlydHkgYnV0IHdlIGFsc28gZWFnZXJseSBleGVjdXRlIGl0IHRvIHRyYWNrIHRoZSBkZXBlbmRlbmNpZXNcblx0XHRcdGlmICgoc291cmNlLmYgJiBESVJUWSkgIT09IDApIHtcblx0XHRcdFx0ZXhlY3V0ZV9kZXJpdmVkKC8qKiBAdHlwZSB7RGVyaXZlZH0gKi8gKHNvdXJjZSkpO1xuXHRcdFx0fVxuXG5cdFx0XHRzZXRfc2lnbmFsX3N0YXR1cyhzb3VyY2UsIChzb3VyY2UuZiAmIENPTk5FQ1RFRCkgIT09IDAgPyBDTEVBTiA6IE1BWUJFX0RJUlRZKTtcblx0XHR9XG5cblx0XHRzb3VyY2Uud3YgPSBpbmNyZW1lbnRfd3JpdGVfdmVyc2lvbigpO1xuXG5cdFx0Ly8gRm9yIGRlYnVnZ2luZywgaW4gY2FzZSB5b3Ugd2FudCB0byBrbm93IHdoaWNoIHJlYWN0aW9ucyBhcmUgYmVpbmcgc2NoZWR1bGVkOlxuXHRcdC8vIGxvZ19yZWFjdGlvbnMoc291cmNlKTtcblx0XHRtYXJrX3JlYWN0aW9ucyhzb3VyY2UsIERJUlRZKTtcblxuXHRcdC8vIEl0J3MgcG9zc2libGUgdGhhdCB0aGUgY3VycmVudCByZWFjdGlvbiBtaWdodCBub3QgaGF2ZSB1cC10by1kYXRlIGRlcGVuZGVuY2llc1xuXHRcdC8vIHdoaWxzdCBpdCdzIGFjdGl2ZWx5IHJ1bm5pbmcuIFNvIGluIHRoZSBjYXNlIG9mIGVuc3VyaW5nIGl0IHJlZ2lzdGVycyB0aGUgcmVhY3Rpb25cblx0XHQvLyBwcm9wZXJseSBmb3IgaXRzZWxmLCB3ZSBuZWVkIHRvIGVuc3VyZSB0aGUgY3VycmVudCBlZmZlY3QgYWN0dWFsbHkgZ2V0c1xuXHRcdC8vIHNjaGVkdWxlZC4gaS5lOiBgJGVmZmVjdCgoKSA9PiB4KyspYFxuXHRcdGlmIChcblx0XHRcdGlzX3J1bmVzKCkgJiZcblx0XHRcdGFjdGl2ZV9lZmZlY3QgIT09IG51bGwgJiZcblx0XHRcdChhY3RpdmVfZWZmZWN0LmYgJiBDTEVBTikgIT09IDAgJiZcblx0XHRcdChhY3RpdmVfZWZmZWN0LmYgJiAoQlJBTkNIX0VGRkVDVCB8IFJPT1RfRUZGRUNUKSkgPT09IDBcblx0XHQpIHtcblx0XHRcdGlmICh1bnRyYWNrZWRfd3JpdGVzID09PSBudWxsKSB7XG5cdFx0XHRcdHNldF91bnRyYWNrZWRfd3JpdGVzKFtzb3VyY2VdKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHVudHJhY2tlZF93cml0ZXMucHVzaChzb3VyY2UpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICghYmF0Y2guaXNfZm9yayAmJiBlYWdlcl9lZmZlY3RzLnNpemUgPiAwICYmICFlYWdlcl9lZmZlY3RzX2RlZmVycmVkKSB7XG5cdFx0XHRmbHVzaF9lYWdlcl9lZmZlY3RzKCk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmx1c2hfZWFnZXJfZWZmZWN0cygpIHtcblx0ZWFnZXJfZWZmZWN0c19kZWZlcnJlZCA9IGZhbHNlO1xuXHR2YXIgcHJldl9pc191cGRhdGluZ19lZmZlY3QgPSBpc191cGRhdGluZ19lZmZlY3Q7XG5cdHNldF9pc191cGRhdGluZ19lZmZlY3QodHJ1ZSk7XG5cblx0Y29uc3QgaW5zcGVjdHMgPSBBcnJheS5mcm9tKGVhZ2VyX2VmZmVjdHMpO1xuXG5cdHRyeSB7XG5cdFx0Zm9yIChjb25zdCBlZmZlY3Qgb2YgaW5zcGVjdHMpIHtcblx0XHRcdC8vIE1hcmsgY2xlYW4gaW5zcGVjdC1lZmZlY3RzIGFzIG1heWJlIGRpcnR5IGFuZCB0aGVuIGNoZWNrIHRoZWlyIGRpcnRpbmVzc1xuXHRcdFx0Ly8gaW5zdGVhZCBvZiBqdXN0IHVwZGF0aW5nIHRoZSBlZmZlY3RzIC0gdGhpcyB3YXkgd2UgYXZvaWQgb3ZlcmZpcmluZy5cblx0XHRcdGlmICgoZWZmZWN0LmYgJiBDTEVBTikgIT09IDApIHtcblx0XHRcdFx0c2V0X3NpZ25hbF9zdGF0dXMoZWZmZWN0LCBNQVlCRV9ESVJUWSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpc19kaXJ0eShlZmZlY3QpKSB7XG5cdFx0XHRcdHVwZGF0ZV9lZmZlY3QoZWZmZWN0KTtcblx0XHRcdH1cblx0XHR9XG5cdH0gZmluYWxseSB7XG5cdFx0c2V0X2lzX3VwZGF0aW5nX2VmZmVjdChwcmV2X2lzX3VwZGF0aW5nX2VmZmVjdCk7XG5cdH1cblxuXHRlYWdlcl9lZmZlY3RzLmNsZWFyKCk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtudW1iZXIgfCBiaWdpbnR9IFRcbiAqIEBwYXJhbSB7U291cmNlPFQ+fSBzb3VyY2VcbiAqIEBwYXJhbSB7MSB8IC0xfSBbZF1cbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlKHNvdXJjZSwgZCA9IDEpIHtcblx0dmFyIHZhbHVlID0gZ2V0KHNvdXJjZSk7XG5cdHZhciByZXN1bHQgPSBkID09PSAxID8gdmFsdWUrKyA6IHZhbHVlLS07XG5cblx0c2V0KHNvdXJjZSwgdmFsdWUpO1xuXG5cdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUge251bWJlciB8IGJpZ2ludH0gVFxuICogQHBhcmFtIHtTb3VyY2U8VD59IHNvdXJjZVxuICogQHBhcmFtIHsxIHwgLTF9IFtkXVxuICogQHJldHVybnMge1R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVfcHJlKHNvdXJjZSwgZCA9IDEpIHtcblx0dmFyIHZhbHVlID0gZ2V0KHNvdXJjZSk7XG5cblx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRyZXR1cm4gc2V0KHNvdXJjZSwgZCA9PT0gMSA/ICsrdmFsdWUgOiAtLXZhbHVlKTtcbn1cblxuLyoqXG4gKiBTaWxlbnRseSAod2l0aG91dCB1c2luZyBgZ2V0YCkgaW5jcmVtZW50IGEgc291cmNlXG4gKiBAcGFyYW0ge1NvdXJjZTxudW1iZXI+fSBzb3VyY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluY3JlbWVudChzb3VyY2UpIHtcblx0c2V0KHNvdXJjZSwgc291cmNlLnYgKyAxKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1ZhbHVlfSBzaWduYWxcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGF0dXMgc2hvdWxkIGJlIERJUlRZIG9yIE1BWUJFX0RJUlRZXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gbWFya19yZWFjdGlvbnMoc2lnbmFsLCBzdGF0dXMpIHtcblx0dmFyIHJlYWN0aW9ucyA9IHNpZ25hbC5yZWFjdGlvbnM7XG5cdGlmIChyZWFjdGlvbnMgPT09IG51bGwpIHJldHVybjtcblxuXHR2YXIgcnVuZXMgPSBpc19ydW5lcygpO1xuXHR2YXIgbGVuZ3RoID0gcmVhY3Rpb25zLmxlbmd0aDtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIHJlYWN0aW9uID0gcmVhY3Rpb25zW2ldO1xuXHRcdHZhciBmbGFncyA9IHJlYWN0aW9uLmY7XG5cblx0XHQvLyBJbiBsZWdhY3kgbW9kZSwgc2tpcCB0aGUgY3VycmVudCBlZmZlY3QgdG8gcHJldmVudCBpbmZpbml0ZSBsb29wc1xuXHRcdGlmICghcnVuZXMgJiYgcmVhY3Rpb24gPT09IGFjdGl2ZV9lZmZlY3QpIGNvbnRpbnVlO1xuXG5cdFx0Ly8gSW5zcGVjdCBlZmZlY3RzIG5lZWQgdG8gcnVuIGltbWVkaWF0ZWx5LCBzbyB0aGF0IHRoZSBzdGFjayB0cmFjZSBtYWtlcyBzZW5zZVxuXHRcdGlmIChERVYgJiYgKGZsYWdzICYgRUFHRVJfRUZGRUNUKSAhPT0gMCkge1xuXHRcdFx0ZWFnZXJfZWZmZWN0cy5hZGQocmVhY3Rpb24pO1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0dmFyIG5vdF9kaXJ0eSA9IChmbGFncyAmIERJUlRZKSA9PT0gMDtcblxuXHRcdC8vIGRvbid0IHNldCBhIERJUlRZIHJlYWN0aW9uIHRvIE1BWUJFX0RJUlRZXG5cdFx0aWYgKG5vdF9kaXJ0eSkge1xuXHRcdFx0c2V0X3NpZ25hbF9zdGF0dXMocmVhY3Rpb24sIHN0YXR1cyk7XG5cdFx0fVxuXG5cdFx0aWYgKChmbGFncyAmIERFUklWRUQpICE9PSAwKSB7XG5cdFx0XHR2YXIgZGVyaXZlZCA9IC8qKiBAdHlwZSB7RGVyaXZlZH0gKi8gKHJlYWN0aW9uKTtcblxuXHRcdFx0YmF0Y2hfdmFsdWVzPy5kZWxldGUoZGVyaXZlZCk7XG5cblx0XHRcdGlmICgoZmxhZ3MgJiBXQVNfTUFSS0VEKSA9PT0gMCkge1xuXHRcdFx0XHQvLyBPbmx5IGNvbm5lY3RlZCBkZXJpdmVkcyBjYW4gYmUgcmVsaWFibHkgdW5tYXJrZWQgcmlnaHQgYXdheVxuXHRcdFx0XHRpZiAoZmxhZ3MgJiBDT05ORUNURUQpIHtcblx0XHRcdFx0XHRyZWFjdGlvbi5mIHw9IFdBU19NQVJLRUQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRtYXJrX3JlYWN0aW9ucyhkZXJpdmVkLCBNQVlCRV9ESVJUWSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChub3RfZGlydHkpIHtcblx0XHRcdGlmICgoZmxhZ3MgJiBCTE9DS19FRkZFQ1QpICE9PSAwICYmIGVhZ2VyX2Jsb2NrX2VmZmVjdHMgIT09IG51bGwpIHtcblx0XHRcdFx0ZWFnZXJfYmxvY2tfZWZmZWN0cy5hZGQoLyoqIEB0eXBlIHtFZmZlY3R9ICovIChyZWFjdGlvbikpO1xuXHRcdFx0fVxuXG5cdFx0XHRzY2hlZHVsZV9lZmZlY3QoLyoqIEB0eXBlIHtFZmZlY3R9ICovIChyZWFjdGlvbikpO1xuXHRcdH1cblx0fVxufVxuIiwiaW1wb3J0IHsgdGVhcmRvd24gfSBmcm9tICcuLi8uLi8uLi9yZWFjdGl2aXR5L2VmZmVjdHMuanMnO1xuaW1wb3J0IHtcblx0YWN0aXZlX2VmZmVjdCxcblx0YWN0aXZlX3JlYWN0aW9uLFxuXHRzZXRfYWN0aXZlX2VmZmVjdCxcblx0c2V0X2FjdGl2ZV9yZWFjdGlvblxufSBmcm9tICcuLi8uLi8uLi9ydW50aW1lLmpzJztcbmltcG9ydCB7IGFkZF9mb3JtX3Jlc2V0X2xpc3RlbmVyIH0gZnJvbSAnLi4vbWlzYy5qcyc7XG5cbi8qKlxuICogRmlyZXMgdGhlIGhhbmRsZXIgb25jZSBpbW1lZGlhdGVseSAodW5sZXNzIGNvcnJlc3BvbmRpbmcgYXJnIGlzIHNldCB0byBgZmFsc2VgKSxcbiAqIHRoZW4gbGlzdGVucyB0byB0aGUgZ2l2ZW4gZXZlbnRzIHVudGlsIHRoZSByZW5kZXIgZWZmZWN0IGNvbnRleHQgaXMgZGVzdHJveWVkXG4gKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSB0YXJnZXRcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gZXZlbnRzXG4gKiBAcGFyYW0geyhldmVudD86IEV2ZW50KSA9PiB2b2lkfSBoYW5kbGVyXG4gKiBAcGFyYW0ge2FueX0gY2FsbF9oYW5kbGVyX2ltbWVkaWF0ZWx5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaXN0ZW4odGFyZ2V0LCBldmVudHMsIGhhbmRsZXIsIGNhbGxfaGFuZGxlcl9pbW1lZGlhdGVseSA9IHRydWUpIHtcblx0aWYgKGNhbGxfaGFuZGxlcl9pbW1lZGlhdGVseSkge1xuXHRcdGhhbmRsZXIoKTtcblx0fVxuXG5cdGZvciAodmFyIG5hbWUgb2YgZXZlbnRzKSB7XG5cdFx0dGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgaGFuZGxlcik7XG5cdH1cblxuXHR0ZWFyZG93bigoKSA9PiB7XG5cdFx0Zm9yICh2YXIgbmFtZSBvZiBldmVudHMpIHtcblx0XHRcdHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIGhhbmRsZXIpO1xuXHRcdH1cblx0fSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7KCkgPT4gVH0gZm5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdpdGhvdXRfcmVhY3RpdmVfY29udGV4dChmbikge1xuXHR2YXIgcHJldmlvdXNfcmVhY3Rpb24gPSBhY3RpdmVfcmVhY3Rpb247XG5cdHZhciBwcmV2aW91c19lZmZlY3QgPSBhY3RpdmVfZWZmZWN0O1xuXHRzZXRfYWN0aXZlX3JlYWN0aW9uKG51bGwpO1xuXHRzZXRfYWN0aXZlX2VmZmVjdChudWxsKTtcblx0dHJ5IHtcblx0XHRyZXR1cm4gZm4oKTtcblx0fSBmaW5hbGx5IHtcblx0XHRzZXRfYWN0aXZlX3JlYWN0aW9uKHByZXZpb3VzX3JlYWN0aW9uKTtcblx0XHRzZXRfYWN0aXZlX2VmZmVjdChwcmV2aW91c19lZmZlY3QpO1xuXHR9XG59XG5cbi8qKlxuICogTGlzdGVuIHRvIHRoZSBnaXZlbiBldmVudCwgYW5kIHRoZW4gaW5zdGFudGlhdGUgYSBnbG9iYWwgZm9ybSByZXNldCBsaXN0ZW5lciBpZiBub3QgYWxyZWFkeSBkb25lLFxuICogdG8gbm90aWZ5IGFsbCBiaW5kaW5ncyB3aGVuIHRoZSBmb3JtIGlzIHJlc2V0XG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRcbiAqIEBwYXJhbSB7KGlzX3Jlc2V0PzogdHJ1ZSkgPT4gdm9pZH0gaGFuZGxlclxuICogQHBhcmFtIHsoaXNfcmVzZXQ/OiB0cnVlKSA9PiB2b2lkfSBbb25fcmVzZXRdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaXN0ZW5fdG9fZXZlbnRfYW5kX3Jlc2V0X2V2ZW50KGVsZW1lbnQsIGV2ZW50LCBoYW5kbGVyLCBvbl9yZXNldCA9IGhhbmRsZXIpIHtcblx0ZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCAoKSA9PiB3aXRob3V0X3JlYWN0aXZlX2NvbnRleHQoaGFuZGxlcikpO1xuXHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdGNvbnN0IHByZXYgPSBlbGVtZW50Ll9fb25fcjtcblx0aWYgKHByZXYpIHtcblx0XHQvLyBzcGVjaWFsIGNhc2UgZm9yIGNoZWNrYm94IHRoYXQgY2FuIGhhdmUgbXVsdGlwbGUgYmluZHMgKGdyb3VwICYgY2hlY2tlZClcblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0ZWxlbWVudC5fX29uX3IgPSAoKSA9PiB7XG5cdFx0XHRwcmV2KCk7XG5cdFx0XHRvbl9yZXNldCh0cnVlKTtcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRlbGVtZW50Ll9fb25fciA9ICgpID0+IG9uX3Jlc2V0KHRydWUpO1xuXHR9XG5cblx0YWRkX2Zvcm1fcmVzZXRfbGlzdGVuZXIoKTtcbn1cbiIsIi8qKiBAaW1wb3J0IHsgRGVyaXZlZCwgRWZmZWN0LCBSZWFjdGlvbiwgU2lnbmFsLCBTb3VyY2UsIFZhbHVlIH0gZnJvbSAnI2NsaWVudCcgKi9cbmltcG9ydCB7IERFViB9IGZyb20gJ2VzbS1lbnYnO1xuaW1wb3J0IHsgZ2V0X2Rlc2NyaXB0b3JzLCBnZXRfcHJvdG90eXBlX29mLCBpbmRleF9vZiB9IGZyb20gJy4uL3NoYXJlZC91dGlscy5qcyc7XG5pbXBvcnQge1xuXHRkZXN0cm95X2Jsb2NrX2VmZmVjdF9jaGlsZHJlbixcblx0ZGVzdHJveV9lZmZlY3RfY2hpbGRyZW4sXG5cdGVmZmVjdF90cmFja2luZyxcblx0ZXhlY3V0ZV9lZmZlY3RfdGVhcmRvd25cbn0gZnJvbSAnLi9yZWFjdGl2aXR5L2VmZmVjdHMuanMnO1xuaW1wb3J0IHtcblx0RElSVFksXG5cdE1BWUJFX0RJUlRZLFxuXHRDTEVBTixcblx0REVSSVZFRCxcblx0REVTVFJPWUVELFxuXHRCUkFOQ0hfRUZGRUNULFxuXHRTVEFURV9TWU1CT0wsXG5cdEJMT0NLX0VGRkVDVCxcblx0Uk9PVF9FRkZFQ1QsXG5cdENPTk5FQ1RFRCxcblx0UkVBQ1RJT05fSVNfVVBEQVRJTkcsXG5cdFNUQUxFX1JFQUNUSU9OLFxuXHRFUlJPUl9WQUxVRSxcblx0V0FTX01BUktFRCxcblx0TUFOQUdFRF9FRkZFQ1Rcbn0gZnJvbSAnLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgb2xkX3ZhbHVlcyB9IGZyb20gJy4vcmVhY3Rpdml0eS9zb3VyY2VzLmpzJztcbmltcG9ydCB7XG5cdGRlc3Ryb3lfZGVyaXZlZF9lZmZlY3RzLFxuXHRleGVjdXRlX2Rlcml2ZWQsXG5cdGN1cnJlbnRfYXN5bmNfZWZmZWN0LFxuXHRyZWNlbnRfYXN5bmNfZGVyaXZlZHMsXG5cdHVwZGF0ZV9kZXJpdmVkXG59IGZyb20gJy4vcmVhY3Rpdml0eS9kZXJpdmVkcy5qcyc7XG5pbXBvcnQgeyBhc3luY19tb2RlX2ZsYWcsIHRyYWNpbmdfbW9kZV9mbGFnIH0gZnJvbSAnLi4vZmxhZ3MvaW5kZXguanMnO1xuaW1wb3J0IHsgdHJhY2luZ19leHByZXNzaW9ucyB9IGZyb20gJy4vZGV2L3RyYWNpbmcuanMnO1xuaW1wb3J0IHsgZ2V0X2Vycm9yIH0gZnJvbSAnLi4vc2hhcmVkL2Rldi5qcyc7XG5pbXBvcnQge1xuXHRjb21wb25lbnRfY29udGV4dCxcblx0ZGV2X2N1cnJlbnRfY29tcG9uZW50X2Z1bmN0aW9uLFxuXHRkZXZfc3RhY2ssXG5cdGlzX3J1bmVzLFxuXHRzZXRfY29tcG9uZW50X2NvbnRleHQsXG5cdHNldF9kZXZfY3VycmVudF9jb21wb25lbnRfZnVuY3Rpb24sXG5cdHNldF9kZXZfc3RhY2tcbn0gZnJvbSAnLi9jb250ZXh0LmpzJztcbmltcG9ydCAqIGFzIHcgZnJvbSAnLi93YXJuaW5ncy5qcyc7XG5pbXBvcnQge1xuXHRCYXRjaCxcblx0YmF0Y2hfdmFsdWVzLFxuXHRjdXJyZW50X2JhdGNoLFxuXHRmbHVzaFN5bmMsXG5cdHNjaGVkdWxlX2VmZmVjdFxufSBmcm9tICcuL3JlYWN0aXZpdHkvYmF0Y2guanMnO1xuaW1wb3J0IHsgaGFuZGxlX2Vycm9yIH0gZnJvbSAnLi9lcnJvci1oYW5kbGluZy5qcyc7XG5pbXBvcnQgeyBVTklOSVRJQUxJWkVEIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IGNhcHR1cmVkX3NpZ25hbHMgfSBmcm9tICcuL2xlZ2FjeS5qcyc7XG5pbXBvcnQgeyB3aXRob3V0X3JlYWN0aXZlX2NvbnRleHQgfSBmcm9tICcuL2RvbS9lbGVtZW50cy9iaW5kaW5ncy9zaGFyZWQuanMnO1xuXG5leHBvcnQgbGV0IGlzX3VwZGF0aW5nX2VmZmVjdCA9IGZhbHNlO1xuXG4vKiogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9pc191cGRhdGluZ19lZmZlY3QodmFsdWUpIHtcblx0aXNfdXBkYXRpbmdfZWZmZWN0ID0gdmFsdWU7XG59XG5cbmV4cG9ydCBsZXQgaXNfZGVzdHJveWluZ19lZmZlY3QgPSBmYWxzZTtcblxuLyoqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfaXNfZGVzdHJveWluZ19lZmZlY3QodmFsdWUpIHtcblx0aXNfZGVzdHJveWluZ19lZmZlY3QgPSB2YWx1ZTtcbn1cblxuLyoqIEB0eXBlIHtudWxsIHwgUmVhY3Rpb259ICovXG5leHBvcnQgbGV0IGFjdGl2ZV9yZWFjdGlvbiA9IG51bGw7XG5cbmV4cG9ydCBsZXQgdW50cmFja2luZyA9IGZhbHNlO1xuXG4vKiogQHBhcmFtIHtudWxsIHwgUmVhY3Rpb259IHJlYWN0aW9uICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2FjdGl2ZV9yZWFjdGlvbihyZWFjdGlvbikge1xuXHRhY3RpdmVfcmVhY3Rpb24gPSByZWFjdGlvbjtcbn1cblxuLyoqIEB0eXBlIHtudWxsIHwgRWZmZWN0fSAqL1xuZXhwb3J0IGxldCBhY3RpdmVfZWZmZWN0ID0gbnVsbDtcblxuLyoqIEBwYXJhbSB7bnVsbCB8IEVmZmVjdH0gZWZmZWN0ICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2FjdGl2ZV9lZmZlY3QoZWZmZWN0KSB7XG5cdGFjdGl2ZV9lZmZlY3QgPSBlZmZlY3Q7XG59XG5cbi8qKlxuICogV2hlbiBzb3VyY2VzIGFyZSBjcmVhdGVkIHdpdGhpbiBhIHJlYWN0aW9uLCByZWFkaW5nIGFuZCB3cml0aW5nXG4gKiB0aGVtIHdpdGhpbiB0aGF0IHJlYWN0aW9uIHNob3VsZCBub3QgY2F1c2UgYSByZS1ydW5cbiAqIEB0eXBlIHtudWxsIHwgU291cmNlW119XG4gKi9cbmV4cG9ydCBsZXQgY3VycmVudF9zb3VyY2VzID0gbnVsbDtcblxuLyoqIEBwYXJhbSB7VmFsdWV9IHZhbHVlICovXG5leHBvcnQgZnVuY3Rpb24gcHVzaF9yZWFjdGlvbl92YWx1ZSh2YWx1ZSkge1xuXHRpZiAoYWN0aXZlX3JlYWN0aW9uICE9PSBudWxsICYmICghYXN5bmNfbW9kZV9mbGFnIHx8IChhY3RpdmVfcmVhY3Rpb24uZiAmIERFUklWRUQpICE9PSAwKSkge1xuXHRcdGlmIChjdXJyZW50X3NvdXJjZXMgPT09IG51bGwpIHtcblx0XHRcdGN1cnJlbnRfc291cmNlcyA9IFt2YWx1ZV07XG5cdFx0fSBlbHNlIHtcblx0XHRcdGN1cnJlbnRfc291cmNlcy5wdXNoKHZhbHVlKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBUaGUgZGVwZW5kZW5jaWVzIG9mIHRoZSByZWFjdGlvbiB0aGF0IGlzIGN1cnJlbnRseSBiZWluZyBleGVjdXRlZC4gSW4gbWFueSBjYXNlcyxcbiAqIHRoZSBkZXBlbmRlbmNpZXMgYXJlIHVuY2hhbmdlZCBiZXR3ZWVuIHJ1bnMsIGFuZCBzbyB0aGlzIHdpbGwgYmUgYG51bGxgIHVubGVzc1xuICogYW5kIHVudGlsIGEgbmV3IGRlcGVuZGVuY3kgaXMgYWNjZXNzZWQg4oCUIHdlIHRyYWNrIHRoaXMgdmlhIGBza2lwcGVkX2RlcHNgXG4gKiBAdHlwZSB7bnVsbCB8IFZhbHVlW119XG4gKi9cbmxldCBuZXdfZGVwcyA9IG51bGw7XG5cbmxldCBza2lwcGVkX2RlcHMgPSAwO1xuXG4vKipcbiAqIFRyYWNrcyB3cml0ZXMgdGhhdCB0aGUgZWZmZWN0IGl0J3MgZXhlY3V0ZWQgaW4gZG9lc24ndCBsaXN0ZW4gdG8geWV0LFxuICogc28gdGhhdCB0aGUgZGVwZW5kZW5jeSBjYW4gYmUgYWRkZWQgdG8gdGhlIGVmZmVjdCBsYXRlciBvbiBpZiBpdCB0aGVuIHJlYWRzIGl0XG4gKiBAdHlwZSB7bnVsbCB8IFNvdXJjZVtdfVxuICovXG5leHBvcnQgbGV0IHVudHJhY2tlZF93cml0ZXMgPSBudWxsO1xuXG4vKiogQHBhcmFtIHtudWxsIHwgU291cmNlW119IHZhbHVlICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X3VudHJhY2tlZF93cml0ZXModmFsdWUpIHtcblx0dW50cmFja2VkX3dyaXRlcyA9IHZhbHVlO1xufVxuXG4vKipcbiAqIEB0eXBlIHtudW1iZXJ9IFVzZWQgYnkgc291cmNlcyBhbmQgZGVyaXZlZHMgZm9yIGhhbmRsaW5nIHVwZGF0ZXMuXG4gKiBWZXJzaW9uIHN0YXJ0cyBmcm9tIDEgc28gdGhhdCB1bm93bmVkIGRlcml2ZWRzIGRpZmZlcmVudGlhdGUgYmV0d2VlbiBhIGNyZWF0ZWQgZWZmZWN0IGFuZCBhIHJ1biBvbmUgZm9yIHRyYWNpbmdcbiAqKi9cbmV4cG9ydCBsZXQgd3JpdGVfdmVyc2lvbiA9IDE7XG5cbi8qKiBAdHlwZSB7bnVtYmVyfSBVc2VkIHRvIHZlcnNpb24gZWFjaCByZWFkIG9mIGEgc291cmNlIG9mIGRlcml2ZWQgdG8gYXZvaWQgZHVwbGljYXRpbmcgZGVwZWRlbmNpZXMgaW5zaWRlIGEgcmVhY3Rpb24gKi9cbmxldCByZWFkX3ZlcnNpb24gPSAwO1xuXG5leHBvcnQgbGV0IHVwZGF0ZV92ZXJzaW9uID0gcmVhZF92ZXJzaW9uO1xuXG4vKiogQHBhcmFtIHtudW1iZXJ9IHZhbHVlICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X3VwZGF0ZV92ZXJzaW9uKHZhbHVlKSB7XG5cdHVwZGF0ZV92ZXJzaW9uID0gdmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbmNyZW1lbnRfd3JpdGVfdmVyc2lvbigpIHtcblx0cmV0dXJuICsrd3JpdGVfdmVyc2lvbjtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgYSBkZXJpdmVkIG9yIGVmZmVjdCBpcyBkaXJ0eS5cbiAqIElmIGl0IGlzIE1BWUJFX0RJUlRZLCB3aWxsIHNldCB0aGUgc3RhdHVzIHRvIENMRUFOXG4gKiBAcGFyYW0ge1JlYWN0aW9ufSByZWFjdGlvblxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19kaXJ0eShyZWFjdGlvbikge1xuXHR2YXIgZmxhZ3MgPSByZWFjdGlvbi5mO1xuXG5cdGlmICgoZmxhZ3MgJiBESVJUWSkgIT09IDApIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGlmIChmbGFncyAmIERFUklWRUQpIHtcblx0XHRyZWFjdGlvbi5mICY9IH5XQVNfTUFSS0VEO1xuXHR9XG5cblx0aWYgKChmbGFncyAmIE1BWUJFX0RJUlRZKSAhPT0gMCkge1xuXHRcdHZhciBkZXBlbmRlbmNpZXMgPSByZWFjdGlvbi5kZXBzO1xuXG5cdFx0aWYgKGRlcGVuZGVuY2llcyAhPT0gbnVsbCkge1xuXHRcdFx0dmFyIGxlbmd0aCA9IGRlcGVuZGVuY2llcy5sZW5ndGg7XG5cblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0dmFyIGRlcGVuZGVuY3kgPSBkZXBlbmRlbmNpZXNbaV07XG5cblx0XHRcdFx0aWYgKGlzX2RpcnR5KC8qKiBAdHlwZSB7RGVyaXZlZH0gKi8gKGRlcGVuZGVuY3kpKSkge1xuXHRcdFx0XHRcdHVwZGF0ZV9kZXJpdmVkKC8qKiBAdHlwZSB7RGVyaXZlZH0gKi8gKGRlcGVuZGVuY3kpKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChkZXBlbmRlbmN5Lnd2ID4gcmVhY3Rpb24ud3YpIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChcblx0XHRcdChmbGFncyAmIENPTk5FQ1RFRCkgIT09IDAgJiZcblx0XHRcdC8vIER1cmluZyB0aW1lIHRyYXZlbGluZyB3ZSBkb24ndCB3YW50IHRvIHJlc2V0IHRoZSBzdGF0dXMgc28gdGhhdFxuXHRcdFx0Ly8gdHJhdmVyc2FsIG9mIHRoZSBncmFwaCBpbiB0aGUgb3RoZXIgYmF0Y2hlcyBzdGlsbCBoYXBwZW5zXG5cdFx0XHRiYXRjaF92YWx1ZXMgPT09IG51bGxcblx0XHQpIHtcblx0XHRcdHNldF9zaWduYWxfc3RhdHVzKHJlYWN0aW9uLCBDTEVBTik7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7VmFsdWV9IHNpZ25hbFxuICogQHBhcmFtIHtFZmZlY3R9IGVmZmVjdFxuICogQHBhcmFtIHtib29sZWFufSBbcm9vdF1cbiAqL1xuZnVuY3Rpb24gc2NoZWR1bGVfcG9zc2libGVfZWZmZWN0X3NlbGZfaW52YWxpZGF0aW9uKHNpZ25hbCwgZWZmZWN0LCByb290ID0gdHJ1ZSkge1xuXHR2YXIgcmVhY3Rpb25zID0gc2lnbmFsLnJlYWN0aW9ucztcblx0aWYgKHJlYWN0aW9ucyA9PT0gbnVsbCkgcmV0dXJuO1xuXG5cdGlmICghYXN5bmNfbW9kZV9mbGFnICYmIGN1cnJlbnRfc291cmNlcz8uaW5jbHVkZXMoc2lnbmFsKSkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgcmVhY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIHJlYWN0aW9uID0gcmVhY3Rpb25zW2ldO1xuXG5cdFx0aWYgKChyZWFjdGlvbi5mICYgREVSSVZFRCkgIT09IDApIHtcblx0XHRcdHNjaGVkdWxlX3Bvc3NpYmxlX2VmZmVjdF9zZWxmX2ludmFsaWRhdGlvbigvKiogQHR5cGUge0Rlcml2ZWR9ICovIChyZWFjdGlvbiksIGVmZmVjdCwgZmFsc2UpO1xuXHRcdH0gZWxzZSBpZiAoZWZmZWN0ID09PSByZWFjdGlvbikge1xuXHRcdFx0aWYgKHJvb3QpIHtcblx0XHRcdFx0c2V0X3NpZ25hbF9zdGF0dXMocmVhY3Rpb24sIERJUlRZKTtcblx0XHRcdH0gZWxzZSBpZiAoKHJlYWN0aW9uLmYgJiBDTEVBTikgIT09IDApIHtcblx0XHRcdFx0c2V0X3NpZ25hbF9zdGF0dXMocmVhY3Rpb24sIE1BWUJFX0RJUlRZKTtcblx0XHRcdH1cblx0XHRcdHNjaGVkdWxlX2VmZmVjdCgvKiogQHR5cGUge0VmZmVjdH0gKi8gKHJlYWN0aW9uKSk7XG5cdFx0fVxuXHR9XG59XG5cbi8qKiBAcGFyYW0ge1JlYWN0aW9ufSByZWFjdGlvbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZV9yZWFjdGlvbihyZWFjdGlvbikge1xuXHR2YXIgcHJldmlvdXNfZGVwcyA9IG5ld19kZXBzO1xuXHR2YXIgcHJldmlvdXNfc2tpcHBlZF9kZXBzID0gc2tpcHBlZF9kZXBzO1xuXHR2YXIgcHJldmlvdXNfdW50cmFja2VkX3dyaXRlcyA9IHVudHJhY2tlZF93cml0ZXM7XG5cdHZhciBwcmV2aW91c19yZWFjdGlvbiA9IGFjdGl2ZV9yZWFjdGlvbjtcblx0dmFyIHByZXZpb3VzX3NvdXJjZXMgPSBjdXJyZW50X3NvdXJjZXM7XG5cdHZhciBwcmV2aW91c19jb21wb25lbnRfY29udGV4dCA9IGNvbXBvbmVudF9jb250ZXh0O1xuXHR2YXIgcHJldmlvdXNfdW50cmFja2luZyA9IHVudHJhY2tpbmc7XG5cdHZhciBwcmV2aW91c191cGRhdGVfdmVyc2lvbiA9IHVwZGF0ZV92ZXJzaW9uO1xuXG5cdHZhciBmbGFncyA9IHJlYWN0aW9uLmY7XG5cblx0bmV3X2RlcHMgPSAvKiogQHR5cGUge251bGwgfCBWYWx1ZVtdfSAqLyAobnVsbCk7XG5cdHNraXBwZWRfZGVwcyA9IDA7XG5cdHVudHJhY2tlZF93cml0ZXMgPSBudWxsO1xuXHRhY3RpdmVfcmVhY3Rpb24gPSAoZmxhZ3MgJiAoQlJBTkNIX0VGRkVDVCB8IFJPT1RfRUZGRUNUKSkgPT09IDAgPyByZWFjdGlvbiA6IG51bGw7XG5cblx0Y3VycmVudF9zb3VyY2VzID0gbnVsbDtcblx0c2V0X2NvbXBvbmVudF9jb250ZXh0KHJlYWN0aW9uLmN0eCk7XG5cdHVudHJhY2tpbmcgPSBmYWxzZTtcblx0dXBkYXRlX3ZlcnNpb24gPSArK3JlYWRfdmVyc2lvbjtcblxuXHRpZiAocmVhY3Rpb24uYWMgIT09IG51bGwpIHtcblx0XHR3aXRob3V0X3JlYWN0aXZlX2NvbnRleHQoKCkgPT4ge1xuXHRcdFx0LyoqIEB0eXBlIHtBYm9ydENvbnRyb2xsZXJ9ICovIChyZWFjdGlvbi5hYykuYWJvcnQoU1RBTEVfUkVBQ1RJT04pO1xuXHRcdH0pO1xuXG5cdFx0cmVhY3Rpb24uYWMgPSBudWxsO1xuXHR9XG5cblx0dHJ5IHtcblx0XHRyZWFjdGlvbi5mIHw9IFJFQUNUSU9OX0lTX1VQREFUSU5HO1xuXHRcdHZhciBmbiA9IC8qKiBAdHlwZSB7RnVuY3Rpb259ICovIChyZWFjdGlvbi5mbik7XG5cdFx0dmFyIHJlc3VsdCA9IGZuKCk7XG5cdFx0dmFyIGRlcHMgPSByZWFjdGlvbi5kZXBzO1xuXG5cdFx0aWYgKG5ld19kZXBzICE9PSBudWxsKSB7XG5cdFx0XHR2YXIgaTtcblxuXHRcdFx0cmVtb3ZlX3JlYWN0aW9ucyhyZWFjdGlvbiwgc2tpcHBlZF9kZXBzKTtcblxuXHRcdFx0aWYgKGRlcHMgIT09IG51bGwgJiYgc2tpcHBlZF9kZXBzID4gMCkge1xuXHRcdFx0XHRkZXBzLmxlbmd0aCA9IHNraXBwZWRfZGVwcyArIG5ld19kZXBzLmxlbmd0aDtcblx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IG5ld19kZXBzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0ZGVwc1tza2lwcGVkX2RlcHMgKyBpXSA9IG5ld19kZXBzW2ldO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZWFjdGlvbi5kZXBzID0gZGVwcyA9IG5ld19kZXBzO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZWZmZWN0X3RyYWNraW5nKCkgJiYgKHJlYWN0aW9uLmYgJiBDT05ORUNURUQpICE9PSAwKSB7XG5cdFx0XHRcdGZvciAoaSA9IHNraXBwZWRfZGVwczsgaSA8IGRlcHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHQoZGVwc1tpXS5yZWFjdGlvbnMgPz89IFtdKS5wdXNoKHJlYWN0aW9uKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoZGVwcyAhPT0gbnVsbCAmJiBza2lwcGVkX2RlcHMgPCBkZXBzLmxlbmd0aCkge1xuXHRcdFx0cmVtb3ZlX3JlYWN0aW9ucyhyZWFjdGlvbiwgc2tpcHBlZF9kZXBzKTtcblx0XHRcdGRlcHMubGVuZ3RoID0gc2tpcHBlZF9kZXBzO1xuXHRcdH1cblxuXHRcdC8vIElmIHdlJ3JlIGluc2lkZSBhbiBlZmZlY3QgYW5kIHdlIGhhdmUgdW50cmFja2VkIHdyaXRlcywgdGhlbiB3ZSBuZWVkIHRvXG5cdFx0Ly8gZW5zdXJlIHRoYXQgaWYgYW55IG9mIHRob3NlIHVudHJhY2tlZCB3cml0ZXMgcmVzdWx0IGluIHJlLWludmFsaWRhdGlvblxuXHRcdC8vIG9mIHRoZSBjdXJyZW50IGVmZmVjdCwgdGhlbiB0aGF0IGhhcHBlbnMgYWNjb3JkaW5nbHlcblx0XHRpZiAoXG5cdFx0XHRpc19ydW5lcygpICYmXG5cdFx0XHR1bnRyYWNrZWRfd3JpdGVzICE9PSBudWxsICYmXG5cdFx0XHQhdW50cmFja2luZyAmJlxuXHRcdFx0ZGVwcyAhPT0gbnVsbCAmJlxuXHRcdFx0KHJlYWN0aW9uLmYgJiAoREVSSVZFRCB8IE1BWUJFX0RJUlRZIHwgRElSVFkpKSA9PT0gMFxuXHRcdCkge1xuXHRcdFx0Zm9yIChpID0gMDsgaSA8IC8qKiBAdHlwZSB7U291cmNlW119ICovICh1bnRyYWNrZWRfd3JpdGVzKS5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRzY2hlZHVsZV9wb3NzaWJsZV9lZmZlY3Rfc2VsZl9pbnZhbGlkYXRpb24oXG5cdFx0XHRcdFx0dW50cmFja2VkX3dyaXRlc1tpXSxcblx0XHRcdFx0XHQvKiogQHR5cGUge0VmZmVjdH0gKi8gKHJlYWN0aW9uKVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIElmIHdlIGFyZSByZXR1cm5pbmcgdG8gYW4gcHJldmlvdXMgcmVhY3Rpb24gdGhlblxuXHRcdC8vIHdlIG5lZWQgdG8gaW5jcmVtZW50IHRoZSByZWFkIHZlcnNpb24gdG8gZW5zdXJlIHRoYXRcblx0XHQvLyBhbnkgZGVwZW5kZW5jaWVzIGluIHRoaXMgcmVhY3Rpb24gYXJlbid0IG1hcmtlZCB3aXRoXG5cdFx0Ly8gdGhlIHNhbWUgdmVyc2lvblxuXHRcdGlmIChwcmV2aW91c19yZWFjdGlvbiAhPT0gbnVsbCAmJiBwcmV2aW91c19yZWFjdGlvbiAhPT0gcmVhY3Rpb24pIHtcblx0XHRcdHJlYWRfdmVyc2lvbisrO1xuXG5cdFx0XHRpZiAodW50cmFja2VkX3dyaXRlcyAhPT0gbnVsbCkge1xuXHRcdFx0XHRpZiAocHJldmlvdXNfdW50cmFja2VkX3dyaXRlcyA9PT0gbnVsbCkge1xuXHRcdFx0XHRcdHByZXZpb3VzX3VudHJhY2tlZF93cml0ZXMgPSB1bnRyYWNrZWRfd3JpdGVzO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHByZXZpb3VzX3VudHJhY2tlZF93cml0ZXMucHVzaCguLi4vKiogQHR5cGUge1NvdXJjZVtdfSAqLyAodW50cmFja2VkX3dyaXRlcykpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKChyZWFjdGlvbi5mICYgRVJST1JfVkFMVUUpICE9PSAwKSB7XG5cdFx0XHRyZWFjdGlvbi5mIF49IEVSUk9SX1ZBTFVFO1xuXHRcdH1cblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIGhhbmRsZV9lcnJvcihlcnJvcik7XG5cdH0gZmluYWxseSB7XG5cdFx0cmVhY3Rpb24uZiBePSBSRUFDVElPTl9JU19VUERBVElORztcblx0XHRuZXdfZGVwcyA9IHByZXZpb3VzX2RlcHM7XG5cdFx0c2tpcHBlZF9kZXBzID0gcHJldmlvdXNfc2tpcHBlZF9kZXBzO1xuXHRcdHVudHJhY2tlZF93cml0ZXMgPSBwcmV2aW91c191bnRyYWNrZWRfd3JpdGVzO1xuXHRcdGFjdGl2ZV9yZWFjdGlvbiA9IHByZXZpb3VzX3JlYWN0aW9uO1xuXHRcdGN1cnJlbnRfc291cmNlcyA9IHByZXZpb3VzX3NvdXJjZXM7XG5cdFx0c2V0X2NvbXBvbmVudF9jb250ZXh0KHByZXZpb3VzX2NvbXBvbmVudF9jb250ZXh0KTtcblx0XHR1bnRyYWNraW5nID0gcHJldmlvdXNfdW50cmFja2luZztcblx0XHR1cGRhdGVfdmVyc2lvbiA9IHByZXZpb3VzX3VwZGF0ZV92ZXJzaW9uO1xuXHR9XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFZcbiAqIEBwYXJhbSB7UmVhY3Rpb259IHNpZ25hbFxuICogQHBhcmFtIHtWYWx1ZTxWPn0gZGVwZW5kZW5jeVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIHJlbW92ZV9yZWFjdGlvbihzaWduYWwsIGRlcGVuZGVuY3kpIHtcblx0bGV0IHJlYWN0aW9ucyA9IGRlcGVuZGVuY3kucmVhY3Rpb25zO1xuXHRpZiAocmVhY3Rpb25zICE9PSBudWxsKSB7XG5cdFx0dmFyIGluZGV4ID0gaW5kZXhfb2YuY2FsbChyZWFjdGlvbnMsIHNpZ25hbCk7XG5cdFx0aWYgKGluZGV4ICE9PSAtMSkge1xuXHRcdFx0dmFyIG5ld19sZW5ndGggPSByZWFjdGlvbnMubGVuZ3RoIC0gMTtcblx0XHRcdGlmIChuZXdfbGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdHJlYWN0aW9ucyA9IGRlcGVuZGVuY3kucmVhY3Rpb25zID0gbnVsbDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIFN3YXAgd2l0aCBsYXN0IGVsZW1lbnQgYW5kIHRoZW4gcmVtb3ZlLlxuXHRcdFx0XHRyZWFjdGlvbnNbaW5kZXhdID0gcmVhY3Rpb25zW25ld19sZW5ndGhdO1xuXHRcdFx0XHRyZWFjdGlvbnMucG9wKCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gSWYgdGhlIGRlcml2ZWQgaGFzIG5vIHJlYWN0aW9ucywgdGhlbiB3ZSBjYW4gZGlzY29ubmVjdCBpdCBmcm9tIHRoZSBncmFwaCxcblx0Ly8gYWxsb3dpbmcgaXQgdG8gZWl0aGVyIHJlY29ubmVjdCBpbiB0aGUgZnV0dXJlLCBvciBiZSBHQydkIGJ5IHRoZSBWTS5cblx0aWYgKFxuXHRcdHJlYWN0aW9ucyA9PT0gbnVsbCAmJlxuXHRcdChkZXBlbmRlbmN5LmYgJiBERVJJVkVEKSAhPT0gMCAmJlxuXHRcdC8vIERlc3Ryb3lpbmcgYSBjaGlsZCBlZmZlY3Qgd2hpbGUgdXBkYXRpbmcgYSBwYXJlbnQgZWZmZWN0IGNhbiBjYXVzZSBhIGRlcGVuZGVuY3kgdG8gYXBwZWFyXG5cdFx0Ly8gdG8gYmUgdW51c2VkLCB3aGVuIGluIGZhY3QgaXQgaXMgdXNlZCBieSB0aGUgY3VycmVudGx5LXVwZGF0aW5nIHBhcmVudC4gQ2hlY2tpbmcgYG5ld19kZXBzYFxuXHRcdC8vIGFsbG93cyB1cyB0byBza2lwIHRoZSBleHBlbnNpdmUgd29yayBvZiBkaXNjb25uZWN0aW5nIGFuZCBpbW1lZGlhdGVseSByZWNvbm5lY3RpbmcgaXRcblx0XHQobmV3X2RlcHMgPT09IG51bGwgfHwgIW5ld19kZXBzLmluY2x1ZGVzKGRlcGVuZGVuY3kpKVxuXHQpIHtcblx0XHRzZXRfc2lnbmFsX3N0YXR1cyhkZXBlbmRlbmN5LCBNQVlCRV9ESVJUWSk7XG5cdFx0Ly8gSWYgd2UgYXJlIHdvcmtpbmcgd2l0aCBhIGRlcml2ZWQgdGhhdCBpcyBvd25lZCBieSBhbiBlZmZlY3QsIHRoZW4gbWFyayBpdCBhcyBiZWluZ1xuXHRcdC8vIGRpc2Nvbm5lY3RlZCBhbmQgcmVtb3ZlIHRoZSBtYXJrIGZsYWcsIGFzIGl0IGNhbm5vdCBiZSByZWxpYWJseSByZW1vdmVkIG90aGVyd2lzZVxuXHRcdGlmICgoZGVwZW5kZW5jeS5mICYgQ09OTkVDVEVEKSAhPT0gMCkge1xuXHRcdFx0ZGVwZW5kZW5jeS5mIF49IENPTk5FQ1RFRDtcblx0XHRcdGRlcGVuZGVuY3kuZiAmPSB+V0FTX01BUktFRDtcblx0XHR9XG5cdFx0Ly8gRGlzY29ubmVjdCBhbnkgcmVhY3Rpb25zIG93bmVkIGJ5IHRoaXMgcmVhY3Rpb25cblx0XHRkZXN0cm95X2Rlcml2ZWRfZWZmZWN0cygvKiogQHR5cGUge0Rlcml2ZWR9ICoqLyAoZGVwZW5kZW5jeSkpO1xuXHRcdHJlbW92ZV9yZWFjdGlvbnMoLyoqIEB0eXBlIHtEZXJpdmVkfSAqKi8gKGRlcGVuZGVuY3kpLCAwKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7UmVhY3Rpb259IHNpZ25hbFxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0X2luZGV4XG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZV9yZWFjdGlvbnMoc2lnbmFsLCBzdGFydF9pbmRleCkge1xuXHR2YXIgZGVwZW5kZW5jaWVzID0gc2lnbmFsLmRlcHM7XG5cdGlmIChkZXBlbmRlbmNpZXMgPT09IG51bGwpIHJldHVybjtcblxuXHRmb3IgKHZhciBpID0gc3RhcnRfaW5kZXg7IGkgPCBkZXBlbmRlbmNpZXMubGVuZ3RoOyBpKyspIHtcblx0XHRyZW1vdmVfcmVhY3Rpb24oc2lnbmFsLCBkZXBlbmRlbmNpZXNbaV0pO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtFZmZlY3R9IGVmZmVjdFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVfZWZmZWN0KGVmZmVjdCkge1xuXHR2YXIgZmxhZ3MgPSBlZmZlY3QuZjtcblxuXHRpZiAoKGZsYWdzICYgREVTVFJPWUVEKSAhPT0gMCkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdHNldF9zaWduYWxfc3RhdHVzKGVmZmVjdCwgQ0xFQU4pO1xuXG5cdHZhciBwcmV2aW91c19lZmZlY3QgPSBhY3RpdmVfZWZmZWN0O1xuXHR2YXIgd2FzX3VwZGF0aW5nX2VmZmVjdCA9IGlzX3VwZGF0aW5nX2VmZmVjdDtcblxuXHRhY3RpdmVfZWZmZWN0ID0gZWZmZWN0O1xuXHRpc191cGRhdGluZ19lZmZlY3QgPSB0cnVlO1xuXG5cdGlmIChERVYpIHtcblx0XHR2YXIgcHJldmlvdXNfY29tcG9uZW50X2ZuID0gZGV2X2N1cnJlbnRfY29tcG9uZW50X2Z1bmN0aW9uO1xuXHRcdHNldF9kZXZfY3VycmVudF9jb21wb25lbnRfZnVuY3Rpb24oZWZmZWN0LmNvbXBvbmVudF9mdW5jdGlvbik7XG5cdFx0dmFyIHByZXZpb3VzX3N0YWNrID0gLyoqIEB0eXBlIHthbnl9ICovIChkZXZfc3RhY2spO1xuXHRcdC8vIG9ubHkgYmxvY2sgZWZmZWN0cyBoYXZlIGEgZGV2IHN0YWNrLCBrZWVwIHRoZSBjdXJyZW50IG9uZSBvdGhlcndpc2Vcblx0XHRzZXRfZGV2X3N0YWNrKGVmZmVjdC5kZXZfc3RhY2sgPz8gZGV2X3N0YWNrKTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0aWYgKChmbGFncyAmIChCTE9DS19FRkZFQ1QgfCBNQU5BR0VEX0VGRkVDVCkpICE9PSAwKSB7XG5cdFx0XHRkZXN0cm95X2Jsb2NrX2VmZmVjdF9jaGlsZHJlbihlZmZlY3QpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkZXN0cm95X2VmZmVjdF9jaGlsZHJlbihlZmZlY3QpO1xuXHRcdH1cblxuXHRcdGV4ZWN1dGVfZWZmZWN0X3RlYXJkb3duKGVmZmVjdCk7XG5cdFx0dmFyIHRlYXJkb3duID0gdXBkYXRlX3JlYWN0aW9uKGVmZmVjdCk7XG5cdFx0ZWZmZWN0LnRlYXJkb3duID0gdHlwZW9mIHRlYXJkb3duID09PSAnZnVuY3Rpb24nID8gdGVhcmRvd24gOiBudWxsO1xuXHRcdGVmZmVjdC53diA9IHdyaXRlX3ZlcnNpb247XG5cblx0XHQvLyBJbiBERVYsIGluY3JlbWVudCB2ZXJzaW9ucyBvZiBhbnkgc291cmNlcyB0aGF0IHdlcmUgd3JpdHRlbiB0byBkdXJpbmcgdGhlIGVmZmVjdCxcblx0XHQvLyBzbyB0aGF0IHRoZXkgYXJlIGNvcnJlY3RseSBtYXJrZWQgYXMgZGlydHkgd2hlbiB0aGUgZWZmZWN0IHJlLXJ1bnNcblx0XHRpZiAoREVWICYmIHRyYWNpbmdfbW9kZV9mbGFnICYmIChlZmZlY3QuZiAmIERJUlRZKSAhPT0gMCAmJiBlZmZlY3QuZGVwcyAhPT0gbnVsbCkge1xuXHRcdFx0Zm9yICh2YXIgZGVwIG9mIGVmZmVjdC5kZXBzKSB7XG5cdFx0XHRcdGlmIChkZXAuc2V0X2R1cmluZ19lZmZlY3QpIHtcblx0XHRcdFx0XHRkZXAud3YgPSBpbmNyZW1lbnRfd3JpdGVfdmVyc2lvbigpO1xuXHRcdFx0XHRcdGRlcC5zZXRfZHVyaW5nX2VmZmVjdCA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9IGZpbmFsbHkge1xuXHRcdGlzX3VwZGF0aW5nX2VmZmVjdCA9IHdhc191cGRhdGluZ19lZmZlY3Q7XG5cdFx0YWN0aXZlX2VmZmVjdCA9IHByZXZpb3VzX2VmZmVjdDtcblxuXHRcdGlmIChERVYpIHtcblx0XHRcdHNldF9kZXZfY3VycmVudF9jb21wb25lbnRfZnVuY3Rpb24ocHJldmlvdXNfY29tcG9uZW50X2ZuKTtcblx0XHRcdHNldF9kZXZfc3RhY2socHJldmlvdXNfc3RhY2spO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgb25jZSBhbnkgcGVuZGluZyBzdGF0ZSBjaGFuZ2VzIGhhdmUgYmVlbiBhcHBsaWVkLlxuICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0aWNrKCkge1xuXHRpZiAoYXN5bmNfbW9kZV9mbGFnKSB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChmKSA9PiB7XG5cdFx0XHQvLyBSYWNlIHRoZW0gYWdhaW5zdCBlYWNoIG90aGVyIC0gaW4gYWxtb3N0IGFsbCBjYXNlcyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgd2lsbCBmaXJlIGZpcnN0LFxuXHRcdFx0Ly8gYnV0IGUuZy4gaW4gY2FzZSB0aGUgd2luZG93IGlzIG5vdCBmb2N1c2VkIG9yIGEgdmlldyB0cmFuc2l0aW9uIGhhcHBlbnMsIHJlcXVlc3RBbmltYXRpb25GcmFtZVxuXHRcdFx0Ly8gd2lsbCBiZSBkZWxheWVkIGFuZCBzZXRUaW1lb3V0IGhlbHBzIHVzIHJlc29sdmUgZmFzdCBlbm91Z2ggaW4gdGhhdCBjYXNlXG5cdFx0XHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gZigpKTtcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4gZigpKTtcblx0XHR9KTtcblx0fVxuXG5cdGF3YWl0IFByb21pc2UucmVzb2x2ZSgpO1xuXG5cdC8vIEJ5IGNhbGxpbmcgZmx1c2hTeW5jIHdlIGd1YXJhbnRlZSB0aGF0IGFueSBwZW5kaW5nIHN0YXRlIGNoYW5nZXMgYXJlIGFwcGxpZWQgYWZ0ZXIgb25lIHRpY2suXG5cdC8vIFRPRE8gbG9vayBpbnRvIHdoZXRoZXIgd2UgY2FuIG1ha2UgZmx1c2hpbmcgc3Vic2VxdWVudCB1cGRhdGVzIHN5bmNocm9ub3VzbHkgaW4gdGhlIGZ1dHVyZS5cblx0Zmx1c2hTeW5jKCk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyBvbmNlIGFueSBzdGF0ZSBjaGFuZ2VzLCBhbmQgYXN5bmNocm9ub3VzIHdvcmsgcmVzdWx0aW5nIGZyb20gdGhlbSxcbiAqIGhhdmUgcmVzb2x2ZWQgYW5kIHRoZSBET00gaGFzIGJlZW4gdXBkYXRlZFxuICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gKiBAc2luY2UgNS4zNlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0dGxlZCgpIHtcblx0cmV0dXJuIEJhdGNoLmVuc3VyZSgpLnNldHRsZWQoKTtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgVlxuICogQHBhcmFtIHtWYWx1ZTxWPn0gc2lnbmFsXG4gKiBAcmV0dXJucyB7Vn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldChzaWduYWwpIHtcblx0dmFyIGZsYWdzID0gc2lnbmFsLmY7XG5cdHZhciBpc19kZXJpdmVkID0gKGZsYWdzICYgREVSSVZFRCkgIT09IDA7XG5cblx0Y2FwdHVyZWRfc2lnbmFscz8uYWRkKHNpZ25hbCk7XG5cblx0Ly8gUmVnaXN0ZXIgdGhlIGRlcGVuZGVuY3kgb24gdGhlIGN1cnJlbnQgcmVhY3Rpb24gc2lnbmFsLlxuXHRpZiAoYWN0aXZlX3JlYWN0aW9uICE9PSBudWxsICYmICF1bnRyYWNraW5nKSB7XG5cdFx0Ly8gaWYgd2UncmUgaW4gYSBkZXJpdmVkIHRoYXQgaXMgYmVpbmcgcmVhZCBpbnNpZGUgYW4gX2FzeW5jXyBkZXJpdmVkLFxuXHRcdC8vIGl0J3MgcG9zc2libGUgdGhhdCB0aGUgZWZmZWN0IHdhcyBhbHJlYWR5IGRlc3Ryb3llZC4gSW4gdGhpcyBjYXNlLFxuXHRcdC8vIHdlIGRvbid0IGFkZCB0aGUgZGVwZW5kZW5jeSwgYmVjYXVzZSB0aGF0IHdvdWxkIGNyZWF0ZSBhIG1lbW9yeSBsZWFrXG5cdFx0dmFyIGRlc3Ryb3llZCA9IGFjdGl2ZV9lZmZlY3QgIT09IG51bGwgJiYgKGFjdGl2ZV9lZmZlY3QuZiAmIERFU1RST1lFRCkgIT09IDA7XG5cblx0XHRpZiAoIWRlc3Ryb3llZCAmJiAhY3VycmVudF9zb3VyY2VzPy5pbmNsdWRlcyhzaWduYWwpKSB7XG5cdFx0XHR2YXIgZGVwcyA9IGFjdGl2ZV9yZWFjdGlvbi5kZXBzO1xuXG5cdFx0XHRpZiAoKGFjdGl2ZV9yZWFjdGlvbi5mICYgUkVBQ1RJT05fSVNfVVBEQVRJTkcpICE9PSAwKSB7XG5cdFx0XHRcdC8vIHdlJ3JlIGluIHRoZSBlZmZlY3QgaW5pdC91cGRhdGUgY3ljbGVcblx0XHRcdFx0aWYgKHNpZ25hbC5ydiA8IHJlYWRfdmVyc2lvbikge1xuXHRcdFx0XHRcdHNpZ25hbC5ydiA9IHJlYWRfdmVyc2lvbjtcblxuXHRcdFx0XHRcdC8vIElmIHRoZSBzaWduYWwgaXMgYWNjZXNzaW5nIHRoZSBzYW1lIGRlcGVuZGVuY2llcyBpbiB0aGUgc2FtZVxuXHRcdFx0XHRcdC8vIG9yZGVyIGFzIGl0IGRpZCBsYXN0IHRpbWUsIGluY3JlbWVudCBgc2tpcHBlZF9kZXBzYFxuXHRcdFx0XHRcdC8vIHJhdGhlciB0aGFuIHVwZGF0aW5nIGBuZXdfZGVwc2AsIHdoaWNoIGNyZWF0ZXMgR0MgY29zdFxuXHRcdFx0XHRcdGlmIChuZXdfZGVwcyA9PT0gbnVsbCAmJiBkZXBzICE9PSBudWxsICYmIGRlcHNbc2tpcHBlZF9kZXBzXSA9PT0gc2lnbmFsKSB7XG5cdFx0XHRcdFx0XHRza2lwcGVkX2RlcHMrKztcblx0XHRcdFx0XHR9IGVsc2UgaWYgKG5ld19kZXBzID09PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRuZXdfZGVwcyA9IFtzaWduYWxdO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoIW5ld19kZXBzLmluY2x1ZGVzKHNpZ25hbCkpIHtcblx0XHRcdFx0XHRcdG5ld19kZXBzLnB1c2goc2lnbmFsKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIHdlJ3JlIGFkZGluZyBhIGRlcGVuZGVuY3kgb3V0c2lkZSB0aGUgaW5pdC91cGRhdGUgY3ljbGVcblx0XHRcdFx0Ly8gKGkuZS4gYWZ0ZXIgYW4gYGF3YWl0YClcblx0XHRcdFx0KGFjdGl2ZV9yZWFjdGlvbi5kZXBzID8/PSBbXSkucHVzaChzaWduYWwpO1xuXG5cdFx0XHRcdHZhciByZWFjdGlvbnMgPSBzaWduYWwucmVhY3Rpb25zO1xuXG5cdFx0XHRcdGlmIChyZWFjdGlvbnMgPT09IG51bGwpIHtcblx0XHRcdFx0XHRzaWduYWwucmVhY3Rpb25zID0gW2FjdGl2ZV9yZWFjdGlvbl07XG5cdFx0XHRcdH0gZWxzZSBpZiAoIXJlYWN0aW9ucy5pbmNsdWRlcyhhY3RpdmVfcmVhY3Rpb24pKSB7XG5cdFx0XHRcdFx0cmVhY3Rpb25zLnB1c2goYWN0aXZlX3JlYWN0aW9uKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGlmIChERVYpIHtcblx0XHQvLyBUT0RPIHJlaW5zdGF0ZSB0aGlzLCBidXQgbWFrZSBpdCBhY3R1YWxseSB3b3JrXG5cdFx0Ly8gaWYgKGN1cnJlbnRfYXN5bmNfZWZmZWN0KSB7XG5cdFx0Ly8gXHR2YXIgdHJhY2tpbmcgPSAoY3VycmVudF9hc3luY19lZmZlY3QuZiAmIFJFQUNUSU9OX0lTX1VQREFUSU5HKSAhPT0gMDtcblx0XHQvLyBcdHZhciB3YXNfcmVhZCA9IGN1cnJlbnRfYXN5bmNfZWZmZWN0LmRlcHM/LmluY2x1ZGVzKHNpZ25hbCk7XG5cblx0XHQvLyBcdGlmICghdHJhY2tpbmcgJiYgIXVudHJhY2tpbmcgJiYgIXdhc19yZWFkKSB7XG5cdFx0Ly8gXHRcdHcuYXdhaXRfcmVhY3Rpdml0eV9sb3NzKC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoc2lnbmFsLmxhYmVsKSk7XG5cblx0XHQvLyBcdFx0dmFyIHRyYWNlID0gZ2V0X2Vycm9yKCd0cmFjZWQgYXQnKTtcblx0XHQvLyBcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcblx0XHQvLyBcdFx0aWYgKHRyYWNlKSBjb25zb2xlLndhcm4odHJhY2UpO1xuXHRcdC8vIFx0fVxuXHRcdC8vIH1cblxuXHRcdHJlY2VudF9hc3luY19kZXJpdmVkcy5kZWxldGUoc2lnbmFsKTtcblxuXHRcdGlmIChcblx0XHRcdHRyYWNpbmdfbW9kZV9mbGFnICYmXG5cdFx0XHQhdW50cmFja2luZyAmJlxuXHRcdFx0dHJhY2luZ19leHByZXNzaW9ucyAhPT0gbnVsbCAmJlxuXHRcdFx0YWN0aXZlX3JlYWN0aW9uICE9PSBudWxsICYmXG5cdFx0XHR0cmFjaW5nX2V4cHJlc3Npb25zLnJlYWN0aW9uID09PSBhY3RpdmVfcmVhY3Rpb25cblx0XHQpIHtcblx0XHRcdC8vIFVzZWQgd2hlbiBtYXBwaW5nIHN0YXRlIGJldHdlZW4gc3BlY2lhbCBibG9ja3MgbGlrZSBgZWFjaGBcblx0XHRcdGlmIChzaWduYWwudHJhY2UpIHtcblx0XHRcdFx0c2lnbmFsLnRyYWNlKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YXIgdHJhY2UgPSBnZXRfZXJyb3IoJ3RyYWNlZCBhdCcpO1xuXG5cdFx0XHRcdGlmICh0cmFjZSkge1xuXHRcdFx0XHRcdHZhciBlbnRyeSA9IHRyYWNpbmdfZXhwcmVzc2lvbnMuZW50cmllcy5nZXQoc2lnbmFsKTtcblxuXHRcdFx0XHRcdGlmIChlbnRyeSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRlbnRyeSA9IHsgdHJhY2VzOiBbXSB9O1xuXHRcdFx0XHRcdFx0dHJhY2luZ19leHByZXNzaW9ucy5lbnRyaWVzLnNldChzaWduYWwsIGVudHJ5KTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR2YXIgbGFzdCA9IGVudHJ5LnRyYWNlc1tlbnRyeS50cmFjZXMubGVuZ3RoIC0gMV07XG5cblx0XHRcdFx0XHQvLyB0cmFjZXMgY2FuIGJlIGR1cGxpY2F0ZWQsIGUuZy4gYnkgYHNuYXBzaG90YCBpbnZva2luZyBib3RoXG5cdFx0XHRcdFx0Ly8gYm90aCBgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yYCBhbmQgYGdldGAgdHJhcHMgYXQgb25jZVxuXHRcdFx0XHRcdGlmICh0cmFjZS5zdGFjayAhPT0gbGFzdD8uc3RhY2spIHtcblx0XHRcdFx0XHRcdGVudHJ5LnRyYWNlcy5wdXNoKHRyYWNlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpZiAoaXNfZGVzdHJveWluZ19lZmZlY3QpIHtcblx0XHRpZiAob2xkX3ZhbHVlcy5oYXMoc2lnbmFsKSkge1xuXHRcdFx0cmV0dXJuIG9sZF92YWx1ZXMuZ2V0KHNpZ25hbCk7XG5cdFx0fVxuXG5cdFx0aWYgKGlzX2Rlcml2ZWQpIHtcblx0XHRcdHZhciBkZXJpdmVkID0gLyoqIEB0eXBlIHtEZXJpdmVkfSAqLyAoc2lnbmFsKTtcblxuXHRcdFx0dmFyIHZhbHVlID0gZGVyaXZlZC52O1xuXG5cdFx0XHQvLyBpZiB0aGUgZGVyaXZlZCBpcyBkaXJ0eSBhbmQgaGFzIHJlYWN0aW9ucywgb3IgZGVwZW5kcyBvbiB0aGUgdmFsdWVzIHRoYXQganVzdCBjaGFuZ2VkLCByZS1leGVjdXRlXG5cdFx0XHQvLyAoYSBkZXJpdmVkIGNhbiBiZSBtYXliZV9kaXJ0eSBkdWUgdG8gdGhlIGVmZmVjdCBkZXN0cm95IHJlbW92aW5nIGl0cyBsYXN0IHJlYWN0aW9uKVxuXHRcdFx0aWYgKFxuXHRcdFx0XHQoKGRlcml2ZWQuZiAmIENMRUFOKSA9PT0gMCAmJiBkZXJpdmVkLnJlYWN0aW9ucyAhPT0gbnVsbCkgfHxcblx0XHRcdFx0ZGVwZW5kc19vbl9vbGRfdmFsdWVzKGRlcml2ZWQpXG5cdFx0XHQpIHtcblx0XHRcdFx0dmFsdWUgPSBleGVjdXRlX2Rlcml2ZWQoZGVyaXZlZCk7XG5cdFx0XHR9XG5cblx0XHRcdG9sZF92YWx1ZXMuc2V0KGRlcml2ZWQsIHZhbHVlKTtcblxuXHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdH1cblx0fSBlbHNlIGlmIChcblx0XHRpc19kZXJpdmVkICYmXG5cdFx0KCFiYXRjaF92YWx1ZXM/LmhhcyhzaWduYWwpIHx8IChjdXJyZW50X2JhdGNoPy5pc19mb3JrICYmICFlZmZlY3RfdHJhY2tpbmcoKSkpXG5cdCkge1xuXHRcdGRlcml2ZWQgPSAvKiogQHR5cGUge0Rlcml2ZWR9ICovIChzaWduYWwpO1xuXG5cdFx0aWYgKGlzX2RpcnR5KGRlcml2ZWQpKSB7XG5cdFx0XHR1cGRhdGVfZGVyaXZlZChkZXJpdmVkKTtcblx0XHR9XG5cblx0XHRpZiAoaXNfdXBkYXRpbmdfZWZmZWN0ICYmIGVmZmVjdF90cmFja2luZygpICYmIChkZXJpdmVkLmYgJiBDT05ORUNURUQpID09PSAwKSB7XG5cdFx0XHRyZWNvbm5lY3QoZGVyaXZlZCk7XG5cdFx0fVxuXHR9XG5cblx0aWYgKGJhdGNoX3ZhbHVlcz8uaGFzKHNpZ25hbCkpIHtcblx0XHRyZXR1cm4gYmF0Y2hfdmFsdWVzLmdldChzaWduYWwpO1xuXHR9XG5cblx0aWYgKChzaWduYWwuZiAmIEVSUk9SX1ZBTFVFKSAhPT0gMCkge1xuXHRcdHRocm93IHNpZ25hbC52O1xuXHR9XG5cblx0cmV0dXJuIHNpZ25hbC52O1xufVxuXG4vKipcbiAqIChSZSljb25uZWN0IGEgZGlzY29ubmVjdGVkIGRlcml2ZWQsIHNvIHRoYXQgaXQgaXMgbm90aWZpZWRcbiAqIG9mIGNoYW5nZXMgaW4gYG1hcmtfcmVhY3Rpb25zYFxuICogQHBhcmFtIHtEZXJpdmVkfSBkZXJpdmVkXG4gKi9cbmZ1bmN0aW9uIHJlY29ubmVjdChkZXJpdmVkKSB7XG5cdGlmIChkZXJpdmVkLmRlcHMgPT09IG51bGwpIHJldHVybjtcblxuXHRkZXJpdmVkLmYgXj0gQ09OTkVDVEVEO1xuXG5cdGZvciAoY29uc3QgZGVwIG9mIGRlcml2ZWQuZGVwcykge1xuXHRcdChkZXAucmVhY3Rpb25zID8/PSBbXSkucHVzaChkZXJpdmVkKTtcblxuXHRcdGlmICgoZGVwLmYgJiBERVJJVkVEKSAhPT0gMCAmJiAoZGVwLmYgJiBDT05ORUNURUQpID09PSAwKSB7XG5cdFx0XHRyZWNvbm5lY3QoLyoqIEB0eXBlIHtEZXJpdmVkfSAqLyAoZGVwKSk7XG5cdFx0fVxuXHR9XG59XG5cbi8qKiBAcGFyYW0ge0Rlcml2ZWR9IGRlcml2ZWQgKi9cbmZ1bmN0aW9uIGRlcGVuZHNfb25fb2xkX3ZhbHVlcyhkZXJpdmVkKSB7XG5cdGlmIChkZXJpdmVkLnYgPT09IFVOSU5JVElBTElaRUQpIHJldHVybiB0cnVlOyAvLyB3ZSBkb24ndCBrbm93LCBzbyBhc3N1bWUgdGhlIHdvcnN0XG5cdGlmIChkZXJpdmVkLmRlcHMgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblxuXHRmb3IgKGNvbnN0IGRlcCBvZiBkZXJpdmVkLmRlcHMpIHtcblx0XHRpZiAob2xkX3ZhbHVlcy5oYXMoZGVwKSkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0aWYgKChkZXAuZiAmIERFUklWRUQpICE9PSAwICYmIGRlcGVuZHNfb25fb2xkX3ZhbHVlcygvKiogQHR5cGUge0Rlcml2ZWR9ICovIChkZXApKSkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIExpa2UgYGdldGAsIGJ1dCBjaGVja3MgZm9yIGB1bmRlZmluZWRgLiBVc2VkIGZvciBgdmFyYCBkZWNsYXJhdGlvbnMgYmVjYXVzZSB0aGV5IGNhbiBiZSBhY2Nlc3NlZCBiZWZvcmUgYmVpbmcgZGVjbGFyZWRcbiAqIEB0ZW1wbGF0ZSBWXG4gKiBAcGFyYW0ge1ZhbHVlPFY+IHwgdW5kZWZpbmVkfSBzaWduYWxcbiAqIEByZXR1cm5zIHtWIHwgdW5kZWZpbmVkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2FmZV9nZXQoc2lnbmFsKSB7XG5cdHJldHVybiBzaWduYWwgJiYgZ2V0KHNpZ25hbCk7XG59XG5cbi8qKlxuICogV2hlbiB1c2VkIGluc2lkZSBhIFtgJGRlcml2ZWRgXShodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUvJGRlcml2ZWQpIG9yIFtgJGVmZmVjdGBdKGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS8kZWZmZWN0KSxcbiAqIGFueSBzdGF0ZSByZWFkIGluc2lkZSBgZm5gIHdpbGwgbm90IGJlIHRyZWF0ZWQgYXMgYSBkZXBlbmRlbmN5LlxuICpcbiAqIGBgYHRzXG4gKiAkZWZmZWN0KCgpID0+IHtcbiAqICAgLy8gdGhpcyB3aWxsIHJ1biB3aGVuIGBkYXRhYCBjaGFuZ2VzLCBidXQgbm90IHdoZW4gYHRpbWVgIGNoYW5nZXNcbiAqICAgc2F2ZShkYXRhLCB7XG4gKiAgICAgdGltZXN0YW1wOiB1bnRyYWNrKCgpID0+IHRpbWUpXG4gKiAgIH0pO1xuICogfSk7XG4gKiBgYGBcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0geygpID0+IFR9IGZuXG4gKiBAcmV0dXJucyB7VH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVudHJhY2soZm4pIHtcblx0dmFyIHByZXZpb3VzX3VudHJhY2tpbmcgPSB1bnRyYWNraW5nO1xuXHR0cnkge1xuXHRcdHVudHJhY2tpbmcgPSB0cnVlO1xuXHRcdHJldHVybiBmbigpO1xuXHR9IGZpbmFsbHkge1xuXHRcdHVudHJhY2tpbmcgPSBwcmV2aW91c191bnRyYWNraW5nO1xuXHR9XG59XG5cbmNvbnN0IFNUQVRVU19NQVNLID0gfihESVJUWSB8IE1BWUJFX0RJUlRZIHwgQ0xFQU4pO1xuXG4vKipcbiAqIEBwYXJhbSB7U2lnbmFsfSBzaWduYWxcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGF0dXNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X3NpZ25hbF9zdGF0dXMoc2lnbmFsLCBzdGF0dXMpIHtcblx0c2lnbmFsLmYgPSAoc2lnbmFsLmYgJiBTVEFUVVNfTUFTSykgfCBzdGF0dXM7XG59XG5cbi8qKlxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nIHwgc3ltYm9sLCB1bmtub3duPn0gb2JqXG4gKiBAcGFyYW0ge0FycmF5PHN0cmluZyB8IHN5bWJvbD59IGtleXNcbiAqIEByZXR1cm5zIHtSZWNvcmQ8c3RyaW5nIHwgc3ltYm9sLCB1bmtub3duPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4Y2x1ZGVfZnJvbV9vYmplY3Qob2JqLCBrZXlzKSB7XG5cdC8qKiBAdHlwZSB7UmVjb3JkPHN0cmluZyB8IHN5bWJvbCwgdW5rbm93bj59ICovXG5cdHZhciByZXN1bHQgPSB7fTtcblxuXHRmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG5cdFx0aWYgKCFrZXlzLmluY2x1ZGVzKGtleSkpIHtcblx0XHRcdHJlc3VsdFtrZXldID0gb2JqW2tleV07XG5cdFx0fVxuXHR9XG5cblx0Zm9yICh2YXIgc3ltYm9sIG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqKSkge1xuXHRcdGlmIChPYmplY3QucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmosIHN5bWJvbCkgJiYgIWtleXMuaW5jbHVkZXMoc3ltYm9sKSkge1xuXHRcdFx0cmVzdWx0W3N5bWJvbF0gPSBvYmpbc3ltYm9sXTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFBvc3NpYmx5IHRyYXZlcnNlIGFuIG9iamVjdCBhbmQgcmVhZCBhbGwgaXRzIHByb3BlcnRpZXMgc28gdGhhdCB0aGV5J3JlIGFsbCByZWFjdGl2ZSBpbiBjYXNlIHRoaXMgaXMgYCRzdGF0ZWAuXG4gKiBEb2VzIG9ubHkgY2hlY2sgZmlyc3QgbGV2ZWwgb2YgYW4gb2JqZWN0IGZvciBwZXJmb3JtYW5jZSByZWFzb25zIChoZXVyaXN0aWMgc2hvdWxkIGJlIGdvb2QgZm9yIDk5JSBvZiBhbGwgY2FzZXMpLlxuICogQHBhcmFtIHthbnl9IHZhbHVlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZXBfcmVhZF9zdGF0ZSh2YWx1ZSkge1xuXHRpZiAodHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0JyB8fCAhdmFsdWUgfHwgdmFsdWUgaW5zdGFuY2VvZiBFdmVudFRhcmdldCkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGlmIChTVEFURV9TWU1CT0wgaW4gdmFsdWUpIHtcblx0XHRkZWVwX3JlYWQodmFsdWUpO1xuXHR9IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuXHRcdGZvciAobGV0IGtleSBpbiB2YWx1ZSkge1xuXHRcdFx0Y29uc3QgcHJvcCA9IHZhbHVlW2tleV07XG5cdFx0XHRpZiAodHlwZW9mIHByb3AgPT09ICdvYmplY3QnICYmIHByb3AgJiYgU1RBVEVfU1lNQk9MIGluIHByb3ApIHtcblx0XHRcdFx0ZGVlcF9yZWFkKHByb3ApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIERlZXBseSB0cmF2ZXJzZSBhbiBvYmplY3QgYW5kIHJlYWQgYWxsIGl0cyBwcm9wZXJ0aWVzXG4gKiBzbyB0aGF0IHRoZXkncmUgYWxsIHJlYWN0aXZlIGluIGNhc2UgdGhpcyBpcyBgJHN0YXRlYFxuICogQHBhcmFtIHthbnl9IHZhbHVlXG4gKiBAcGFyYW0ge1NldDxhbnk+fSB2aXNpdGVkXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZXBfcmVhZCh2YWx1ZSwgdmlzaXRlZCA9IG5ldyBTZXQoKSkge1xuXHRpZiAoXG5cdFx0dHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuXHRcdHZhbHVlICE9PSBudWxsICYmXG5cdFx0Ly8gV2UgZG9uJ3Qgd2FudCB0byB0cmF2ZXJzZSBET00gZWxlbWVudHNcblx0XHQhKHZhbHVlIGluc3RhbmNlb2YgRXZlbnRUYXJnZXQpICYmXG5cdFx0IXZpc2l0ZWQuaGFzKHZhbHVlKVxuXHQpIHtcblx0XHR2aXNpdGVkLmFkZCh2YWx1ZSk7XG5cdFx0Ly8gV2hlbiB3b3JraW5nIHdpdGggYSBwb3NzaWJsZSBTdmVsdGVEYXRlLCB0aGlzXG5cdFx0Ly8gd2lsbCBlbnN1cmUgd2UgY2FwdHVyZSBjaGFuZ2VzIHRvIGl0LlxuXHRcdGlmICh2YWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcblx0XHRcdHZhbHVlLmdldFRpbWUoKTtcblx0XHR9XG5cdFx0Zm9yIChsZXQga2V5IGluIHZhbHVlKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRkZWVwX3JlYWQodmFsdWVba2V5XSwgdmlzaXRlZCk7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdC8vIGNvbnRpbnVlXG5cdFx0XHR9XG5cdFx0fVxuXHRcdGNvbnN0IHByb3RvID0gZ2V0X3Byb3RvdHlwZV9vZih2YWx1ZSk7XG5cdFx0aWYgKFxuXHRcdFx0cHJvdG8gIT09IE9iamVjdC5wcm90b3R5cGUgJiZcblx0XHRcdHByb3RvICE9PSBBcnJheS5wcm90b3R5cGUgJiZcblx0XHRcdHByb3RvICE9PSBNYXAucHJvdG90eXBlICYmXG5cdFx0XHRwcm90byAhPT0gU2V0LnByb3RvdHlwZSAmJlxuXHRcdFx0cHJvdG8gIT09IERhdGUucHJvdG90eXBlXG5cdFx0KSB7XG5cdFx0XHRjb25zdCBkZXNjcmlwdG9ycyA9IGdldF9kZXNjcmlwdG9ycyhwcm90byk7XG5cdFx0XHRmb3IgKGxldCBrZXkgaW4gZGVzY3JpcHRvcnMpIHtcblx0XHRcdFx0Y29uc3QgZ2V0ID0gZGVzY3JpcHRvcnNba2V5XS5nZXQ7XG5cdFx0XHRcdGlmIChnZXQpIHtcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0Z2V0LmNhbGwodmFsdWUpO1xuXHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHRcdC8vIGNvbnRpbnVlXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG4iLCIvKiogQGltcG9ydCB7IENvbXBvbmVudENvbnRleHQsIENvbXBvbmVudENvbnRleHRMZWdhY3ksIERlcml2ZWQsIEVmZmVjdCwgVGVtcGxhdGVOb2RlLCBUcmFuc2l0aW9uTWFuYWdlciB9IGZyb20gJyNjbGllbnQnICovXG5pbXBvcnQge1xuXHRpc19kaXJ0eSxcblx0YWN0aXZlX2VmZmVjdCxcblx0YWN0aXZlX3JlYWN0aW9uLFxuXHR1cGRhdGVfZWZmZWN0LFxuXHRnZXQsXG5cdGlzX2Rlc3Ryb3lpbmdfZWZmZWN0LFxuXHRyZW1vdmVfcmVhY3Rpb25zLFxuXHRzZXRfYWN0aXZlX3JlYWN0aW9uLFxuXHRzZXRfaXNfZGVzdHJveWluZ19lZmZlY3QsXG5cdHNldF9zaWduYWxfc3RhdHVzLFxuXHR1bnRyYWNrLFxuXHR1bnRyYWNraW5nXG59IGZyb20gJy4uL3J1bnRpbWUuanMnO1xuaW1wb3J0IHtcblx0RElSVFksXG5cdEJSQU5DSF9FRkZFQ1QsXG5cdFJFTkRFUl9FRkZFQ1QsXG5cdEVGRkVDVCxcblx0REVTVFJPWUVELFxuXHRJTkVSVCxcblx0RUZGRUNUX1JBTixcblx0QkxPQ0tfRUZGRUNULFxuXHRST09UX0VGRkVDVCxcblx0RUZGRUNUX1RSQU5TUEFSRU5ULFxuXHRERVJJVkVELFxuXHRDTEVBTixcblx0RUFHRVJfRUZGRUNULFxuXHRIRUFEX0VGRkVDVCxcblx0TUFZQkVfRElSVFksXG5cdEVGRkVDVF9QUkVTRVJWRUQsXG5cdFNUQUxFX1JFQUNUSU9OLFxuXHRVU0VSX0VGRkVDVCxcblx0QVNZTkMsXG5cdENPTk5FQ1RFRCxcblx0TUFOQUdFRF9FRkZFQ1Rcbn0gZnJvbSAnI2NsaWVudC9jb25zdGFudHMnO1xuaW1wb3J0ICogYXMgZSBmcm9tICcuLi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgREVWIH0gZnJvbSAnZXNtLWVudic7XG5pbXBvcnQgeyBkZWZpbmVfcHJvcGVydHkgfSBmcm9tICcuLi8uLi9zaGFyZWQvdXRpbHMuanMnO1xuaW1wb3J0IHsgZ2V0X25leHRfc2libGluZyB9IGZyb20gJy4uL2RvbS9vcGVyYXRpb25zLmpzJztcbmltcG9ydCB7IGNvbXBvbmVudF9jb250ZXh0LCBkZXZfY3VycmVudF9jb21wb25lbnRfZnVuY3Rpb24sIGRldl9zdGFjayB9IGZyb20gJy4uL2NvbnRleHQuanMnO1xuaW1wb3J0IHsgQmF0Y2gsIGN1cnJlbnRfYmF0Y2gsIHNjaGVkdWxlX2VmZmVjdCB9IGZyb20gJy4vYmF0Y2guanMnO1xuaW1wb3J0IHsgZmxhdHRlbiB9IGZyb20gJy4vYXN5bmMuanMnO1xuaW1wb3J0IHsgd2l0aG91dF9yZWFjdGl2ZV9jb250ZXh0IH0gZnJvbSAnLi4vZG9tL2VsZW1lbnRzL2JpbmRpbmdzL3NoYXJlZC5qcyc7XG5cbi8qKlxuICogQHBhcmFtIHsnJGVmZmVjdCcgfCAnJGVmZmVjdC5wcmUnIHwgJyRpbnNwZWN0J30gcnVuZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVfZWZmZWN0KHJ1bmUpIHtcblx0aWYgKGFjdGl2ZV9lZmZlY3QgPT09IG51bGwpIHtcblx0XHRpZiAoYWN0aXZlX3JlYWN0aW9uID09PSBudWxsKSB7XG5cdFx0XHRlLmVmZmVjdF9vcnBoYW4ocnVuZSk7XG5cdFx0fVxuXG5cdFx0ZS5lZmZlY3RfaW5fdW5vd25lZF9kZXJpdmVkKCk7XG5cdH1cblxuXHRpZiAoaXNfZGVzdHJveWluZ19lZmZlY3QpIHtcblx0XHRlLmVmZmVjdF9pbl90ZWFyZG93bihydW5lKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7RWZmZWN0fSBlZmZlY3RcbiAqIEBwYXJhbSB7RWZmZWN0fSBwYXJlbnRfZWZmZWN0XG4gKi9cbmZ1bmN0aW9uIHB1c2hfZWZmZWN0KGVmZmVjdCwgcGFyZW50X2VmZmVjdCkge1xuXHR2YXIgcGFyZW50X2xhc3QgPSBwYXJlbnRfZWZmZWN0Lmxhc3Q7XG5cdGlmIChwYXJlbnRfbGFzdCA9PT0gbnVsbCkge1xuXHRcdHBhcmVudF9lZmZlY3QubGFzdCA9IHBhcmVudF9lZmZlY3QuZmlyc3QgPSBlZmZlY3Q7XG5cdH0gZWxzZSB7XG5cdFx0cGFyZW50X2xhc3QubmV4dCA9IGVmZmVjdDtcblx0XHRlZmZlY3QucHJldiA9IHBhcmVudF9sYXN0O1xuXHRcdHBhcmVudF9lZmZlY3QubGFzdCA9IGVmZmVjdDtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSB0eXBlXG4gKiBAcGFyYW0ge251bGwgfCAoKCkgPT4gdm9pZCB8ICgoKSA9PiB2b2lkKSl9IGZuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHN5bmNcbiAqIEByZXR1cm5zIHtFZmZlY3R9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZV9lZmZlY3QodHlwZSwgZm4sIHN5bmMpIHtcblx0dmFyIHBhcmVudCA9IGFjdGl2ZV9lZmZlY3Q7XG5cblx0aWYgKERFVikge1xuXHRcdC8vIEVuc3VyZSB0aGUgcGFyZW50IGlzIG5ldmVyIGFuIGluc3BlY3QgZWZmZWN0XG5cdFx0d2hpbGUgKHBhcmVudCAhPT0gbnVsbCAmJiAocGFyZW50LmYgJiBFQUdFUl9FRkZFQ1QpICE9PSAwKSB7XG5cdFx0XHRwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuXHRcdH1cblx0fVxuXG5cdGlmIChwYXJlbnQgIT09IG51bGwgJiYgKHBhcmVudC5mICYgSU5FUlQpICE9PSAwKSB7XG5cdFx0dHlwZSB8PSBJTkVSVDtcblx0fVxuXG5cdC8qKiBAdHlwZSB7RWZmZWN0fSAqL1xuXHR2YXIgZWZmZWN0ID0ge1xuXHRcdGN0eDogY29tcG9uZW50X2NvbnRleHQsXG5cdFx0ZGVwczogbnVsbCxcblx0XHRub2RlczogbnVsbCxcblx0XHRmOiB0eXBlIHwgRElSVFkgfCBDT05ORUNURUQsXG5cdFx0Zmlyc3Q6IG51bGwsXG5cdFx0Zm4sXG5cdFx0bGFzdDogbnVsbCxcblx0XHRuZXh0OiBudWxsLFxuXHRcdHBhcmVudCxcblx0XHRiOiBwYXJlbnQgJiYgcGFyZW50LmIsXG5cdFx0cHJldjogbnVsbCxcblx0XHR0ZWFyZG93bjogbnVsbCxcblx0XHR3djogMCxcblx0XHRhYzogbnVsbFxuXHR9O1xuXG5cdGlmIChERVYpIHtcblx0XHRlZmZlY3QuY29tcG9uZW50X2Z1bmN0aW9uID0gZGV2X2N1cnJlbnRfY29tcG9uZW50X2Z1bmN0aW9uO1xuXHR9XG5cblx0aWYgKHN5bmMpIHtcblx0XHR0cnkge1xuXHRcdFx0dXBkYXRlX2VmZmVjdChlZmZlY3QpO1xuXHRcdFx0ZWZmZWN0LmYgfD0gRUZGRUNUX1JBTjtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRkZXN0cm95X2VmZmVjdChlZmZlY3QpO1xuXHRcdFx0dGhyb3cgZTtcblx0XHR9XG5cdH0gZWxzZSBpZiAoZm4gIT09IG51bGwpIHtcblx0XHRzY2hlZHVsZV9lZmZlY3QoZWZmZWN0KTtcblx0fVxuXG5cdC8qKiBAdHlwZSB7RWZmZWN0IHwgbnVsbH0gKi9cblx0dmFyIGUgPSBlZmZlY3Q7XG5cblx0Ly8gaWYgYW4gZWZmZWN0IGhhcyBhbHJlYWR5IHJhbiBhbmQgZG9lc24ndCBuZWVkIHRvIGJlIGtlcHQgaW4gdGhlIHRyZWVcblx0Ly8gKGJlY2F1c2UgaXQgd29uJ3QgcmUtcnVuLCBoYXMgbm8gRE9NLCBhbmQgaGFzIG5vIHRlYXJkb3duIGV0Yylcblx0Ly8gdGhlbiB3ZSBza2lwIGl0IGFuZCBnbyB0byBpdHMgY2hpbGQgKGlmIGFueSlcblx0aWYgKFxuXHRcdHN5bmMgJiZcblx0XHRlLmRlcHMgPT09IG51bGwgJiZcblx0XHRlLnRlYXJkb3duID09PSBudWxsICYmXG5cdFx0ZS5ub2RlcyA9PT0gbnVsbCAmJlxuXHRcdGUuZmlyc3QgPT09IGUubGFzdCAmJiAvLyBlaXRoZXIgYG51bGxgLCBvciBhIHNpbmd1bGFyIGNoaWxkXG5cdFx0KGUuZiAmIEVGRkVDVF9QUkVTRVJWRUQpID09PSAwXG5cdCkge1xuXHRcdGUgPSBlLmZpcnN0O1xuXHRcdGlmICgodHlwZSAmIEJMT0NLX0VGRkVDVCkgIT09IDAgJiYgKHR5cGUgJiBFRkZFQ1RfVFJBTlNQQVJFTlQpICE9PSAwICYmIGUgIT09IG51bGwpIHtcblx0XHRcdGUuZiB8PSBFRkZFQ1RfVFJBTlNQQVJFTlQ7XG5cdFx0fVxuXHR9XG5cblx0aWYgKGUgIT09IG51bGwpIHtcblx0XHRlLnBhcmVudCA9IHBhcmVudDtcblxuXHRcdGlmIChwYXJlbnQgIT09IG51bGwpIHtcblx0XHRcdHB1c2hfZWZmZWN0KGUsIHBhcmVudCk7XG5cdFx0fVxuXG5cdFx0Ly8gaWYgd2UncmUgaW4gYSBkZXJpdmVkLCBhZGQgdGhlIGVmZmVjdCB0aGVyZSB0b29cblx0XHRpZiAoXG5cdFx0XHRhY3RpdmVfcmVhY3Rpb24gIT09IG51bGwgJiZcblx0XHRcdChhY3RpdmVfcmVhY3Rpb24uZiAmIERFUklWRUQpICE9PSAwICYmXG5cdFx0XHQodHlwZSAmIFJPT1RfRUZGRUNUKSA9PT0gMFxuXHRcdCkge1xuXHRcdFx0dmFyIGRlcml2ZWQgPSAvKiogQHR5cGUge0Rlcml2ZWR9ICovIChhY3RpdmVfcmVhY3Rpb24pO1xuXHRcdFx0KGRlcml2ZWQuZWZmZWN0cyA/Pz0gW10pLnB1c2goZSk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGVmZmVjdDtcbn1cblxuLyoqXG4gKiBJbnRlcm5hbCByZXByZXNlbnRhdGlvbiBvZiBgJGVmZmVjdC50cmFja2luZygpYFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlZmZlY3RfdHJhY2tpbmcoKSB7XG5cdHJldHVybiBhY3RpdmVfcmVhY3Rpb24gIT09IG51bGwgJiYgIXVudHJhY2tpbmc7XG59XG5cbi8qKlxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBmblxuICovXG5leHBvcnQgZnVuY3Rpb24gdGVhcmRvd24oZm4pIHtcblx0Y29uc3QgZWZmZWN0ID0gY3JlYXRlX2VmZmVjdChSRU5ERVJfRUZGRUNULCBudWxsLCBmYWxzZSk7XG5cdHNldF9zaWduYWxfc3RhdHVzKGVmZmVjdCwgQ0xFQU4pO1xuXHRlZmZlY3QudGVhcmRvd24gPSBmbjtcblx0cmV0dXJuIGVmZmVjdDtcbn1cblxuLyoqXG4gKiBJbnRlcm5hbCByZXByZXNlbnRhdGlvbiBvZiBgJGVmZmVjdCguLi4pYFxuICogQHBhcmFtIHsoKSA9PiB2b2lkIHwgKCgpID0+IHZvaWQpfSBmblxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlcl9lZmZlY3QoZm4pIHtcblx0dmFsaWRhdGVfZWZmZWN0KCckZWZmZWN0Jyk7XG5cblx0aWYgKERFVikge1xuXHRcdGRlZmluZV9wcm9wZXJ0eShmbiwgJ25hbWUnLCB7XG5cdFx0XHR2YWx1ZTogJyRlZmZlY3QnXG5cdFx0fSk7XG5cdH1cblxuXHQvLyBOb24tbmVzdGVkIGAkZWZmZWN0KC4uLilgIGluIGEgY29tcG9uZW50IHNob3VsZCBiZSBkZWZlcnJlZFxuXHQvLyB1bnRpbCB0aGUgY29tcG9uZW50IGlzIG1vdW50ZWRcblx0dmFyIGZsYWdzID0gLyoqIEB0eXBlIHtFZmZlY3R9ICovIChhY3RpdmVfZWZmZWN0KS5mO1xuXHR2YXIgZGVmZXIgPSAhYWN0aXZlX3JlYWN0aW9uICYmIChmbGFncyAmIEJSQU5DSF9FRkZFQ1QpICE9PSAwICYmIChmbGFncyAmIEVGRkVDVF9SQU4pID09PSAwO1xuXG5cdGlmIChkZWZlcikge1xuXHRcdC8vIFRvcC1sZXZlbCBgJGVmZmVjdCguLi4pYCBpbiBhbiB1bm1vdW50ZWQgY29tcG9uZW50IOKAlCBkZWZlciB1bnRpbCBtb3VudFxuXHRcdHZhciBjb250ZXh0ID0gLyoqIEB0eXBlIHtDb21wb25lbnRDb250ZXh0fSAqLyAoY29tcG9uZW50X2NvbnRleHQpO1xuXHRcdChjb250ZXh0LmUgPz89IFtdKS5wdXNoKGZuKTtcblx0fSBlbHNlIHtcblx0XHQvLyBFdmVyeXRoaW5nIGVsc2Ug4oCUIGNyZWF0ZSBpbW1lZGlhdGVseVxuXHRcdHJldHVybiBjcmVhdGVfdXNlcl9lZmZlY3QoZm4pO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHsoKSA9PiB2b2lkIHwgKCgpID0+IHZvaWQpfSBmblxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX3VzZXJfZWZmZWN0KGZuKSB7XG5cdHJldHVybiBjcmVhdGVfZWZmZWN0KEVGRkVDVCB8IFVTRVJfRUZGRUNULCBmbiwgZmFsc2UpO1xufVxuXG4vKipcbiAqIEludGVybmFsIHJlcHJlc2VudGF0aW9uIG9mIGAkZWZmZWN0LnByZSguLi4pYFxuICogQHBhcmFtIHsoKSA9PiB2b2lkIHwgKCgpID0+IHZvaWQpfSBmblxuICogQHJldHVybnMge0VmZmVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZXJfcHJlX2VmZmVjdChmbikge1xuXHR2YWxpZGF0ZV9lZmZlY3QoJyRlZmZlY3QucHJlJyk7XG5cdGlmIChERVYpIHtcblx0XHRkZWZpbmVfcHJvcGVydHkoZm4sICduYW1lJywge1xuXHRcdFx0dmFsdWU6ICckZWZmZWN0LnByZSdcblx0XHR9KTtcblx0fVxuXHRyZXR1cm4gY3JlYXRlX2VmZmVjdChSRU5ERVJfRUZGRUNUIHwgVVNFUl9FRkZFQ1QsIGZuLCB0cnVlKTtcbn1cblxuLyoqIEBwYXJhbSB7KCkgPT4gdm9pZCB8ICgoKSA9PiB2b2lkKX0gZm4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlYWdlcl9lZmZlY3QoZm4pIHtcblx0cmV0dXJuIGNyZWF0ZV9lZmZlY3QoRUFHRVJfRUZGRUNULCBmbiwgdHJ1ZSk7XG59XG5cbi8qKlxuICogSW50ZXJuYWwgcmVwcmVzZW50YXRpb24gb2YgYCRlZmZlY3Qucm9vdCguLi4pYFxuICogQHBhcmFtIHsoKSA9PiB2b2lkIHwgKCgpID0+IHZvaWQpfSBmblxuICogQHJldHVybnMgeygpID0+IHZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlZmZlY3Rfcm9vdChmbikge1xuXHRCYXRjaC5lbnN1cmUoKTtcblx0Y29uc3QgZWZmZWN0ID0gY3JlYXRlX2VmZmVjdChST09UX0VGRkVDVCB8IEVGRkVDVF9QUkVTRVJWRUQsIGZuLCB0cnVlKTtcblxuXHRyZXR1cm4gKCkgPT4ge1xuXHRcdGRlc3Ryb3lfZWZmZWN0KGVmZmVjdCk7XG5cdH07XG59XG5cbi8qKlxuICogQW4gZWZmZWN0IHJvb3Qgd2hvc2UgY2hpbGRyZW4gY2FuIHRyYW5zaXRpb24gb3V0XG4gKiBAcGFyYW0geygpID0+IHZvaWR9IGZuXG4gKiBAcmV0dXJucyB7KG9wdGlvbnM/OiB7IG91dHJvPzogYm9vbGVhbiB9KSA9PiBQcm9taXNlPHZvaWQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcG9uZW50X3Jvb3QoZm4pIHtcblx0QmF0Y2guZW5zdXJlKCk7XG5cdGNvbnN0IGVmZmVjdCA9IGNyZWF0ZV9lZmZlY3QoUk9PVF9FRkZFQ1QgfCBFRkZFQ1RfUFJFU0VSVkVELCBmbiwgdHJ1ZSk7XG5cblx0cmV0dXJuIChvcHRpb25zID0ge30pID0+IHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKGZ1bGZpbCkgPT4ge1xuXHRcdFx0aWYgKG9wdGlvbnMub3V0cm8pIHtcblx0XHRcdFx0cGF1c2VfZWZmZWN0KGVmZmVjdCwgKCkgPT4ge1xuXHRcdFx0XHRcdGRlc3Ryb3lfZWZmZWN0KGVmZmVjdCk7XG5cdFx0XHRcdFx0ZnVsZmlsKHVuZGVmaW5lZCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGVzdHJveV9lZmZlY3QoZWZmZWN0KTtcblx0XHRcdFx0ZnVsZmlsKHVuZGVmaW5lZCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHsoKSA9PiB2b2lkIHwgKCgpID0+IHZvaWQpfSBmblxuICogQHJldHVybnMge0VmZmVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVmZmVjdChmbikge1xuXHRyZXR1cm4gY3JlYXRlX2VmZmVjdChFRkZFQ1QsIGZuLCBmYWxzZSk7XG59XG5cbi8qKlxuICogSW50ZXJuYWwgcmVwcmVzZW50YXRpb24gb2YgYCQ6IC4uYFxuICogQHBhcmFtIHsoKSA9PiBhbnl9IGRlcHNcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZCB8ICgoKSA9PiB2b2lkKX0gZm5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxlZ2FjeV9wcmVfZWZmZWN0KGRlcHMsIGZuKSB7XG5cdHZhciBjb250ZXh0ID0gLyoqIEB0eXBlIHtDb21wb25lbnRDb250ZXh0TGVnYWN5fSAqLyAoY29tcG9uZW50X2NvbnRleHQpO1xuXG5cdC8qKiBAdHlwZSB7eyBlZmZlY3Q6IG51bGwgfCBFZmZlY3QsIHJhbjogYm9vbGVhbiwgZGVwczogKCkgPT4gYW55IH19ICovXG5cdHZhciB0b2tlbiA9IHsgZWZmZWN0OiBudWxsLCByYW46IGZhbHNlLCBkZXBzIH07XG5cblx0Y29udGV4dC5sLiQucHVzaCh0b2tlbik7XG5cblx0dG9rZW4uZWZmZWN0ID0gcmVuZGVyX2VmZmVjdCgoKSA9PiB7XG5cdFx0ZGVwcygpO1xuXG5cdFx0Ly8gSWYgdGhpcyBsZWdhY3kgcHJlIGVmZmVjdCBoYXMgYWxyZWFkeSBydW4gYmVmb3JlIHRoZSBlbmQgb2YgdGhlIHJlc2V0LCB0aGVuXG5cdFx0Ly8gYmFpbCBvdXQgdG8gZW11bGF0ZSB0aGUgc2FtZSBiZWhhdmlvci5cblx0XHRpZiAodG9rZW4ucmFuKSByZXR1cm47XG5cblx0XHR0b2tlbi5yYW4gPSB0cnVlO1xuXHRcdHVudHJhY2soZm4pO1xuXHR9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxlZ2FjeV9wcmVfZWZmZWN0X3Jlc2V0KCkge1xuXHR2YXIgY29udGV4dCA9IC8qKiBAdHlwZSB7Q29tcG9uZW50Q29udGV4dExlZ2FjeX0gKi8gKGNvbXBvbmVudF9jb250ZXh0KTtcblxuXHRyZW5kZXJfZWZmZWN0KCgpID0+IHtcblx0XHQvLyBSdW4gZGlydHkgYCQ6YCBzdGF0ZW1lbnRzXG5cdFx0Zm9yICh2YXIgdG9rZW4gb2YgY29udGV4dC5sLiQpIHtcblx0XHRcdHRva2VuLmRlcHMoKTtcblxuXHRcdFx0dmFyIGVmZmVjdCA9IHRva2VuLmVmZmVjdDtcblxuXHRcdFx0Ly8gSWYgdGhlIGVmZmVjdCBpcyBDTEVBTiwgdGhlbiBtYWtlIGl0IE1BWUJFX0RJUlRZLiBUaGlzIGVuc3VyZXMgd2UgdHJhdmVyc2UgdGhyb3VnaFxuXHRcdFx0Ly8gdGhlIGVmZmVjdHMgZGVwZW5kZW5jaWVzIGFuZCBjb3JyZWN0bHkgZW5zdXJlIGVhY2ggZGVwZW5kZW5jeSBpcyB1cC10by1kYXRlLlxuXHRcdFx0aWYgKChlZmZlY3QuZiAmIENMRUFOKSAhPT0gMCkge1xuXHRcdFx0XHRzZXRfc2lnbmFsX3N0YXR1cyhlZmZlY3QsIE1BWUJFX0RJUlRZKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGlzX2RpcnR5KGVmZmVjdCkpIHtcblx0XHRcdFx0dXBkYXRlX2VmZmVjdChlZmZlY3QpO1xuXHRcdFx0fVxuXG5cdFx0XHR0b2tlbi5yYW4gPSBmYWxzZTtcblx0XHR9XG5cdH0pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZCB8ICgoKSA9PiB2b2lkKX0gZm5cbiAqIEByZXR1cm5zIHtFZmZlY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3luY19lZmZlY3QoZm4pIHtcblx0cmV0dXJuIGNyZWF0ZV9lZmZlY3QoQVNZTkMgfCBFRkZFQ1RfUFJFU0VSVkVELCBmbiwgdHJ1ZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHsoKSA9PiB2b2lkIHwgKCgpID0+IHZvaWQpfSBmblxuICogQHJldHVybnMge0VmZmVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcl9lZmZlY3QoZm4sIGZsYWdzID0gMCkge1xuXHRyZXR1cm4gY3JlYXRlX2VmZmVjdChSRU5ERVJfRUZGRUNUIHwgZmxhZ3MsIGZuLCB0cnVlKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0geyguLi5leHByZXNzaW9uczogYW55KSA9PiB2b2lkIHwgKCgpID0+IHZvaWQpfSBmblxuICogQHBhcmFtIHtBcnJheTwoKSA9PiBhbnk+fSBzeW5jXG4gKiBAcGFyYW0ge0FycmF5PCgpID0+IFByb21pc2U8YW55Pj59IGFzeW5jXG4gKiBAcGFyYW0ge0FycmF5PFByb21pc2U8dm9pZD4+fSBibG9ja2Vyc1xuICovXG5leHBvcnQgZnVuY3Rpb24gdGVtcGxhdGVfZWZmZWN0KGZuLCBzeW5jID0gW10sIGFzeW5jID0gW10sIGJsb2NrZXJzID0gW10pIHtcblx0ZmxhdHRlbihibG9ja2Vycywgc3luYywgYXN5bmMsICh2YWx1ZXMpID0+IHtcblx0XHRjcmVhdGVfZWZmZWN0KFJFTkRFUl9FRkZFQ1QsICgpID0+IGZuKC4uLnZhbHVlcy5tYXAoZ2V0KSksIHRydWUpO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBMaWtlIGB0ZW1wbGF0ZV9lZmZlY3RgLCBidXQgd2l0aCBhbiBlZmZlY3Qgd2hpY2ggaXMgZGVmZXJyZWQgdW50aWwgdGhlIGJhdGNoIGNvbW1pdHNcbiAqIEBwYXJhbSB7KC4uLmV4cHJlc3Npb25zOiBhbnkpID0+IHZvaWQgfCAoKCkgPT4gdm9pZCl9IGZuXG4gKiBAcGFyYW0ge0FycmF5PCgpID0+IGFueT59IHN5bmNcbiAqIEBwYXJhbSB7QXJyYXk8KCkgPT4gUHJvbWlzZTxhbnk+Pn0gYXN5bmNcbiAqIEBwYXJhbSB7QXJyYXk8UHJvbWlzZTx2b2lkPj59IGJsb2NrZXJzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZlcnJlZF90ZW1wbGF0ZV9lZmZlY3QoZm4sIHN5bmMgPSBbXSwgYXN5bmMgPSBbXSwgYmxvY2tlcnMgPSBbXSkge1xuXHR2YXIgYmF0Y2ggPSAvKiogQHR5cGUge0JhdGNofSAqLyAoY3VycmVudF9iYXRjaCk7XG5cdHZhciBpc19hc3luYyA9IGFzeW5jLmxlbmd0aCA+IDAgfHwgYmxvY2tlcnMubGVuZ3RoID4gMDtcblxuXHRpZiAoaXNfYXN5bmMpIGJhdGNoLmluY3JlbWVudCh0cnVlKTtcblxuXHRmbGF0dGVuKGJsb2NrZXJzLCBzeW5jLCBhc3luYywgKHZhbHVlcykgPT4ge1xuXHRcdGNyZWF0ZV9lZmZlY3QoRUZGRUNULCAoKSA9PiBmbiguLi52YWx1ZXMubWFwKGdldCkpLCBmYWxzZSk7XG5cdFx0aWYgKGlzX2FzeW5jKSBiYXRjaC5kZWNyZW1lbnQodHJ1ZSk7XG5cdH0pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7KCgpID0+IHZvaWQpfSBmblxuICogQHBhcmFtIHtudW1iZXJ9IGZsYWdzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBibG9jayhmbiwgZmxhZ3MgPSAwKSB7XG5cdHZhciBlZmZlY3QgPSBjcmVhdGVfZWZmZWN0KEJMT0NLX0VGRkVDVCB8IGZsYWdzLCBmbiwgdHJ1ZSk7XG5cdGlmIChERVYpIHtcblx0XHRlZmZlY3QuZGV2X3N0YWNrID0gZGV2X3N0YWNrO1xuXHR9XG5cdHJldHVybiBlZmZlY3Q7XG59XG5cbi8qKlxuICogQHBhcmFtIHsoKCkgPT4gdm9pZCl9IGZuXG4gKiBAcGFyYW0ge251bWJlcn0gZmxhZ3NcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hbmFnZWQoZm4sIGZsYWdzID0gMCkge1xuXHR2YXIgZWZmZWN0ID0gY3JlYXRlX2VmZmVjdChNQU5BR0VEX0VGRkVDVCB8IGZsYWdzLCBmbiwgdHJ1ZSk7XG5cdGlmIChERVYpIHtcblx0XHRlZmZlY3QuZGV2X3N0YWNrID0gZGV2X3N0YWNrO1xuXHR9XG5cdHJldHVybiBlZmZlY3Q7XG59XG5cbi8qKlxuICogQHBhcmFtIHsoKCkgPT4gdm9pZCl9IGZuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBicmFuY2goZm4pIHtcblx0cmV0dXJuIGNyZWF0ZV9lZmZlY3QoQlJBTkNIX0VGRkVDVCB8IEVGRkVDVF9QUkVTRVJWRUQsIGZuLCB0cnVlKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VmZmVjdH0gZWZmZWN0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleGVjdXRlX2VmZmVjdF90ZWFyZG93bihlZmZlY3QpIHtcblx0dmFyIHRlYXJkb3duID0gZWZmZWN0LnRlYXJkb3duO1xuXHRpZiAodGVhcmRvd24gIT09IG51bGwpIHtcblx0XHRjb25zdCBwcmV2aW91c2x5X2Rlc3Ryb3lpbmdfZWZmZWN0ID0gaXNfZGVzdHJveWluZ19lZmZlY3Q7XG5cdFx0Y29uc3QgcHJldmlvdXNfcmVhY3Rpb24gPSBhY3RpdmVfcmVhY3Rpb247XG5cdFx0c2V0X2lzX2Rlc3Ryb3lpbmdfZWZmZWN0KHRydWUpO1xuXHRcdHNldF9hY3RpdmVfcmVhY3Rpb24obnVsbCk7XG5cdFx0dHJ5IHtcblx0XHRcdHRlYXJkb3duLmNhbGwobnVsbCk7XG5cdFx0fSBmaW5hbGx5IHtcblx0XHRcdHNldF9pc19kZXN0cm95aW5nX2VmZmVjdChwcmV2aW91c2x5X2Rlc3Ryb3lpbmdfZWZmZWN0KTtcblx0XHRcdHNldF9hY3RpdmVfcmVhY3Rpb24ocHJldmlvdXNfcmVhY3Rpb24pO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7RWZmZWN0fSBzaWduYWxcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVtb3ZlX2RvbVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXN0cm95X2VmZmVjdF9jaGlsZHJlbihzaWduYWwsIHJlbW92ZV9kb20gPSBmYWxzZSkge1xuXHR2YXIgZWZmZWN0ID0gc2lnbmFsLmZpcnN0O1xuXHRzaWduYWwuZmlyc3QgPSBzaWduYWwubGFzdCA9IG51bGw7XG5cblx0d2hpbGUgKGVmZmVjdCAhPT0gbnVsbCkge1xuXHRcdGNvbnN0IGNvbnRyb2xsZXIgPSBlZmZlY3QuYWM7XG5cblx0XHRpZiAoY29udHJvbGxlciAhPT0gbnVsbCkge1xuXHRcdFx0d2l0aG91dF9yZWFjdGl2ZV9jb250ZXh0KCgpID0+IHtcblx0XHRcdFx0Y29udHJvbGxlci5hYm9ydChTVEFMRV9SRUFDVElPTik7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHR2YXIgbmV4dCA9IGVmZmVjdC5uZXh0O1xuXG5cdFx0aWYgKChlZmZlY3QuZiAmIFJPT1RfRUZGRUNUKSAhPT0gMCkge1xuXHRcdFx0Ly8gdGhpcyBpcyBub3cgYW4gaW5kZXBlbmRlbnQgcm9vdFxuXHRcdFx0ZWZmZWN0LnBhcmVudCA9IG51bGw7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRlc3Ryb3lfZWZmZWN0KGVmZmVjdCwgcmVtb3ZlX2RvbSk7XG5cdFx0fVxuXG5cdFx0ZWZmZWN0ID0gbmV4dDtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7RWZmZWN0fSBzaWduYWxcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVzdHJveV9ibG9ja19lZmZlY3RfY2hpbGRyZW4oc2lnbmFsKSB7XG5cdHZhciBlZmZlY3QgPSBzaWduYWwuZmlyc3Q7XG5cblx0d2hpbGUgKGVmZmVjdCAhPT0gbnVsbCkge1xuXHRcdHZhciBuZXh0ID0gZWZmZWN0Lm5leHQ7XG5cdFx0aWYgKChlZmZlY3QuZiAmIEJSQU5DSF9FRkZFQ1QpID09PSAwKSB7XG5cdFx0XHRkZXN0cm95X2VmZmVjdChlZmZlY3QpO1xuXHRcdH1cblx0XHRlZmZlY3QgPSBuZXh0O1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtFZmZlY3R9IGVmZmVjdFxuICogQHBhcmFtIHtib29sZWFufSBbcmVtb3ZlX2RvbV1cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVzdHJveV9lZmZlY3QoZWZmZWN0LCByZW1vdmVfZG9tID0gdHJ1ZSkge1xuXHR2YXIgcmVtb3ZlZCA9IGZhbHNlO1xuXG5cdGlmIChcblx0XHQocmVtb3ZlX2RvbSB8fCAoZWZmZWN0LmYgJiBIRUFEX0VGRkVDVCkgIT09IDApICYmXG5cdFx0ZWZmZWN0Lm5vZGVzICE9PSBudWxsICYmXG5cdFx0ZWZmZWN0Lm5vZGVzLmVuZCAhPT0gbnVsbFxuXHQpIHtcblx0XHRyZW1vdmVfZWZmZWN0X2RvbShlZmZlY3Qubm9kZXMuc3RhcnQsIC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqLyAoZWZmZWN0Lm5vZGVzLmVuZCkpO1xuXHRcdHJlbW92ZWQgPSB0cnVlO1xuXHR9XG5cblx0ZGVzdHJveV9lZmZlY3RfY2hpbGRyZW4oZWZmZWN0LCByZW1vdmVfZG9tICYmICFyZW1vdmVkKTtcblx0cmVtb3ZlX3JlYWN0aW9ucyhlZmZlY3QsIDApO1xuXHRzZXRfc2lnbmFsX3N0YXR1cyhlZmZlY3QsIERFU1RST1lFRCk7XG5cblx0dmFyIHRyYW5zaXRpb25zID0gZWZmZWN0Lm5vZGVzICYmIGVmZmVjdC5ub2Rlcy50O1xuXG5cdGlmICh0cmFuc2l0aW9ucyAhPT0gbnVsbCkge1xuXHRcdGZvciAoY29uc3QgdHJhbnNpdGlvbiBvZiB0cmFuc2l0aW9ucykge1xuXHRcdFx0dHJhbnNpdGlvbi5zdG9wKCk7XG5cdFx0fVxuXHR9XG5cblx0ZXhlY3V0ZV9lZmZlY3RfdGVhcmRvd24oZWZmZWN0KTtcblxuXHR2YXIgcGFyZW50ID0gZWZmZWN0LnBhcmVudDtcblxuXHQvLyBJZiB0aGUgcGFyZW50IGRvZXNuJ3QgaGF2ZSBhbnkgY2hpbGRyZW4sIHRoZW4gc2tpcCB0aGlzIHdvcmsgYWx0b2dldGhlclxuXHRpZiAocGFyZW50ICE9PSBudWxsICYmIHBhcmVudC5maXJzdCAhPT0gbnVsbCkge1xuXHRcdHVubGlua19lZmZlY3QoZWZmZWN0KTtcblx0fVxuXG5cdGlmIChERVYpIHtcblx0XHRlZmZlY3QuY29tcG9uZW50X2Z1bmN0aW9uID0gbnVsbDtcblx0fVxuXG5cdC8vIGBmaXJzdGAgYW5kIGBjaGlsZGAgYXJlIG51bGxlZCBvdXQgaW4gZGVzdHJveV9lZmZlY3RfY2hpbGRyZW5cblx0Ly8gd2UgZG9uJ3QgbnVsbCBvdXQgYHBhcmVudGAgc28gdGhhdCBlcnJvciBwcm9wYWdhdGlvbiBjYW4gd29yayBjb3JyZWN0bHlcblx0ZWZmZWN0Lm5leHQgPVxuXHRcdGVmZmVjdC5wcmV2ID1cblx0XHRlZmZlY3QudGVhcmRvd24gPVxuXHRcdGVmZmVjdC5jdHggPVxuXHRcdGVmZmVjdC5kZXBzID1cblx0XHRlZmZlY3QuZm4gPVxuXHRcdGVmZmVjdC5ub2RlcyA9XG5cdFx0ZWZmZWN0LmFjID1cblx0XHRcdG51bGw7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7VGVtcGxhdGVOb2RlIHwgbnVsbH0gbm9kZVxuICogQHBhcmFtIHtUZW1wbGF0ZU5vZGV9IGVuZFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlX2VmZmVjdF9kb20obm9kZSwgZW5kKSB7XG5cdHdoaWxlIChub2RlICE9PSBudWxsKSB7XG5cdFx0LyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGUgfCBudWxsfSAqL1xuXHRcdHZhciBuZXh0ID0gbm9kZSA9PT0gZW5kID8gbnVsbCA6IGdldF9uZXh0X3NpYmxpbmcobm9kZSk7XG5cblx0XHRub2RlLnJlbW92ZSgpO1xuXHRcdG5vZGUgPSBuZXh0O1xuXHR9XG59XG5cbi8qKlxuICogRGV0YWNoIGFuIGVmZmVjdCBmcm9tIHRoZSBlZmZlY3QgdHJlZSwgZnJlZWluZyB1cCBtZW1vcnkgYW5kXG4gKiByZWR1Y2luZyB0aGUgYW1vdW50IG9mIHdvcmsgdGhhdCBoYXBwZW5zIG9uIHN1YnNlcXVlbnQgdHJhdmVyc2Fsc1xuICogQHBhcmFtIHtFZmZlY3R9IGVmZmVjdFxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5saW5rX2VmZmVjdChlZmZlY3QpIHtcblx0dmFyIHBhcmVudCA9IGVmZmVjdC5wYXJlbnQ7XG5cdHZhciBwcmV2ID0gZWZmZWN0LnByZXY7XG5cdHZhciBuZXh0ID0gZWZmZWN0Lm5leHQ7XG5cblx0aWYgKHByZXYgIT09IG51bGwpIHByZXYubmV4dCA9IG5leHQ7XG5cdGlmIChuZXh0ICE9PSBudWxsKSBuZXh0LnByZXYgPSBwcmV2O1xuXG5cdGlmIChwYXJlbnQgIT09IG51bGwpIHtcblx0XHRpZiAocGFyZW50LmZpcnN0ID09PSBlZmZlY3QpIHBhcmVudC5maXJzdCA9IG5leHQ7XG5cdFx0aWYgKHBhcmVudC5sYXN0ID09PSBlZmZlY3QpIHBhcmVudC5sYXN0ID0gcHJldjtcblx0fVxufVxuXG4vKipcbiAqIFdoZW4gYSBibG9jayBlZmZlY3QgaXMgcmVtb3ZlZCwgd2UgZG9uJ3QgaW1tZWRpYXRlbHkgZGVzdHJveSBpdCBvciB5YW5rIGl0XG4gKiBvdXQgb2YgdGhlIERPTSwgYmVjYXVzZSBpdCBtaWdodCBoYXZlIHRyYW5zaXRpb25zLiBJbnN0ZWFkLCB3ZSAncGF1c2UnIGl0LlxuICogSXQgc3RheXMgYXJvdW5kIChpbiBtZW1vcnksIGFuZCBpbiB0aGUgRE9NKSB1bnRpbCBvdXRybyB0cmFuc2l0aW9ucyBoYXZlXG4gKiBjb21wbGV0ZWQsIGFuZCBpZiB0aGUgc3RhdGUgY2hhbmdlIGlzIHJldmVyc2VkIHRoZW4gd2UgX3Jlc3VtZV8gaXQuXG4gKiBBIHBhdXNlZCBlZmZlY3QgZG9lcyBub3QgdXBkYXRlLCBhbmQgdGhlIERPTSBzdWJ0cmVlIGJlY29tZXMgaW5lcnQuXG4gKiBAcGFyYW0ge0VmZmVjdH0gZWZmZWN0XG4gKiBAcGFyYW0geygpID0+IHZvaWR9IFtjYWxsYmFja11cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Rlc3Ryb3ldXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXVzZV9lZmZlY3QoZWZmZWN0LCBjYWxsYmFjaywgZGVzdHJveSA9IHRydWUpIHtcblx0LyoqIEB0eXBlIHtUcmFuc2l0aW9uTWFuYWdlcltdfSAqL1xuXHR2YXIgdHJhbnNpdGlvbnMgPSBbXTtcblxuXHRwYXVzZV9jaGlsZHJlbihlZmZlY3QsIHRyYW5zaXRpb25zLCB0cnVlKTtcblxuXHR2YXIgZm4gPSAoKSA9PiB7XG5cdFx0aWYgKGRlc3Ryb3kpIGRlc3Ryb3lfZWZmZWN0KGVmZmVjdCk7XG5cdFx0aWYgKGNhbGxiYWNrKSBjYWxsYmFjaygpO1xuXHR9O1xuXG5cdHZhciByZW1haW5pbmcgPSB0cmFuc2l0aW9ucy5sZW5ndGg7XG5cdGlmIChyZW1haW5pbmcgPiAwKSB7XG5cdFx0dmFyIGNoZWNrID0gKCkgPT4gLS1yZW1haW5pbmcgfHwgZm4oKTtcblx0XHRmb3IgKHZhciB0cmFuc2l0aW9uIG9mIHRyYW5zaXRpb25zKSB7XG5cdFx0XHR0cmFuc2l0aW9uLm91dChjaGVjayk7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdGZuKCk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VmZmVjdH0gZWZmZWN0XG4gKiBAcGFyYW0ge1RyYW5zaXRpb25NYW5hZ2VyW119IHRyYW5zaXRpb25zXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGxvY2FsXG4gKi9cbmZ1bmN0aW9uIHBhdXNlX2NoaWxkcmVuKGVmZmVjdCwgdHJhbnNpdGlvbnMsIGxvY2FsKSB7XG5cdGlmICgoZWZmZWN0LmYgJiBJTkVSVCkgIT09IDApIHJldHVybjtcblx0ZWZmZWN0LmYgXj0gSU5FUlQ7XG5cblx0dmFyIHQgPSBlZmZlY3Qubm9kZXMgJiYgZWZmZWN0Lm5vZGVzLnQ7XG5cblx0aWYgKHQgIT09IG51bGwpIHtcblx0XHRmb3IgKGNvbnN0IHRyYW5zaXRpb24gb2YgdCkge1xuXHRcdFx0aWYgKHRyYW5zaXRpb24uaXNfZ2xvYmFsIHx8IGxvY2FsKSB7XG5cdFx0XHRcdHRyYW5zaXRpb25zLnB1c2godHJhbnNpdGlvbik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0dmFyIGNoaWxkID0gZWZmZWN0LmZpcnN0O1xuXG5cdHdoaWxlIChjaGlsZCAhPT0gbnVsbCkge1xuXHRcdHZhciBzaWJsaW5nID0gY2hpbGQubmV4dDtcblx0XHR2YXIgdHJhbnNwYXJlbnQgPVxuXHRcdFx0KGNoaWxkLmYgJiBFRkZFQ1RfVFJBTlNQQVJFTlQpICE9PSAwIHx8XG5cdFx0XHQvLyBJZiB0aGlzIGlzIGEgYnJhbmNoIGVmZmVjdCB3aXRob3V0IGEgYmxvY2sgZWZmZWN0IHBhcmVudCxcblx0XHRcdC8vIGl0IG1lYW5zIHRoZSBwYXJlbnQgYmxvY2sgZWZmZWN0IHdhcyBwcnVuZWQuIEluIHRoYXQgY2FzZSxcblx0XHRcdC8vIHRyYW5zcGFyZW5jeSBpbmZvcm1hdGlvbiB3YXMgdHJhbnNmZXJyZWQgdG8gdGhlIGJyYW5jaCBlZmZlY3QuXG5cdFx0XHQoKGNoaWxkLmYgJiBCUkFOQ0hfRUZGRUNUKSAhPT0gMCAmJiAoZWZmZWN0LmYgJiBCTE9DS19FRkZFQ1QpICE9PSAwKTtcblx0XHQvLyBUT0RPIHdlIGRvbid0IG5lZWQgdG8gY2FsbCBwYXVzZV9jaGlsZHJlbiByZWN1cnNpdmVseSB3aXRoIGEgbGlua2VkIGxpc3QgaW4gcGxhY2Vcblx0XHQvLyBpdCdzIHNsaWdodGx5IG1vcmUgaW52b2x2ZWQgdGhvdWdoIGFzIHdlIGhhdmUgdG8gYWNjb3VudCBmb3IgYHRyYW5zcGFyZW50YCBjaGFuZ2luZ1xuXHRcdC8vIHRocm91Z2ggdGhlIHRyZWUuXG5cdFx0cGF1c2VfY2hpbGRyZW4oY2hpbGQsIHRyYW5zaXRpb25zLCB0cmFuc3BhcmVudCA/IGxvY2FsIDogZmFsc2UpO1xuXHRcdGNoaWxkID0gc2libGluZztcblx0fVxufVxuXG4vKipcbiAqIFRoZSBvcHBvc2l0ZSBvZiBgcGF1c2VfZWZmZWN0YC4gV2UgY2FsbCB0aGlzIGlmIChmb3IgZXhhbXBsZSlcbiAqIGB4YCBiZWNvbWVzIGZhbHN5IHRoZW4gdHJ1dGh5OiBgeyNpZiB4fS4uLnsvaWZ9YFxuICogQHBhcmFtIHtFZmZlY3R9IGVmZmVjdFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzdW1lX2VmZmVjdChlZmZlY3QpIHtcblx0cmVzdW1lX2NoaWxkcmVuKGVmZmVjdCwgdHJ1ZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFZmZlY3R9IGVmZmVjdFxuICogQHBhcmFtIHtib29sZWFufSBsb2NhbFxuICovXG5mdW5jdGlvbiByZXN1bWVfY2hpbGRyZW4oZWZmZWN0LCBsb2NhbCkge1xuXHRpZiAoKGVmZmVjdC5mICYgSU5FUlQpID09PSAwKSByZXR1cm47XG5cdGVmZmVjdC5mIF49IElORVJUO1xuXG5cdC8vIElmIGEgZGVwZW5kZW5jeSBvZiB0aGlzIGVmZmVjdCBjaGFuZ2VkIHdoaWxlIGl0IHdhcyBwYXVzZWQsXG5cdC8vIHNjaGVkdWxlIHRoZSBlZmZlY3QgdG8gdXBkYXRlLiB3ZSBkb24ndCB1c2UgYGlzX2RpcnR5YFxuXHQvLyBoZXJlIGJlY2F1c2Ugd2UgZG9uJ3Qgd2FudCB0byBlYWdlcmx5IHJlY29tcHV0ZSBhIGRlcml2ZWQgbGlrZVxuXHQvLyBgeyNpZiBmb299e2Zvby5iYXIoKX17L2lmfWAgaWYgYGZvb2AgaXMgbm93IGB1bmRlZmluZWRcblx0aWYgKChlZmZlY3QuZiAmIENMRUFOKSA9PT0gMCkge1xuXHRcdHNldF9zaWduYWxfc3RhdHVzKGVmZmVjdCwgRElSVFkpO1xuXHRcdHNjaGVkdWxlX2VmZmVjdChlZmZlY3QpO1xuXHR9XG5cblx0dmFyIGNoaWxkID0gZWZmZWN0LmZpcnN0O1xuXG5cdHdoaWxlIChjaGlsZCAhPT0gbnVsbCkge1xuXHRcdHZhciBzaWJsaW5nID0gY2hpbGQubmV4dDtcblx0XHR2YXIgdHJhbnNwYXJlbnQgPSAoY2hpbGQuZiAmIEVGRkVDVF9UUkFOU1BBUkVOVCkgIT09IDAgfHwgKGNoaWxkLmYgJiBCUkFOQ0hfRUZGRUNUKSAhPT0gMDtcblx0XHQvLyBUT0RPIHdlIGRvbid0IG5lZWQgdG8gY2FsbCByZXN1bWVfY2hpbGRyZW4gcmVjdXJzaXZlbHkgd2l0aCBhIGxpbmtlZCBsaXN0IGluIHBsYWNlXG5cdFx0Ly8gaXQncyBzbGlnaHRseSBtb3JlIGludm9sdmVkIHRob3VnaCBhcyB3ZSBoYXZlIHRvIGFjY291bnQgZm9yIGB0cmFuc3BhcmVudGAgY2hhbmdpbmdcblx0XHQvLyB0aHJvdWdoIHRoZSB0cmVlLlxuXHRcdHJlc3VtZV9jaGlsZHJlbihjaGlsZCwgdHJhbnNwYXJlbnQgPyBsb2NhbCA6IGZhbHNlKTtcblx0XHRjaGlsZCA9IHNpYmxpbmc7XG5cdH1cblxuXHR2YXIgdCA9IGVmZmVjdC5ub2RlcyAmJiBlZmZlY3Qubm9kZXMudDtcblxuXHRpZiAodCAhPT0gbnVsbCkge1xuXHRcdGZvciAoY29uc3QgdHJhbnNpdGlvbiBvZiB0KSB7XG5cdFx0XHRpZiAodHJhbnNpdGlvbi5pc19nbG9iYWwgfHwgbG9jYWwpIHtcblx0XHRcdFx0dHJhbnNpdGlvbi5pbigpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWJvcnRlZChlZmZlY3QgPSAvKiogQHR5cGUge0VmZmVjdH0gKi8gKGFjdGl2ZV9lZmZlY3QpKSB7XG5cdHJldHVybiAoZWZmZWN0LmYgJiBERVNUUk9ZRUQpICE9PSAwO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWZmZWN0fSBlZmZlY3RcbiAqIEBwYXJhbSB7RG9jdW1lbnRGcmFnbWVudH0gZnJhZ21lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vdmVfZWZmZWN0KGVmZmVjdCwgZnJhZ21lbnQpIHtcblx0aWYgKCFlZmZlY3Qubm9kZXMpIHJldHVybjtcblxuXHQvKiogQHR5cGUge1RlbXBsYXRlTm9kZSB8IG51bGx9ICovXG5cdHZhciBub2RlID0gZWZmZWN0Lm5vZGVzLnN0YXJ0O1xuXHR2YXIgZW5kID0gZWZmZWN0Lm5vZGVzLmVuZDtcblxuXHR3aGlsZSAobm9kZSAhPT0gbnVsbCkge1xuXHRcdC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlIHwgbnVsbH0gKi9cblx0XHR2YXIgbmV4dCA9IG5vZGUgPT09IGVuZCA/IG51bGwgOiBnZXRfbmV4dF9zaWJsaW5nKG5vZGUpO1xuXG5cdFx0ZnJhZ21lbnQuYXBwZW5kKG5vZGUpO1xuXHRcdG5vZGUgPSBuZXh0O1xuXHR9XG59XG4iLCJjb25zdCByZWdleF9yZXR1cm5fY2hhcmFjdGVycyA9IC9cXHIvZztcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzaChzdHIpIHtcblx0c3RyID0gc3RyLnJlcGxhY2UocmVnZXhfcmV0dXJuX2NoYXJhY3RlcnMsICcnKTtcblx0bGV0IGhhc2ggPSA1MzgxO1xuXHRsZXQgaSA9IHN0ci5sZW5ndGg7XG5cblx0d2hpbGUgKGktLSkgaGFzaCA9ICgoaGFzaCA8PCA1KSAtIGhhc2gpIF4gc3RyLmNoYXJDb2RlQXQoaSk7XG5cdHJldHVybiAoaGFzaCA+Pj4gMCkudG9TdHJpbmcoMzYpO1xufVxuXG5jb25zdCBWT0lEX0VMRU1FTlRfTkFNRVMgPSBbXG5cdCdhcmVhJyxcblx0J2Jhc2UnLFxuXHQnYnInLFxuXHQnY29sJyxcblx0J2NvbW1hbmQnLFxuXHQnZW1iZWQnLFxuXHQnaHInLFxuXHQnaW1nJyxcblx0J2lucHV0Jyxcblx0J2tleWdlbicsXG5cdCdsaW5rJyxcblx0J21ldGEnLFxuXHQncGFyYW0nLFxuXHQnc291cmNlJyxcblx0J3RyYWNrJyxcblx0J3dicidcbl07XG5cbi8qKlxuICogUmV0dXJucyBgdHJ1ZWAgaWYgYG5hbWVgIGlzIG9mIGEgdm9pZCBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNfdm9pZChuYW1lKSB7XG5cdHJldHVybiBWT0lEX0VMRU1FTlRfTkFNRVMuaW5jbHVkZXMobmFtZSkgfHwgbmFtZS50b0xvd2VyQ2FzZSgpID09PSAnIWRvY3R5cGUnO1xufVxuXG5jb25zdCBSRVNFUlZFRF9XT1JEUyA9IFtcblx0J2FyZ3VtZW50cycsXG5cdCdhd2FpdCcsXG5cdCdicmVhaycsXG5cdCdjYXNlJyxcblx0J2NhdGNoJyxcblx0J2NsYXNzJyxcblx0J2NvbnN0Jyxcblx0J2NvbnRpbnVlJyxcblx0J2RlYnVnZ2VyJyxcblx0J2RlZmF1bHQnLFxuXHQnZGVsZXRlJyxcblx0J2RvJyxcblx0J2Vsc2UnLFxuXHQnZW51bScsXG5cdCdldmFsJyxcblx0J2V4cG9ydCcsXG5cdCdleHRlbmRzJyxcblx0J2ZhbHNlJyxcblx0J2ZpbmFsbHknLFxuXHQnZm9yJyxcblx0J2Z1bmN0aW9uJyxcblx0J2lmJyxcblx0J2ltcGxlbWVudHMnLFxuXHQnaW1wb3J0Jyxcblx0J2luJyxcblx0J2luc3RhbmNlb2YnLFxuXHQnaW50ZXJmYWNlJyxcblx0J2xldCcsXG5cdCduZXcnLFxuXHQnbnVsbCcsXG5cdCdwYWNrYWdlJyxcblx0J3ByaXZhdGUnLFxuXHQncHJvdGVjdGVkJyxcblx0J3B1YmxpYycsXG5cdCdyZXR1cm4nLFxuXHQnc3RhdGljJyxcblx0J3N1cGVyJyxcblx0J3N3aXRjaCcsXG5cdCd0aGlzJyxcblx0J3Rocm93Jyxcblx0J3RydWUnLFxuXHQndHJ5Jyxcblx0J3R5cGVvZicsXG5cdCd2YXInLFxuXHQndm9pZCcsXG5cdCd3aGlsZScsXG5cdCd3aXRoJyxcblx0J3lpZWxkJ1xuXTtcblxuLyoqXG4gKiBSZXR1cm5zIGB0cnVlYCBpZiBgd29yZGAgaXMgYSByZXNlcnZlZCBKYXZhU2NyaXB0IGtleXdvcmRcbiAqIEBwYXJhbSB7c3RyaW5nfSB3b3JkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19yZXNlcnZlZCh3b3JkKSB7XG5cdHJldHVybiBSRVNFUlZFRF9XT1JEUy5pbmNsdWRlcyh3b3JkKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNfY2FwdHVyZV9ldmVudChuYW1lKSB7XG5cdHJldHVybiBuYW1lLmVuZHNXaXRoKCdjYXB0dXJlJykgJiYgbmFtZSAhPT0gJ2dvdHBvaW50ZXJjYXB0dXJlJyAmJiBuYW1lICE9PSAnbG9zdHBvaW50ZXJjYXB0dXJlJztcbn1cblxuLyoqIExpc3Qgb2YgRWxlbWVudCBldmVudHMgdGhhdCB3aWxsIGJlIGRlbGVnYXRlZCAqL1xuY29uc3QgREVMRUdBVEVEX0VWRU5UUyA9IFtcblx0J2JlZm9yZWlucHV0Jyxcblx0J2NsaWNrJyxcblx0J2NoYW5nZScsXG5cdCdkYmxjbGljaycsXG5cdCdjb250ZXh0bWVudScsXG5cdCdmb2N1c2luJyxcblx0J2ZvY3Vzb3V0Jyxcblx0J2lucHV0Jyxcblx0J2tleWRvd24nLFxuXHQna2V5dXAnLFxuXHQnbW91c2Vkb3duJyxcblx0J21vdXNlbW92ZScsXG5cdCdtb3VzZW91dCcsXG5cdCdtb3VzZW92ZXInLFxuXHQnbW91c2V1cCcsXG5cdCdwb2ludGVyZG93bicsXG5cdCdwb2ludGVybW92ZScsXG5cdCdwb2ludGVyb3V0Jyxcblx0J3BvaW50ZXJvdmVyJyxcblx0J3BvaW50ZXJ1cCcsXG5cdCd0b3VjaGVuZCcsXG5cdCd0b3VjaG1vdmUnLFxuXHQndG91Y2hzdGFydCdcbl07XG5cbi8qKlxuICogUmV0dXJucyBgdHJ1ZWAgaWYgYGV2ZW50X25hbWVgIGlzIGEgZGVsZWdhdGVkIGV2ZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRfbmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FuX2RlbGVnYXRlX2V2ZW50KGV2ZW50X25hbWUpIHtcblx0cmV0dXJuIERFTEVHQVRFRF9FVkVOVFMuaW5jbHVkZXMoZXZlbnRfbmFtZSk7XG59XG5cbi8qKlxuICogQXR0cmlidXRlcyB0aGF0IGFyZSBib29sZWFuLCBpLmUuIHRoZXkgYXJlIHByZXNlbnQgb3Igbm90IHByZXNlbnQuXG4gKi9cbmNvbnN0IERPTV9CT09MRUFOX0FUVFJJQlVURVMgPSBbXG5cdCdhbGxvd2Z1bGxzY3JlZW4nLFxuXHQnYXN5bmMnLFxuXHQnYXV0b2ZvY3VzJyxcblx0J2F1dG9wbGF5Jyxcblx0J2NoZWNrZWQnLFxuXHQnY29udHJvbHMnLFxuXHQnZGVmYXVsdCcsXG5cdCdkaXNhYmxlZCcsXG5cdCdmb3Jtbm92YWxpZGF0ZScsXG5cdCdpbmRldGVybWluYXRlJyxcblx0J2luZXJ0Jyxcblx0J2lzbWFwJyxcblx0J2xvb3AnLFxuXHQnbXVsdGlwbGUnLFxuXHQnbXV0ZWQnLFxuXHQnbm9tb2R1bGUnLFxuXHQnbm92YWxpZGF0ZScsXG5cdCdvcGVuJyxcblx0J3BsYXlzaW5saW5lJyxcblx0J3JlYWRvbmx5Jyxcblx0J3JlcXVpcmVkJyxcblx0J3JldmVyc2VkJyxcblx0J3NlYW1sZXNzJyxcblx0J3NlbGVjdGVkJyxcblx0J3dlYmtpdGRpcmVjdG9yeScsXG5cdCdkZWZlcicsXG5cdCdkaXNhYmxlcGljdHVyZWlucGljdHVyZScsXG5cdCdkaXNhYmxlcmVtb3RlcGxheWJhY2snXG5dO1xuXG4vKipcbiAqIFJldHVybnMgYHRydWVgIGlmIGBuYW1lYCBpcyBhIGJvb2xlYW4gYXR0cmlidXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNfYm9vbGVhbl9hdHRyaWJ1dGUobmFtZSkge1xuXHRyZXR1cm4gRE9NX0JPT0xFQU5fQVRUUklCVVRFUy5pbmNsdWRlcyhuYW1lKTtcbn1cblxuLyoqXG4gKiBAdHlwZSB7UmVjb3JkPHN0cmluZywgc3RyaW5nPn1cbiAqIExpc3Qgb2YgYXR0cmlidXRlIG5hbWVzIHRoYXQgc2hvdWxkIGJlIGFsaWFzZWQgdG8gdGhlaXIgcHJvcGVydHkgbmFtZXNcbiAqIGJlY2F1c2UgdGhleSBiZWhhdmUgZGlmZmVyZW50bHkgYmV0d2VlbiBzZXR0aW5nIHRoZW0gYXMgYW4gYXR0cmlidXRlIGFuZFxuICogc2V0dGluZyB0aGVtIGFzIGEgcHJvcGVydHkuXG4gKi9cbmNvbnN0IEFUVFJJQlVURV9BTElBU0VTID0ge1xuXHQvLyBubyBgY2xhc3M6ICdjbGFzc05hbWUnYCBiZWNhdXNlIHdlIGhhbmRsZSB0aGF0IHNlcGFyYXRlbHlcblx0Zm9ybW5vdmFsaWRhdGU6ICdmb3JtTm9WYWxpZGF0ZScsXG5cdGlzbWFwOiAnaXNNYXAnLFxuXHRub21vZHVsZTogJ25vTW9kdWxlJyxcblx0cGxheXNpbmxpbmU6ICdwbGF5c0lubGluZScsXG5cdHJlYWRvbmx5OiAncmVhZE9ubHknLFxuXHRkZWZhdWx0dmFsdWU6ICdkZWZhdWx0VmFsdWUnLFxuXHRkZWZhdWx0Y2hlY2tlZDogJ2RlZmF1bHRDaGVja2VkJyxcblx0c3Jjb2JqZWN0OiAnc3JjT2JqZWN0Jyxcblx0bm92YWxpZGF0ZTogJ25vVmFsaWRhdGUnLFxuXHRhbGxvd2Z1bGxzY3JlZW46ICdhbGxvd0Z1bGxzY3JlZW4nLFxuXHRkaXNhYmxlcGljdHVyZWlucGljdHVyZTogJ2Rpc2FibGVQaWN0dXJlSW5QaWN0dXJlJyxcblx0ZGlzYWJsZXJlbW90ZXBsYXliYWNrOiAnZGlzYWJsZVJlbW90ZVBsYXliYWNrJ1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplX2F0dHJpYnV0ZShuYW1lKSB7XG5cdG5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG5cdHJldHVybiBBVFRSSUJVVEVfQUxJQVNFU1tuYW1lXSA/PyBuYW1lO1xufVxuXG5jb25zdCBET01fUFJPUEVSVElFUyA9IFtcblx0Li4uRE9NX0JPT0xFQU5fQVRUUklCVVRFUyxcblx0J2Zvcm1Ob1ZhbGlkYXRlJyxcblx0J2lzTWFwJyxcblx0J25vTW9kdWxlJyxcblx0J3BsYXlzSW5saW5lJyxcblx0J3JlYWRPbmx5Jyxcblx0J3ZhbHVlJyxcblx0J3ZvbHVtZScsXG5cdCdkZWZhdWx0VmFsdWUnLFxuXHQnZGVmYXVsdENoZWNrZWQnLFxuXHQnc3JjT2JqZWN0Jyxcblx0J25vVmFsaWRhdGUnLFxuXHQnYWxsb3dGdWxsc2NyZWVuJyxcblx0J2Rpc2FibGVQaWN0dXJlSW5QaWN0dXJlJyxcblx0J2Rpc2FibGVSZW1vdGVQbGF5YmFjaydcbl07XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX2RvbV9wcm9wZXJ0eShuYW1lKSB7XG5cdHJldHVybiBET01fUFJPUEVSVElFUy5pbmNsdWRlcyhuYW1lKTtcbn1cblxuY29uc3QgTk9OX1NUQVRJQ19QUk9QRVJUSUVTID0gWydhdXRvZm9jdXMnLCAnbXV0ZWQnLCAnZGVmYXVsdFZhbHVlJywgJ2RlZmF1bHRDaGVja2VkJ107XG5cbi8qKlxuICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIGF0dHJpYnV0ZSBjYW5ub3QgYmUgc2V0IHRocm91Z2ggdGhlIHRlbXBsYXRlXG4gKiBzdHJpbmcsIGkuZS4gbmVlZHMgc29tZSBraW5kIG9mIEphdmFTY3JpcHQgaGFuZGxpbmcgdG8gd29yay5cbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYW5ub3RfYmVfc2V0X3N0YXRpY2FsbHkobmFtZSkge1xuXHRyZXR1cm4gTk9OX1NUQVRJQ19QUk9QRVJUSUVTLmluY2x1ZGVzKG5hbWUpO1xufVxuXG4vKipcbiAqIFN1YnNldCBvZiBkZWxlZ2F0ZWQgZXZlbnRzIHdoaWNoIHNob3VsZCBiZSBwYXNzaXZlIGJ5IGRlZmF1bHQuXG4gKiBUaGVzZSB0d28gYXJlIGFscmVhZHkgcGFzc2l2ZSB2aWEgYnJvd3NlciBkZWZhdWx0cyBvbiB3aW5kb3csIGRvY3VtZW50IGFuZCBib2R5LlxuICogQnV0IHNpbmNlXG4gKiAtIHdlJ3JlIGRlbGVnYXRpbmcgdGhlbVxuICogLSB0aGV5IGhhcHBlbiBvZnRlblxuICogLSB0aGV5IGFwcGx5IHRvIG1vYmlsZSB3aGljaCBpcyBnZW5lcmFsbHkgbGVzcyBwZXJmb3JtYW50XG4gKiB3ZSdyZSBtYXJraW5nIHRoZW0gYXMgcGFzc2l2ZSBieSBkZWZhdWx0IGZvciBvdGhlciBlbGVtZW50cywgdG9vLlxuICovXG5jb25zdCBQQVNTSVZFX0VWRU5UUyA9IFsndG91Y2hzdGFydCcsICd0b3VjaG1vdmUnXTtcblxuLyoqXG4gKiBSZXR1cm5zIGB0cnVlYCBpZiBgbmFtZWAgaXMgYSBwYXNzaXZlIGV2ZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNfcGFzc2l2ZV9ldmVudChuYW1lKSB7XG5cdHJldHVybiBQQVNTSVZFX0VWRU5UUy5pbmNsdWRlcyhuYW1lKTtcbn1cblxuY29uc3QgQ09OVEVOVF9FRElUQUJMRV9CSU5ESU5HUyA9IFsndGV4dENvbnRlbnQnLCAnaW5uZXJIVE1MJywgJ2lubmVyVGV4dCddO1xuXG4vKiogQHBhcmFtIHtzdHJpbmd9IG5hbWUgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19jb250ZW50X2VkaXRhYmxlX2JpbmRpbmcobmFtZSkge1xuXHRyZXR1cm4gQ09OVEVOVF9FRElUQUJMRV9CSU5ESU5HUy5pbmNsdWRlcyhuYW1lKTtcbn1cblxuY29uc3QgTE9BRF9FUlJPUl9FTEVNRU5UUyA9IFtcblx0J2JvZHknLFxuXHQnZW1iZWQnLFxuXHQnaWZyYW1lJyxcblx0J2ltZycsXG5cdCdsaW5rJyxcblx0J29iamVjdCcsXG5cdCdzY3JpcHQnLFxuXHQnc3R5bGUnLFxuXHQndHJhY2snXG5dO1xuXG4vKipcbiAqIFJldHVybnMgYHRydWVgIGlmIHRoZSBlbGVtZW50IGVtaXRzIGBsb2FkYCBhbmQgYGVycm9yYCBldmVudHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19sb2FkX2Vycm9yX2VsZW1lbnQobmFtZSkge1xuXHRyZXR1cm4gTE9BRF9FUlJPUl9FTEVNRU5UUy5pbmNsdWRlcyhuYW1lKTtcbn1cblxuY29uc3QgU1ZHX0VMRU1FTlRTID0gW1xuXHQnYWx0R2x5cGgnLFxuXHQnYWx0R2x5cGhEZWYnLFxuXHQnYWx0R2x5cGhJdGVtJyxcblx0J2FuaW1hdGUnLFxuXHQnYW5pbWF0ZUNvbG9yJyxcblx0J2FuaW1hdGVNb3Rpb24nLFxuXHQnYW5pbWF0ZVRyYW5zZm9ybScsXG5cdCdjaXJjbGUnLFxuXHQnY2xpcFBhdGgnLFxuXHQnY29sb3ItcHJvZmlsZScsXG5cdCdjdXJzb3InLFxuXHQnZGVmcycsXG5cdCdkZXNjJyxcblx0J2Rpc2NhcmQnLFxuXHQnZWxsaXBzZScsXG5cdCdmZUJsZW5kJyxcblx0J2ZlQ29sb3JNYXRyaXgnLFxuXHQnZmVDb21wb25lbnRUcmFuc2ZlcicsXG5cdCdmZUNvbXBvc2l0ZScsXG5cdCdmZUNvbnZvbHZlTWF0cml4Jyxcblx0J2ZlRGlmZnVzZUxpZ2h0aW5nJyxcblx0J2ZlRGlzcGxhY2VtZW50TWFwJyxcblx0J2ZlRGlzdGFudExpZ2h0Jyxcblx0J2ZlRHJvcFNoYWRvdycsXG5cdCdmZUZsb29kJyxcblx0J2ZlRnVuY0EnLFxuXHQnZmVGdW5jQicsXG5cdCdmZUZ1bmNHJyxcblx0J2ZlRnVuY1InLFxuXHQnZmVHYXVzc2lhbkJsdXInLFxuXHQnZmVJbWFnZScsXG5cdCdmZU1lcmdlJyxcblx0J2ZlTWVyZ2VOb2RlJyxcblx0J2ZlTW9ycGhvbG9neScsXG5cdCdmZU9mZnNldCcsXG5cdCdmZVBvaW50TGlnaHQnLFxuXHQnZmVTcGVjdWxhckxpZ2h0aW5nJyxcblx0J2ZlU3BvdExpZ2h0Jyxcblx0J2ZlVGlsZScsXG5cdCdmZVR1cmJ1bGVuY2UnLFxuXHQnZmlsdGVyJyxcblx0J2ZvbnQnLFxuXHQnZm9udC1mYWNlJyxcblx0J2ZvbnQtZmFjZS1mb3JtYXQnLFxuXHQnZm9udC1mYWNlLW5hbWUnLFxuXHQnZm9udC1mYWNlLXNyYycsXG5cdCdmb250LWZhY2UtdXJpJyxcblx0J2ZvcmVpZ25PYmplY3QnLFxuXHQnZycsXG5cdCdnbHlwaCcsXG5cdCdnbHlwaFJlZicsXG5cdCdoYXRjaCcsXG5cdCdoYXRjaHBhdGgnLFxuXHQnaGtlcm4nLFxuXHQnaW1hZ2UnLFxuXHQnbGluZScsXG5cdCdsaW5lYXJHcmFkaWVudCcsXG5cdCdtYXJrZXInLFxuXHQnbWFzaycsXG5cdCdtZXNoJyxcblx0J21lc2hncmFkaWVudCcsXG5cdCdtZXNocGF0Y2gnLFxuXHQnbWVzaHJvdycsXG5cdCdtZXRhZGF0YScsXG5cdCdtaXNzaW5nLWdseXBoJyxcblx0J21wYXRoJyxcblx0J3BhdGgnLFxuXHQncGF0dGVybicsXG5cdCdwb2x5Z29uJyxcblx0J3BvbHlsaW5lJyxcblx0J3JhZGlhbEdyYWRpZW50Jyxcblx0J3JlY3QnLFxuXHQnc2V0Jyxcblx0J3NvbGlkY29sb3InLFxuXHQnc3RvcCcsXG5cdCdzdmcnLFxuXHQnc3dpdGNoJyxcblx0J3N5bWJvbCcsXG5cdCd0ZXh0Jyxcblx0J3RleHRQYXRoJyxcblx0J3RyZWYnLFxuXHQndHNwYW4nLFxuXHQndW5rbm93bicsXG5cdCd1c2UnLFxuXHQndmlldycsXG5cdCd2a2Vybidcbl07XG5cbi8qKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX3N2ZyhuYW1lKSB7XG5cdHJldHVybiBTVkdfRUxFTUVOVFMuaW5jbHVkZXMobmFtZSk7XG59XG5cbmNvbnN0IE1BVEhNTF9FTEVNRU5UUyA9IFtcblx0J2Fubm90YXRpb24nLFxuXHQnYW5ub3RhdGlvbi14bWwnLFxuXHQnbWFjdGlvbicsXG5cdCdtYXRoJyxcblx0J21lcnJvcicsXG5cdCdtZnJhYycsXG5cdCdtaScsXG5cdCdtbXVsdGlzY3JpcHRzJyxcblx0J21uJyxcblx0J21vJyxcblx0J21vdmVyJyxcblx0J21wYWRkZWQnLFxuXHQnbXBoYW50b20nLFxuXHQnbXByZXNjcmlwdHMnLFxuXHQnbXJvb3QnLFxuXHQnbXJvdycsXG5cdCdtcycsXG5cdCdtc3BhY2UnLFxuXHQnbXNxcnQnLFxuXHQnbXN0eWxlJyxcblx0J21zdWInLFxuXHQnbXN1YnN1cCcsXG5cdCdtc3VwJyxcblx0J210YWJsZScsXG5cdCdtdGQnLFxuXHQnbXRleHQnLFxuXHQnbXRyJyxcblx0J211bmRlcicsXG5cdCdtdW5kZXJvdmVyJyxcblx0J3NlbWFudGljcydcbl07XG5cbi8qKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX21hdGhtbChuYW1lKSB7XG5cdHJldHVybiBNQVRITUxfRUxFTUVOVFMuaW5jbHVkZXMobmFtZSk7XG59XG5cbmNvbnN0IFNUQVRFX0NSRUFUSU9OX1JVTkVTID0gLyoqIEB0eXBlIHtjb25zdH0gKi8gKFtcblx0JyRzdGF0ZScsXG5cdCckc3RhdGUucmF3Jyxcblx0JyRkZXJpdmVkJyxcblx0JyRkZXJpdmVkLmJ5J1xuXSk7XG5cbmNvbnN0IFJVTkVTID0gLyoqIEB0eXBlIHtjb25zdH0gKi8gKFtcblx0Li4uU1RBVEVfQ1JFQVRJT05fUlVORVMsXG5cdCckc3RhdGUuZWFnZXInLFxuXHQnJHN0YXRlLnNuYXBzaG90Jyxcblx0JyRwcm9wcycsXG5cdCckcHJvcHMuaWQnLFxuXHQnJGJpbmRhYmxlJyxcblx0JyRlZmZlY3QnLFxuXHQnJGVmZmVjdC5wcmUnLFxuXHQnJGVmZmVjdC50cmFja2luZycsXG5cdCckZWZmZWN0LnJvb3QnLFxuXHQnJGVmZmVjdC5wZW5kaW5nJyxcblx0JyRpbnNwZWN0Jyxcblx0JyRpbnNwZWN0KCkud2l0aCcsXG5cdCckaW5zcGVjdC50cmFjZScsXG5cdCckaG9zdCdcbl0pO1xuXG4vKiogQHR5cGVkZWYge3R5cGVvZiBSVU5FU1tudW1iZXJdfSBSdW5lTmFtZSAqL1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcmV0dXJucyB7bmFtZSBpcyBSdW5lTmFtZX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX3J1bmUobmFtZSkge1xuXHRyZXR1cm4gUlVORVMuaW5jbHVkZXMoLyoqIEB0eXBlIHtSdW5lTmFtZX0gKi8gKG5hbWUpKTtcbn1cblxuLyoqIEB0eXBlZGVmIHt0eXBlb2YgU1RBVEVfQ1JFQVRJT05fUlVORVNbbnVtYmVyXX0gU3RhdGVDcmVhdGlvblJ1bmVOYW1lICovXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEByZXR1cm5zIHtuYW1lIGlzIFN0YXRlQ3JlYXRpb25SdW5lTmFtZX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX3N0YXRlX2NyZWF0aW9uX3J1bmUobmFtZSkge1xuXHRyZXR1cm4gU1RBVEVfQ1JFQVRJT05fUlVORVMuaW5jbHVkZXMoLyoqIEB0eXBlIHtTdGF0ZUNyZWF0aW9uUnVuZU5hbWV9ICovIChuYW1lKSk7XG59XG5cbi8qKiBMaXN0IG9mIGVsZW1lbnRzIHRoYXQgcmVxdWlyZSByYXcgY29udGVudHMgYW5kIHNob3VsZCBub3QgaGF2ZSBTU1IgY29tbWVudHMgcHV0IGluIHRoZW0gKi9cbmNvbnN0IFJBV19URVhUX0VMRU1FTlRTID0gLyoqIEB0eXBlIHtjb25zdH0gKi8gKFsndGV4dGFyZWEnLCAnc2NyaXB0JywgJ3N0eWxlJywgJ3RpdGxlJ10pO1xuXG4vKiogQHBhcmFtIHtzdHJpbmd9IG5hbWUgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19yYXdfdGV4dF9lbGVtZW50KG5hbWUpIHtcblx0cmV0dXJuIFJBV19URVhUX0VMRU1FTlRTLmluY2x1ZGVzKC8qKiBAdHlwZSB7dHlwZW9mIFJBV19URVhUX0VMRU1FTlRTW251bWJlcl19ICovIChuYW1lKSk7XG59XG5cbi8qKlxuICogUHJldmVudCBkZXZ0b29scyB0cnlpbmcgdG8gbWFrZSBgbG9jYXRpb25gIGEgY2xpY2thYmxlIGxpbmsgYnkgaW5zZXJ0aW5nIGEgemVyby13aWR0aCBzcGFjZVxuICogQHRlbXBsYXRlIHtzdHJpbmcgfCB1bmRlZmluZWR9IFRcbiAqIEBwYXJhbSB7VH0gbG9jYXRpb25cbiAqIEByZXR1cm5zIHtUfTtcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhbml0aXplX2xvY2F0aW9uKGxvY2F0aW9uKSB7XG5cdHJldHVybiAvKiogQHR5cGUge1R9ICovIChsb2NhdGlvbj8ucmVwbGFjZSgvXFwvL2csICcvXFx1MjAwYicpKTtcbn1cbiIsImltcG9ydCB7IHRlYXJkb3duIH0gZnJvbSAnLi4vLi4vcmVhY3Rpdml0eS9lZmZlY3RzLmpzJztcbmltcG9ydCB7IGRlZmluZV9wcm9wZXJ0eSB9IGZyb20gJy4uLy4uLy4uL3NoYXJlZC91dGlscy5qcyc7XG5pbXBvcnQgeyBoeWRyYXRpbmcgfSBmcm9tICcuLi9oeWRyYXRpb24uanMnO1xuaW1wb3J0IHsgcXVldWVfbWljcm9fdGFzayB9IGZyb20gJy4uL3Rhc2suanMnO1xuaW1wb3J0IHsgRklMRU5BTUUgfSBmcm9tICcuLi8uLi8uLi8uLi9jb25zdGFudHMuanMnO1xuaW1wb3J0ICogYXMgdyBmcm9tICcuLi8uLi93YXJuaW5ncy5qcyc7XG5pbXBvcnQge1xuXHRhY3RpdmVfZWZmZWN0LFxuXHRhY3RpdmVfcmVhY3Rpb24sXG5cdHNldF9hY3RpdmVfZWZmZWN0LFxuXHRzZXRfYWN0aXZlX3JlYWN0aW9uXG59IGZyb20gJy4uLy4uL3J1bnRpbWUuanMnO1xuaW1wb3J0IHsgd2l0aG91dF9yZWFjdGl2ZV9jb250ZXh0IH0gZnJvbSAnLi9iaW5kaW5ncy9zaGFyZWQuanMnO1xuXG4vKiogQHR5cGUge1NldDxzdHJpbmc+fSAqL1xuZXhwb3J0IGNvbnN0IGFsbF9yZWdpc3RlcmVkX2V2ZW50cyA9IG5ldyBTZXQoKTtcblxuLyoqIEB0eXBlIHtTZXQ8KGV2ZW50czogQXJyYXk8c3RyaW5nPikgPT4gdm9pZD59ICovXG5leHBvcnQgY29uc3Qgcm9vdF9ldmVudF9oYW5kbGVzID0gbmV3IFNldCgpO1xuXG4vKipcbiAqIFNTUiBhZGRzIG9ubG9hZCBhbmQgb25lcnJvciBhdHRyaWJ1dGVzIHRvIGNhdGNoIHRob3NlIGV2ZW50cyBiZWZvcmUgdGhlIGh5ZHJhdGlvbi5cbiAqIFRoaXMgZnVuY3Rpb24gZGV0ZWN0cyB0aG9zZSBjYXNlcywgcmVtb3ZlcyB0aGUgYXR0cmlidXRlcyBhbmQgcmVwbGF5cyB0aGUgZXZlbnRzLlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZG9tXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXBsYXlfZXZlbnRzKGRvbSkge1xuXHRpZiAoIWh5ZHJhdGluZykgcmV0dXJuO1xuXG5cdGRvbS5yZW1vdmVBdHRyaWJ1dGUoJ29ubG9hZCcpO1xuXHRkb20ucmVtb3ZlQXR0cmlidXRlKCdvbmVycm9yJyk7XG5cdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0Y29uc3QgZXZlbnQgPSBkb20uX19lO1xuXHRpZiAoZXZlbnQgIT09IHVuZGVmaW5lZCkge1xuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRkb20uX19lID0gdW5kZWZpbmVkO1xuXHRcdHF1ZXVlTWljcm90YXNrKCgpID0+IHtcblx0XHRcdGlmIChkb20uaXNDb25uZWN0ZWQpIHtcblx0XHRcdFx0ZG9tLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50X25hbWVcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IGRvbVxuICogQHBhcmFtIHtFdmVudExpc3RlbmVyfSBbaGFuZGxlcl1cbiAqIEBwYXJhbSB7QWRkRXZlbnRMaXN0ZW5lck9wdGlvbnN9IFtvcHRpb25zXVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX2V2ZW50KGV2ZW50X25hbWUsIGRvbSwgaGFuZGxlciwgb3B0aW9ucyA9IHt9KSB7XG5cdC8qKlxuXHQgKiBAdGhpcyB7RXZlbnRUYXJnZXR9XG5cdCAqL1xuXHRmdW5jdGlvbiB0YXJnZXRfaGFuZGxlcigvKiogQHR5cGUge0V2ZW50fSAqLyBldmVudCkge1xuXHRcdGlmICghb3B0aW9ucy5jYXB0dXJlKSB7XG5cdFx0XHQvLyBPbmx5IGNhbGwgaW4gdGhlIGJ1YmJsZSBwaGFzZSwgZWxzZSBkZWxlZ2F0ZWQgZXZlbnRzIHdvdWxkIGJlIGNhbGxlZCBiZWZvcmUgdGhlIGNhcHR1cmluZyBldmVudHNcblx0XHRcdGhhbmRsZV9ldmVudF9wcm9wYWdhdGlvbi5jYWxsKGRvbSwgZXZlbnQpO1xuXHRcdH1cblx0XHRpZiAoIWV2ZW50LmNhbmNlbEJ1YmJsZSkge1xuXHRcdFx0cmV0dXJuIHdpdGhvdXRfcmVhY3RpdmVfY29udGV4dCgoKSA9PiB7XG5cdFx0XHRcdHJldHVybiBoYW5kbGVyPy5jYWxsKHRoaXMsIGV2ZW50KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdC8vIENocm9tZSBoYXMgYSBidWcgd2hlcmUgcG9pbnRlciBldmVudHMgZG9uJ3Qgd29yayB3aGVuIGF0dGFjaGVkIHRvIGEgRE9NIGVsZW1lbnQgdGhhdCBoYXMgYmVlbiBjbG9uZWRcblx0Ly8gd2l0aCBjbG9uZU5vZGUoKSBhbmQgdGhlIERPTSBlbGVtZW50IGlzIGRpc2Nvbm5lY3RlZCBmcm9tIHRoZSBkb2N1bWVudC4gVG8gZW5zdXJlIHRoZSBldmVudCB3b3Jrcywgd2Vcblx0Ly8gZGVmZXIgdGhlIGF0dGFjaG1lbnQgdGlsbCBhZnRlciBpdCdzIGJlZW4gYXBwZW5kZWQgdG8gdGhlIGRvY3VtZW50LiBUT0RPOiByZW1vdmUgdGhpcyBvbmNlIENocm9tZSBmaXhlc1xuXHQvLyB0aGlzIGJ1Zy4gVGhlIHNhbWUgYXBwbGllcyB0byB3aGVlbCBldmVudHMgYW5kIHRvdWNoIGV2ZW50cy5cblx0aWYgKFxuXHRcdGV2ZW50X25hbWUuc3RhcnRzV2l0aCgncG9pbnRlcicpIHx8XG5cdFx0ZXZlbnRfbmFtZS5zdGFydHNXaXRoKCd0b3VjaCcpIHx8XG5cdFx0ZXZlbnRfbmFtZSA9PT0gJ3doZWVsJ1xuXHQpIHtcblx0XHRxdWV1ZV9taWNyb190YXNrKCgpID0+IHtcblx0XHRcdGRvbS5hZGRFdmVudExpc3RlbmVyKGV2ZW50X25hbWUsIHRhcmdldF9oYW5kbGVyLCBvcHRpb25zKTtcblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHRkb20uYWRkRXZlbnRMaXN0ZW5lcihldmVudF9uYW1lLCB0YXJnZXRfaGFuZGxlciwgb3B0aW9ucyk7XG5cdH1cblxuXHRyZXR1cm4gdGFyZ2V0X2hhbmRsZXI7XG59XG5cbi8qKlxuICogQXR0YWNoZXMgYW4gZXZlbnQgaGFuZGxlciB0byBhbiBlbGVtZW50IGFuZCByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCByZW1vdmVzIHRoZSBoYW5kbGVyLiBVc2luZyB0aGlzXG4gKiByYXRoZXIgdGhhbiBgYWRkRXZlbnRMaXN0ZW5lcmAgd2lsbCBwcmVzZXJ2ZSB0aGUgY29ycmVjdCBvcmRlciByZWxhdGl2ZSB0byBoYW5kbGVycyBhZGRlZCBkZWNsYXJhdGl2ZWx5XG4gKiAod2l0aCBhdHRyaWJ1dGVzIGxpa2UgYG9uY2xpY2tgKSwgd2hpY2ggdXNlIGV2ZW50IGRlbGVnYXRpb24gZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnNcbiAqXG4gKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtFdmVudExpc3RlbmVyfSBoYW5kbGVyXG4gKiBAcGFyYW0ge0FkZEV2ZW50TGlzdGVuZXJPcHRpb25zfSBbb3B0aW9uc11cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9uKGVsZW1lbnQsIHR5cGUsIGhhbmRsZXIsIG9wdGlvbnMgPSB7fSkge1xuXHR2YXIgdGFyZ2V0X2hhbmRsZXIgPSBjcmVhdGVfZXZlbnQodHlwZSwgZWxlbWVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG5cblx0cmV0dXJuICgpID0+IHtcblx0XHRlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgdGFyZ2V0X2hhbmRsZXIsIG9wdGlvbnMpO1xuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudF9uYW1lXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGRvbVxuICogQHBhcmFtIHtFdmVudExpc3RlbmVyfSBbaGFuZGxlcl1cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NhcHR1cmVdXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtwYXNzaXZlXVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBldmVudChldmVudF9uYW1lLCBkb20sIGhhbmRsZXIsIGNhcHR1cmUsIHBhc3NpdmUpIHtcblx0dmFyIG9wdGlvbnMgPSB7IGNhcHR1cmUsIHBhc3NpdmUgfTtcblx0dmFyIHRhcmdldF9oYW5kbGVyID0gY3JlYXRlX2V2ZW50KGV2ZW50X25hbWUsIGRvbSwgaGFuZGxlciwgb3B0aW9ucyk7XG5cblx0aWYgKFxuXHRcdGRvbSA9PT0gZG9jdW1lbnQuYm9keSB8fFxuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRkb20gPT09IHdpbmRvdyB8fFxuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRkb20gPT09IGRvY3VtZW50IHx8XG5cdFx0Ly8gRmlyZWZveCBoYXMgcXVpcmt5IGJlaGF2aW9yLCBpdCBjYW4gaGFwcGVuIHRoYXQgd2Ugc3RpbGwgZ2V0IFwiY2FucGxheVwiIGV2ZW50cyB3aGVuIHRoZSBlbGVtZW50IGlzIGFscmVhZHkgcmVtb3ZlZFxuXHRcdGRvbSBpbnN0YW5jZW9mIEhUTUxNZWRpYUVsZW1lbnRcblx0KSB7XG5cdFx0dGVhcmRvd24oKCkgPT4ge1xuXHRcdFx0ZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRfbmFtZSwgdGFyZ2V0X2hhbmRsZXIsIG9wdGlvbnMpO1xuXHRcdH0pO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBldmVudHNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVsZWdhdGUoZXZlbnRzKSB7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0YWxsX3JlZ2lzdGVyZWRfZXZlbnRzLmFkZChldmVudHNbaV0pO1xuXHR9XG5cblx0Zm9yICh2YXIgZm4gb2Ygcm9vdF9ldmVudF9oYW5kbGVzKSB7XG5cdFx0Zm4oZXZlbnRzKTtcblx0fVxufVxuXG4vLyB1c2VkIHRvIHN0b3JlIHRoZSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnRseSBwcm9wYWdhdGVkIGV2ZW50XG4vLyB0byBwcmV2ZW50IGdhcmJhZ2UgY29sbGVjdGlvbiBiZXR3ZWVuIG1pY3JvdGFza3MgaW4gRmlyZWZveFxuLy8gSWYgdGhlIGV2ZW50IG9iamVjdCBpcyBHQ2VkIHRvbyBlYXJseSwgdGhlIGV4cGFuZG8gX19yb290IHByb3BlcnR5XG4vLyBzZXQgb24gdGhlIGV2ZW50IG9iamVjdCBpcyBsb3N0LCBjYXVzaW5nIHRoZSBldmVudCBkZWxlZ2F0aW9uXG4vLyB0byBwcm9jZXNzIHRoZSBldmVudCB0d2ljZVxubGV0IGxhc3RfcHJvcGFnYXRlZF9ldmVudCA9IG51bGw7XG5cbi8qKlxuICogQHRoaXMge0V2ZW50VGFyZ2V0fVxuICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlX2V2ZW50X3Byb3BhZ2F0aW9uKGV2ZW50KSB7XG5cdHZhciBoYW5kbGVyX2VsZW1lbnQgPSB0aGlzO1xuXHR2YXIgb3duZXJfZG9jdW1lbnQgPSAvKiogQHR5cGUge05vZGV9ICovIChoYW5kbGVyX2VsZW1lbnQpLm93bmVyRG9jdW1lbnQ7XG5cdHZhciBldmVudF9uYW1lID0gZXZlbnQudHlwZTtcblx0dmFyIHBhdGggPSBldmVudC5jb21wb3NlZFBhdGg/LigpIHx8IFtdO1xuXHR2YXIgY3VycmVudF90YXJnZXQgPSAvKiogQHR5cGUge251bGwgfCBFbGVtZW50fSAqLyAocGF0aFswXSB8fCBldmVudC50YXJnZXQpO1xuXG5cdGxhc3RfcHJvcGFnYXRlZF9ldmVudCA9IGV2ZW50O1xuXG5cdC8vIGNvbXBvc2VkUGF0aCBjb250YWlucyBsaXN0IG9mIG5vZGVzIHRoZSBldmVudCBoYXMgcHJvcGFnYXRlZCB0aHJvdWdoLlxuXHQvLyBXZSBjaGVjayBfX3Jvb3QgdG8gc2tpcCBhbGwgbm9kZXMgYmVsb3cgaXQgaW4gY2FzZSB0aGlzIGlzIGFcblx0Ly8gcGFyZW50IG9mIHRoZSBfX3Jvb3Qgbm9kZSwgd2hpY2ggaW5kaWNhdGVzIHRoYXQgdGhlcmUncyBuZXN0ZWRcblx0Ly8gbW91bnRlZCBhcHBzLiBJbiB0aGlzIGNhc2Ugd2UgZG9uJ3Qgd2FudCB0byB0cmlnZ2VyIGV2ZW50cyBtdWx0aXBsZSB0aW1lcy5cblx0dmFyIHBhdGhfaWR4ID0gMDtcblxuXHQvLyB0aGUgYGxhc3RfcHJvcGFnYXRlZF9ldmVudCA9PT0gZXZlbnRgIGNoZWNrIGlzIHJlZHVuZGFudCwgYnV0XG5cdC8vIHdpdGhvdXQgaXQgdGhlIHZhcmlhYmxlIHdpbGwgYmUgRENFJ2QgYW5kIHRoaW5ncyB3aWxsXG5cdC8vIGZhaWwgbXlzdGVyaW91c2x5IGluIEZpcmVmb3hcblx0Ly8gQHRzLWV4cGVjdC1lcnJvciBpcyBhZGRlZCBiZWxvd1xuXHR2YXIgaGFuZGxlZF9hdCA9IGxhc3RfcHJvcGFnYXRlZF9ldmVudCA9PT0gZXZlbnQgJiYgZXZlbnQuX19yb290O1xuXG5cdGlmIChoYW5kbGVkX2F0KSB7XG5cdFx0dmFyIGF0X2lkeCA9IHBhdGguaW5kZXhPZihoYW5kbGVkX2F0KTtcblx0XHRpZiAoXG5cdFx0XHRhdF9pZHggIT09IC0xICYmXG5cdFx0XHQoaGFuZGxlcl9lbGVtZW50ID09PSBkb2N1bWVudCB8fCBoYW5kbGVyX2VsZW1lbnQgPT09IC8qKiBAdHlwZSB7YW55fSAqLyAod2luZG93KSlcblx0XHQpIHtcblx0XHRcdC8vIFRoaXMgaXMgdGhlIGZhbGxiYWNrIGRvY3VtZW50IGxpc3RlbmVyIG9yIGEgd2luZG93IGxpc3RlbmVyLCBidXQgdGhlIGV2ZW50IHdhcyBhbHJlYWR5IGhhbmRsZWRcblx0XHRcdC8vIC0+IGlnbm9yZSwgYnV0IHNldCBoYW5kbGVfYXQgdG8gZG9jdW1lbnQvd2luZG93IHNvIHRoYXQgd2UncmUgcmVzZXR0aW5nIHRoZSBldmVudFxuXHRcdFx0Ly8gY2hhaW4gaW4gY2FzZSBzb21lb25lIG1hbnVhbGx5IGRpc3BhdGNoZXMgdGhlIHNhbWUgZXZlbnQgb2JqZWN0IGFnYWluLlxuXHRcdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdFx0ZXZlbnQuX19yb290ID0gaGFuZGxlcl9lbGVtZW50O1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIFdlJ3JlIGRlbGliZXJhdGVseSBub3Qgc2tpcHBpbmcgaWYgdGhlIGluZGV4IGlzIGhpZ2hlciwgYmVjYXVzZVxuXHRcdC8vIHNvbWVvbmUgY291bGQgY3JlYXRlIGFuIGV2ZW50IHByb2dyYW1tYXRpY2FsbHkgYW5kIGVtaXQgaXQgbXVsdGlwbGUgdGltZXMsXG5cdFx0Ly8gaW4gd2hpY2ggY2FzZSB3ZSB3YW50IHRvIGhhbmRsZSB0aGUgd2hvbGUgcHJvcGFnYXRpb24gY2hhaW4gcHJvcGVybHkgZWFjaCB0aW1lLlxuXHRcdC8vICh0aGlzIHdpbGwgb25seSBiZSBhIGZhbHNlIG5lZ2F0aXZlIGlmIHRoZSBldmVudCBpcyBkaXNwYXRjaGVkIG11bHRpcGxlIHRpbWVzIGFuZFxuXHRcdC8vIHRoZSBmYWxsYmFjayBkb2N1bWVudCBsaXN0ZW5lciBpc24ndCByZWFjaGVkIGluIGJldHdlZW4sIGJ1dCB0aGF0J3Mgc3VwZXIgcmFyZSlcblx0XHR2YXIgaGFuZGxlcl9pZHggPSBwYXRoLmluZGV4T2YoaGFuZGxlcl9lbGVtZW50KTtcblx0XHRpZiAoaGFuZGxlcl9pZHggPT09IC0xKSB7XG5cdFx0XHQvLyBoYW5kbGVfaWR4IGNhbiB0aGVvcmV0aWNhbGx5IGJlIC0xIChoYXBwZW5lZCBpbiBzb21lIEpTRE9NIHRlc3Rpbmcgc2NlbmFyaW9zIHdpdGggYW4gZXZlbnQgbGlzdGVuZXIgb24gdGhlIHdpbmRvdyBvYmplY3QpXG5cdFx0XHQvLyBzbyBndWFyZCBhZ2FpbnN0IHRoYXQsIHRvbywgYW5kIGFzc3VtZSB0aGF0IGV2ZXJ5dGhpbmcgd2FzIGhhbmRsZWQgYXQgdGhpcyBwb2ludC5cblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoYXRfaWR4IDw9IGhhbmRsZXJfaWR4KSB7XG5cdFx0XHRwYXRoX2lkeCA9IGF0X2lkeDtcblx0XHR9XG5cdH1cblxuXHRjdXJyZW50X3RhcmdldCA9IC8qKiBAdHlwZSB7RWxlbWVudH0gKi8gKHBhdGhbcGF0aF9pZHhdIHx8IGV2ZW50LnRhcmdldCk7XG5cdC8vIHRoZXJlIGNhbiBvbmx5IGJlIG9uZSBkZWxlZ2F0ZWQgZXZlbnQgcGVyIGVsZW1lbnQsIGFuZCB3ZSBlaXRoZXIgYWxyZWFkeSBoYW5kbGVkIHRoZSBjdXJyZW50IHRhcmdldCxcblx0Ly8gb3IgdGhpcyBpcyB0aGUgdmVyeSBmaXJzdCB0YXJnZXQgaW4gdGhlIGNoYWluIHdoaWNoIGhhcyBhIG5vbi1kZWxlZ2F0ZWQgbGlzdGVuZXIsIGluIHdoaWNoIGNhc2UgaXQncyBzYWZlXG5cdC8vIHRvIGhhbmRsZSBhIHBvc3NpYmxlIGRlbGVnYXRlZCBldmVudCBvbiBpdCBsYXRlciAodGhyb3VnaCB0aGUgcm9vdCBkZWxlZ2F0aW9uIGxpc3RlbmVyIGZvciBleGFtcGxlKS5cblx0aWYgKGN1cnJlbnRfdGFyZ2V0ID09PSBoYW5kbGVyX2VsZW1lbnQpIHJldHVybjtcblxuXHQvLyBQcm94eSBjdXJyZW50VGFyZ2V0IHRvIGNvcnJlY3QgdGFyZ2V0XG5cdGRlZmluZV9wcm9wZXJ0eShldmVudCwgJ2N1cnJlbnRUYXJnZXQnLCB7XG5cdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdGdldCgpIHtcblx0XHRcdHJldHVybiBjdXJyZW50X3RhcmdldCB8fCBvd25lcl9kb2N1bWVudDtcblx0XHR9XG5cdH0pO1xuXG5cdC8vIFRoaXMgc3RhcnRlZCBiZWNhdXNlIG9mIENocm9taXVtIGlzc3VlIGh0dHBzOi8vY2hyb21lc3RhdHVzLmNvbS9mZWF0dXJlLzUxMjg2OTY4MjM1NDU4NTYsXG5cdC8vIHdoZXJlIHJlbW92YWwgb3IgbW92aW5nIG9mIG9mIHRoZSBET00gY2FuIGNhdXNlIHN5bmMgYGJsdXJgIGV2ZW50cyB0byBmaXJlLCB3aGljaCBjYW4gY2F1c2UgbG9naWNcblx0Ly8gdG8gcnVuIGluc2lkZSB0aGUgY3VycmVudCBgYWN0aXZlX3JlYWN0aW9uYCwgd2hpY2ggaXNuJ3Qgd2hhdCB3ZSB3YW50IGF0IGFsbC4gSG93ZXZlciwgb24gcmVmbGVjdGlvbixcblx0Ly8gaXQncyBwcm9iYWJseSBiZXN0IHRoYXQgYWxsIGV2ZW50IGhhbmRsZWQgYnkgU3ZlbHRlIGhhdmUgdGhpcyBiZWhhdmlvdXIsIGFzIHdlIGRvbid0IHJlYWxseSB3YW50XG5cdC8vIGFuIGV2ZW50IGhhbmRsZXIgdG8gcnVuIGluIHRoZSBjb250ZXh0IG9mIGFub3RoZXIgcmVhY3Rpb24gb3IgZWZmZWN0LlxuXHR2YXIgcHJldmlvdXNfcmVhY3Rpb24gPSBhY3RpdmVfcmVhY3Rpb247XG5cdHZhciBwcmV2aW91c19lZmZlY3QgPSBhY3RpdmVfZWZmZWN0O1xuXHRzZXRfYWN0aXZlX3JlYWN0aW9uKG51bGwpO1xuXHRzZXRfYWN0aXZlX2VmZmVjdChudWxsKTtcblxuXHR0cnkge1xuXHRcdC8qKlxuXHRcdCAqIEB0eXBlIHt1bmtub3dufVxuXHRcdCAqL1xuXHRcdHZhciB0aHJvd19lcnJvcjtcblx0XHQvKipcblx0XHQgKiBAdHlwZSB7dW5rbm93bltdfVxuXHRcdCAqL1xuXHRcdHZhciBvdGhlcl9lcnJvcnMgPSBbXTtcblxuXHRcdHdoaWxlIChjdXJyZW50X3RhcmdldCAhPT0gbnVsbCkge1xuXHRcdFx0LyoqIEB0eXBlIHtudWxsIHwgRWxlbWVudH0gKi9cblx0XHRcdHZhciBwYXJlbnRfZWxlbWVudCA9XG5cdFx0XHRcdGN1cnJlbnRfdGFyZ2V0LmFzc2lnbmVkU2xvdCB8fFxuXHRcdFx0XHRjdXJyZW50X3RhcmdldC5wYXJlbnROb2RlIHx8XG5cdFx0XHRcdC8qKiBAdHlwZSB7YW55fSAqLyAoY3VycmVudF90YXJnZXQpLmhvc3QgfHxcblx0XHRcdFx0bnVsbDtcblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdFx0XHR2YXIgZGVsZWdhdGVkID0gY3VycmVudF90YXJnZXRbJ19fJyArIGV2ZW50X25hbWVdO1xuXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRkZWxlZ2F0ZWQgIT0gbnVsbCAmJlxuXHRcdFx0XHRcdCghKC8qKiBAdHlwZSB7YW55fSAqLyAoY3VycmVudF90YXJnZXQpLmRpc2FibGVkKSB8fFxuXHRcdFx0XHRcdFx0Ly8gRE9NIGNvdWxkJ3ZlIGJlZW4gdXBkYXRlZCBhbHJlYWR5IGJ5IHRoZSB0aW1lIHRoaXMgaXMgcmVhY2hlZCwgc28gd2UgY2hlY2sgdGhpcyBhcyB3ZWxsXG5cdFx0XHRcdFx0XHQvLyAtPiB0aGUgdGFyZ2V0IGNvdWxkIG5vdCBoYXZlIGJlZW4gZGlzYWJsZWQgYmVjYXVzZSBpdCBlbWl0cyB0aGUgZXZlbnQgaW4gdGhlIGZpcnN0IHBsYWNlXG5cdFx0XHRcdFx0XHRldmVudC50YXJnZXQgPT09IGN1cnJlbnRfdGFyZ2V0KVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRkZWxlZ2F0ZWQuY2FsbChjdXJyZW50X3RhcmdldCwgZXZlbnQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRpZiAodGhyb3dfZXJyb3IpIHtcblx0XHRcdFx0XHRvdGhlcl9lcnJvcnMucHVzaChlcnJvcik7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhyb3dfZXJyb3IgPSBlcnJvcjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKGV2ZW50LmNhbmNlbEJ1YmJsZSB8fCBwYXJlbnRfZWxlbWVudCA9PT0gaGFuZGxlcl9lbGVtZW50IHx8IHBhcmVudF9lbGVtZW50ID09PSBudWxsKSB7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0Y3VycmVudF90YXJnZXQgPSBwYXJlbnRfZWxlbWVudDtcblx0XHR9XG5cblx0XHRpZiAodGhyb3dfZXJyb3IpIHtcblx0XHRcdGZvciAobGV0IGVycm9yIG9mIG90aGVyX2Vycm9ycykge1xuXHRcdFx0XHQvLyBUaHJvdyB0aGUgcmVzdCBvZiB0aGUgZXJyb3JzLCBvbmUtYnktb25lIG9uIGEgbWljcm90YXNrXG5cdFx0XHRcdHF1ZXVlTWljcm90YXNrKCgpID0+IHtcblx0XHRcdFx0XHR0aHJvdyBlcnJvcjtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHR0aHJvdyB0aHJvd19lcnJvcjtcblx0XHR9XG5cdH0gZmluYWxseSB7XG5cdFx0Ly8gQHRzLWV4cGVjdC1lcnJvciBpcyB1c2VkIGFib3ZlXG5cdFx0ZXZlbnQuX19yb290ID0gaGFuZGxlcl9lbGVtZW50O1xuXHRcdC8vIEB0cy1pZ25vcmUgcmVtb3ZlIHByb3h5IG9uIGN1cnJlbnRUYXJnZXRcblx0XHRkZWxldGUgZXZlbnQuY3VycmVudFRhcmdldDtcblx0XHRzZXRfYWN0aXZlX3JlYWN0aW9uKHByZXZpb3VzX3JlYWN0aW9uKTtcblx0XHRzZXRfYWN0aXZlX2VmZmVjdChwcmV2aW91c19lZmZlY3QpO1xuXHR9XG59XG5cbi8qKlxuICogSW4gZGV2LCB3YXJuIGlmIGFuIGV2ZW50IGhhbmRsZXIgaXMgbm90IGEgZnVuY3Rpb24sIGFzIGl0IG1lYW5zIHRoZVxuICogdXNlciBwcm9iYWJseSBjYWxsZWQgdGhlIGhhbmRsZXIgb3IgZm9yZ290IHRvIGFkZCBhIGAoKSA9PmBcbiAqIEBwYXJhbSB7KCkgPT4gKGV2ZW50OiBFdmVudCwgLi4uYXJnczogYW55KSA9PiB2b2lkfSB0aHVua1xuICogQHBhcmFtIHtFdmVudFRhcmdldH0gZWxlbWVudFxuICogQHBhcmFtIHtbRXZlbnQsIC4uLmFueV19IGFyZ3NcbiAqIEBwYXJhbSB7YW55fSBjb21wb25lbnRcbiAqIEBwYXJhbSB7W251bWJlciwgbnVtYmVyXX0gW2xvY11cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JlbW92ZV9wYXJlbnNdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBseShcblx0dGh1bmssXG5cdGVsZW1lbnQsXG5cdGFyZ3MsXG5cdGNvbXBvbmVudCxcblx0bG9jLFxuXHRoYXNfc2lkZV9lZmZlY3RzID0gZmFsc2UsXG5cdHJlbW92ZV9wYXJlbnMgPSBmYWxzZVxuKSB7XG5cdGxldCBoYW5kbGVyO1xuXHRsZXQgZXJyb3I7XG5cblx0dHJ5IHtcblx0XHRoYW5kbGVyID0gdGh1bmsoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGVycm9yID0gZTtcblx0fVxuXG5cdGlmICh0eXBlb2YgaGFuZGxlciAhPT0gJ2Z1bmN0aW9uJyAmJiAoaGFzX3NpZGVfZWZmZWN0cyB8fCBoYW5kbGVyICE9IG51bGwgfHwgZXJyb3IpKSB7XG5cdFx0Y29uc3QgZmlsZW5hbWUgPSBjb21wb25lbnQ/LltGSUxFTkFNRV07XG5cdFx0Y29uc3QgbG9jYXRpb24gPSBsb2MgPyBgIGF0ICR7ZmlsZW5hbWV9OiR7bG9jWzBdfToke2xvY1sxXX1gIDogYCBpbiAke2ZpbGVuYW1lfWA7XG5cdFx0Y29uc3QgcGhhc2UgPSBhcmdzWzBdPy5ldmVudFBoYXNlIDwgRXZlbnQuQlVCQkxJTkdfUEhBU0UgPyAnY2FwdHVyZScgOiAnJztcblx0XHRjb25zdCBldmVudF9uYW1lID0gYXJnc1swXT8udHlwZSArIHBoYXNlO1xuXHRcdGNvbnN0IGRlc2NyaXB0aW9uID0gYFxcYCR7ZXZlbnRfbmFtZX1cXGAgaGFuZGxlciR7bG9jYXRpb259YDtcblx0XHRjb25zdCBzdWdnZXN0aW9uID0gcmVtb3ZlX3BhcmVucyA/ICdyZW1vdmUgdGhlIHRyYWlsaW5nIGAoKWAnIDogJ2FkZCBhIGxlYWRpbmcgYCgpID0+YCc7XG5cblx0XHR3LmV2ZW50X2hhbmRsZXJfaW52YWxpZChkZXNjcmlwdGlvbiwgc3VnZ2VzdGlvbik7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblx0fVxuXHRoYW5kbGVyPy5hcHBseShlbGVtZW50LCBhcmdzKTtcbn1cbiIsIi8qKiBAcGFyYW0ge3N0cmluZ30gaHRtbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9mcmFnbWVudF9mcm9tX2h0bWwoaHRtbCkge1xuXHR2YXIgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG5cdGVsZW0uaW5uZXJIVE1MID0gaHRtbC5yZXBsYWNlQWxsKCc8IT4nLCAnPCEtLS0tPicpOyAvLyBYSFRNTCBjb21wbGlhbmNlXG5cdHJldHVybiBlbGVtLmNvbnRlbnQ7XG59XG4iLCIvKiogQGltcG9ydCB7IEVmZmVjdCwgRWZmZWN0Tm9kZXMsIFRlbXBsYXRlTm9kZSB9IGZyb20gJyNjbGllbnQnICovXG4vKiogQGltcG9ydCB7IFRlbXBsYXRlU3RydWN0dXJlIH0gZnJvbSAnLi90eXBlcycgKi9cbmltcG9ydCB7IGh5ZHJhdGVfbmV4dCwgaHlkcmF0ZV9ub2RlLCBoeWRyYXRpbmcsIHNldF9oeWRyYXRlX25vZGUgfSBmcm9tICcuL2h5ZHJhdGlvbi5qcyc7XG5pbXBvcnQge1xuXHRjcmVhdGVfdGV4dCxcblx0Z2V0X2ZpcnN0X2NoaWxkLFxuXHRpc19maXJlZm94LFxuXHRjcmVhdGVfZWxlbWVudCxcblx0Y3JlYXRlX2ZyYWdtZW50LFxuXHRjcmVhdGVfY29tbWVudCxcblx0c2V0X2F0dHJpYnV0ZVxufSBmcm9tICcuL29wZXJhdGlvbnMuanMnO1xuaW1wb3J0IHsgY3JlYXRlX2ZyYWdtZW50X2Zyb21faHRtbCB9IGZyb20gJy4vcmVjb25jaWxlci5qcyc7XG5pbXBvcnQgeyBhY3RpdmVfZWZmZWN0IH0gZnJvbSAnLi4vcnVudGltZS5qcyc7XG5pbXBvcnQge1xuXHROQU1FU1BBQ0VfTUFUSE1MLFxuXHROQU1FU1BBQ0VfU1ZHLFxuXHRURU1QTEFURV9GUkFHTUVOVCxcblx0VEVNUExBVEVfVVNFX0lNUE9SVF9OT0RFLFxuXHRURU1QTEFURV9VU0VfTUFUSE1MLFxuXHRURU1QTEFURV9VU0VfU1ZHXG59IGZyb20gJy4uLy4uLy4uL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBDT01NRU5UX05PREUsIERPQ1VNRU5UX0ZSQUdNRU5UX05PREUsIEVGRkVDVF9SQU4sIFRFWFRfTk9ERSB9IGZyb20gJyNjbGllbnQvY29uc3RhbnRzJztcblxuLyoqXG4gKiBAcGFyYW0ge1RlbXBsYXRlTm9kZX0gc3RhcnRcbiAqIEBwYXJhbSB7VGVtcGxhdGVOb2RlIHwgbnVsbH0gZW5kXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ25fbm9kZXMoc3RhcnQsIGVuZCkge1xuXHR2YXIgZWZmZWN0ID0gLyoqIEB0eXBlIHtFZmZlY3R9ICovIChhY3RpdmVfZWZmZWN0KTtcblx0aWYgKGVmZmVjdC5ub2RlcyA9PT0gbnVsbCkge1xuXHRcdGVmZmVjdC5ub2RlcyA9IHsgc3RhcnQsIGVuZCwgYTogbnVsbCwgdDogbnVsbCB9O1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnc1xuICogQHJldHVybnMgeygpID0+IE5vZGUgfCBOb2RlW119XG4gKi9cbi8qI19fTk9fU0lERV9FRkZFQ1RTX18qL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21faHRtbChjb250ZW50LCBmbGFncykge1xuXHR2YXIgaXNfZnJhZ21lbnQgPSAoZmxhZ3MgJiBURU1QTEFURV9GUkFHTUVOVCkgIT09IDA7XG5cdHZhciB1c2VfaW1wb3J0X25vZGUgPSAoZmxhZ3MgJiBURU1QTEFURV9VU0VfSU1QT1JUX05PREUpICE9PSAwO1xuXG5cdC8qKiBAdHlwZSB7Tm9kZX0gKi9cblx0dmFyIG5vZGU7XG5cblx0LyoqXG5cdCAqIFdoZXRoZXIgb3Igbm90IHRoZSBmaXJzdCBpdGVtIGlzIGEgdGV4dC9lbGVtZW50IG5vZGUuIElmIG5vdCwgd2UgbmVlZCB0b1xuXHQgKiBjcmVhdGUgYW4gYWRkaXRpb25hbCBjb21tZW50IG5vZGUgdG8gYWN0IGFzIGBlZmZlY3Qubm9kZXMuc3RhcnRgXG5cdCAqL1xuXHR2YXIgaGFzX3N0YXJ0ID0gIWNvbnRlbnQuc3RhcnRzV2l0aCgnPCE+Jyk7XG5cblx0cmV0dXJuICgpID0+IHtcblx0XHRpZiAoaHlkcmF0aW5nKSB7XG5cdFx0XHRhc3NpZ25fbm9kZXMoaHlkcmF0ZV9ub2RlLCBudWxsKTtcblx0XHRcdHJldHVybiBoeWRyYXRlX25vZGU7XG5cdFx0fVxuXG5cdFx0aWYgKG5vZGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0bm9kZSA9IGNyZWF0ZV9mcmFnbWVudF9mcm9tX2h0bWwoaGFzX3N0YXJ0ID8gY29udGVudCA6ICc8IT4nICsgY29udGVudCk7XG5cdFx0XHRpZiAoIWlzX2ZyYWdtZW50KSBub2RlID0gLyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGV9ICovIChnZXRfZmlyc3RfY2hpbGQobm9kZSkpO1xuXHRcdH1cblxuXHRcdHZhciBjbG9uZSA9IC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqLyAoXG5cdFx0XHR1c2VfaW1wb3J0X25vZGUgfHwgaXNfZmlyZWZveCA/IGRvY3VtZW50LmltcG9ydE5vZGUobm9kZSwgdHJ1ZSkgOiBub2RlLmNsb25lTm9kZSh0cnVlKVxuXHRcdCk7XG5cblx0XHRpZiAoaXNfZnJhZ21lbnQpIHtcblx0XHRcdHZhciBzdGFydCA9IC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqLyAoZ2V0X2ZpcnN0X2NoaWxkKGNsb25lKSk7XG5cdFx0XHR2YXIgZW5kID0gLyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGV9ICovIChjbG9uZS5sYXN0Q2hpbGQpO1xuXG5cdFx0XHRhc3NpZ25fbm9kZXMoc3RhcnQsIGVuZCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGFzc2lnbl9ub2RlcyhjbG9uZSwgY2xvbmUpO1xuXHRcdH1cblxuXHRcdHJldHVybiBjbG9uZTtcblx0fTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29udGVudFxuICogQHBhcmFtIHtudW1iZXJ9IGZsYWdzXG4gKiBAcGFyYW0geydzdmcnIHwgJ21hdGgnfSBuc1xuICogQHJldHVybnMgeygpID0+IE5vZGUgfCBOb2RlW119XG4gKi9cbi8qI19fTk9fU0lERV9FRkZFQ1RTX18qL1xuZnVuY3Rpb24gZnJvbV9uYW1lc3BhY2UoY29udGVudCwgZmxhZ3MsIG5zID0gJ3N2ZycpIHtcblx0LyoqXG5cdCAqIFdoZXRoZXIgb3Igbm90IHRoZSBmaXJzdCBpdGVtIGlzIGEgdGV4dC9lbGVtZW50IG5vZGUuIElmIG5vdCwgd2UgbmVlZCB0b1xuXHQgKiBjcmVhdGUgYW4gYWRkaXRpb25hbCBjb21tZW50IG5vZGUgdG8gYWN0IGFzIGBlZmZlY3Qubm9kZXMuc3RhcnRgXG5cdCAqL1xuXHR2YXIgaGFzX3N0YXJ0ID0gIWNvbnRlbnQuc3RhcnRzV2l0aCgnPCE+Jyk7XG5cblx0dmFyIGlzX2ZyYWdtZW50ID0gKGZsYWdzICYgVEVNUExBVEVfRlJBR01FTlQpICE9PSAwO1xuXHR2YXIgd3JhcHBlZCA9IGA8JHtuc30+JHtoYXNfc3RhcnQgPyBjb250ZW50IDogJzwhPicgKyBjb250ZW50fTwvJHtuc30+YDtcblxuXHQvKiogQHR5cGUge0VsZW1lbnQgfCBEb2N1bWVudEZyYWdtZW50fSAqL1xuXHR2YXIgbm9kZTtcblxuXHRyZXR1cm4gKCkgPT4ge1xuXHRcdGlmIChoeWRyYXRpbmcpIHtcblx0XHRcdGFzc2lnbl9ub2RlcyhoeWRyYXRlX25vZGUsIG51bGwpO1xuXHRcdFx0cmV0dXJuIGh5ZHJhdGVfbm9kZTtcblx0XHR9XG5cblx0XHRpZiAoIW5vZGUpIHtcblx0XHRcdHZhciBmcmFnbWVudCA9IC8qKiBAdHlwZSB7RG9jdW1lbnRGcmFnbWVudH0gKi8gKGNyZWF0ZV9mcmFnbWVudF9mcm9tX2h0bWwod3JhcHBlZCkpO1xuXHRcdFx0dmFyIHJvb3QgPSAvKiogQHR5cGUge0VsZW1lbnR9ICovIChnZXRfZmlyc3RfY2hpbGQoZnJhZ21lbnQpKTtcblxuXHRcdFx0aWYgKGlzX2ZyYWdtZW50KSB7XG5cdFx0XHRcdG5vZGUgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cdFx0XHRcdHdoaWxlIChnZXRfZmlyc3RfY2hpbGQocm9vdCkpIHtcblx0XHRcdFx0XHRub2RlLmFwcGVuZENoaWxkKC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqLyAoZ2V0X2ZpcnN0X2NoaWxkKHJvb3QpKSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG5vZGUgPSAvKiogQHR5cGUge0VsZW1lbnR9ICovIChnZXRfZmlyc3RfY2hpbGQocm9vdCkpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHZhciBjbG9uZSA9IC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqLyAobm9kZS5jbG9uZU5vZGUodHJ1ZSkpO1xuXG5cdFx0aWYgKGlzX2ZyYWdtZW50KSB7XG5cdFx0XHR2YXIgc3RhcnQgPSAvKiogQHR5cGUge1RlbXBsYXRlTm9kZX0gKi8gKGdldF9maXJzdF9jaGlsZChjbG9uZSkpO1xuXHRcdFx0dmFyIGVuZCA9IC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqLyAoY2xvbmUubGFzdENoaWxkKTtcblxuXHRcdFx0YXNzaWduX25vZGVzKHN0YXJ0LCBlbmQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRhc3NpZ25fbm9kZXMoY2xvbmUsIGNsb25lKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gY2xvbmU7XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnc1xuICovXG4vKiNfX05PX1NJREVfRUZGRUNUU19fKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tX3N2Zyhjb250ZW50LCBmbGFncykge1xuXHRyZXR1cm4gZnJvbV9uYW1lc3BhY2UoY29udGVudCwgZmxhZ3MsICdzdmcnKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29udGVudFxuICogQHBhcmFtIHtudW1iZXJ9IGZsYWdzXG4gKi9cbi8qI19fTk9fU0lERV9FRkZFQ1RTX18qL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21fbWF0aG1sKGNvbnRlbnQsIGZsYWdzKSB7XG5cdHJldHVybiBmcm9tX25hbWVzcGFjZShjb250ZW50LCBmbGFncywgJ21hdGgnKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1RlbXBsYXRlU3RydWN0dXJlW119IHN0cnVjdHVyZVxuICogQHBhcmFtIHt0eXBlb2YgTkFNRVNQQUNFX1NWRyB8IHR5cGVvZiBOQU1FU1BBQ0VfTUFUSE1MIHwgdW5kZWZpbmVkfSBbbnNdXG4gKi9cbmZ1bmN0aW9uIGZyYWdtZW50X2Zyb21fdHJlZShzdHJ1Y3R1cmUsIG5zKSB7XG5cdHZhciBmcmFnbWVudCA9IGNyZWF0ZV9mcmFnbWVudCgpO1xuXG5cdGZvciAodmFyIGl0ZW0gb2Ygc3RydWN0dXJlKSB7XG5cdFx0aWYgKHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJykge1xuXHRcdFx0ZnJhZ21lbnQuYXBwZW5kKGNyZWF0ZV90ZXh0KGl0ZW0pKTtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdC8vIGlmIGBwcmVzZXJ2ZUNvbW1lbnRzID09PSB0cnVlYCwgY29tbWVudHMgYXJlIHJlcHJlc2VudGVkIGFzIGBbJy8vIDxkYXRhPiddYFxuXHRcdGlmIChpdGVtID09PSB1bmRlZmluZWQgfHwgaXRlbVswXVswXSA9PT0gJy8nKSB7XG5cdFx0XHRmcmFnbWVudC5hcHBlbmQoY3JlYXRlX2NvbW1lbnQoaXRlbSA/IGl0ZW1bMF0uc2xpY2UoMykgOiAnJykpO1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0Y29uc3QgW25hbWUsIGF0dHJpYnV0ZXMsIC4uLmNoaWxkcmVuXSA9IGl0ZW07XG5cblx0XHRjb25zdCBuYW1lc3BhY2UgPSBuYW1lID09PSAnc3ZnJyA/IE5BTUVTUEFDRV9TVkcgOiBuYW1lID09PSAnbWF0aCcgPyBOQU1FU1BBQ0VfTUFUSE1MIDogbnM7XG5cblx0XHR2YXIgZWxlbWVudCA9IGNyZWF0ZV9lbGVtZW50KG5hbWUsIG5hbWVzcGFjZSwgYXR0cmlidXRlcz8uaXMpO1xuXG5cdFx0Zm9yICh2YXIga2V5IGluIGF0dHJpYnV0ZXMpIHtcblx0XHRcdHNldF9hdHRyaWJ1dGUoZWxlbWVudCwga2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuXHRcdH1cblxuXHRcdGlmIChjaGlsZHJlbi5sZW5ndGggPiAwKSB7XG5cdFx0XHR2YXIgdGFyZ2V0ID1cblx0XHRcdFx0ZWxlbWVudC50YWdOYW1lID09PSAnVEVNUExBVEUnXG5cdFx0XHRcdFx0PyAvKiogQHR5cGUge0hUTUxUZW1wbGF0ZUVsZW1lbnR9ICovIChlbGVtZW50KS5jb250ZW50XG5cdFx0XHRcdFx0OiBlbGVtZW50O1xuXG5cdFx0XHR0YXJnZXQuYXBwZW5kKFxuXHRcdFx0XHRmcmFnbWVudF9mcm9tX3RyZWUoY2hpbGRyZW4sIGVsZW1lbnQudGFnTmFtZSA9PT0gJ2ZvcmVpZ25PYmplY3QnID8gdW5kZWZpbmVkIDogbmFtZXNwYWNlKVxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRmcmFnbWVudC5hcHBlbmQoZWxlbWVudCk7XG5cdH1cblxuXHRyZXR1cm4gZnJhZ21lbnQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtUZW1wbGF0ZVN0cnVjdHVyZVtdfSBzdHJ1Y3R1cmVcbiAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnc1xuICogQHJldHVybnMgeygpID0+IE5vZGUgfCBOb2RlW119XG4gKi9cbi8qI19fTk9fU0lERV9FRkZFQ1RTX18qL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21fdHJlZShzdHJ1Y3R1cmUsIGZsYWdzKSB7XG5cdHZhciBpc19mcmFnbWVudCA9IChmbGFncyAmIFRFTVBMQVRFX0ZSQUdNRU5UKSAhPT0gMDtcblx0dmFyIHVzZV9pbXBvcnRfbm9kZSA9IChmbGFncyAmIFRFTVBMQVRFX1VTRV9JTVBPUlRfTk9ERSkgIT09IDA7XG5cblx0LyoqIEB0eXBlIHtOb2RlfSAqL1xuXHR2YXIgbm9kZTtcblxuXHRyZXR1cm4gKCkgPT4ge1xuXHRcdGlmIChoeWRyYXRpbmcpIHtcblx0XHRcdGFzc2lnbl9ub2RlcyhoeWRyYXRlX25vZGUsIG51bGwpO1xuXHRcdFx0cmV0dXJuIGh5ZHJhdGVfbm9kZTtcblx0XHR9XG5cblx0XHRpZiAobm9kZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRjb25zdCBucyA9XG5cdFx0XHRcdChmbGFncyAmIFRFTVBMQVRFX1VTRV9TVkcpICE9PSAwXG5cdFx0XHRcdFx0PyBOQU1FU1BBQ0VfU1ZHXG5cdFx0XHRcdFx0OiAoZmxhZ3MgJiBURU1QTEFURV9VU0VfTUFUSE1MKSAhPT0gMFxuXHRcdFx0XHRcdFx0PyBOQU1FU1BBQ0VfTUFUSE1MXG5cdFx0XHRcdFx0XHQ6IHVuZGVmaW5lZDtcblxuXHRcdFx0bm9kZSA9IGZyYWdtZW50X2Zyb21fdHJlZShzdHJ1Y3R1cmUsIG5zKTtcblx0XHRcdGlmICghaXNfZnJhZ21lbnQpIG5vZGUgPSAvKiogQHR5cGUge1RlbXBsYXRlTm9kZX0gKi8gKGdldF9maXJzdF9jaGlsZChub2RlKSk7XG5cdFx0fVxuXG5cdFx0dmFyIGNsb25lID0gLyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGV9ICovIChcblx0XHRcdHVzZV9pbXBvcnRfbm9kZSB8fCBpc19maXJlZm94ID8gZG9jdW1lbnQuaW1wb3J0Tm9kZShub2RlLCB0cnVlKSA6IG5vZGUuY2xvbmVOb2RlKHRydWUpXG5cdFx0KTtcblxuXHRcdGlmIChpc19mcmFnbWVudCkge1xuXHRcdFx0dmFyIHN0YXJ0ID0gLyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGV9ICovIChnZXRfZmlyc3RfY2hpbGQoY2xvbmUpKTtcblx0XHRcdHZhciBlbmQgPSAvKiogQHR5cGUge1RlbXBsYXRlTm9kZX0gKi8gKGNsb25lLmxhc3RDaGlsZCk7XG5cblx0XHRcdGFzc2lnbl9ub2RlcyhzdGFydCwgZW5kKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0YXNzaWduX25vZGVzKGNsb25lLCBjbG9uZSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNsb25lO1xuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7KCkgPT4gRWxlbWVudCB8IERvY3VtZW50RnJhZ21lbnR9IGZuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aXRoX3NjcmlwdChmbikge1xuXHRyZXR1cm4gKCkgPT4gcnVuX3NjcmlwdHMoZm4oKSk7XG59XG5cbi8qKlxuICogQ3JlYXRpbmcgYSBkb2N1bWVudCBmcmFnbWVudCBmcm9tIEhUTUwgdGhhdCBjb250YWlucyBzY3JpcHQgdGFncyB3aWxsIG5vdCBleGVjdXRlXG4gKiB0aGUgc2NyaXB0cy4gV2UgbmVlZCB0byByZXBsYWNlIHRoZSBzY3JpcHQgdGFncyB3aXRoIG5ldyBvbmVzIHNvIHRoYXQgdGhleSBhcmUgZXhlY3V0ZWQuXG4gKiBAcGFyYW0ge0VsZW1lbnQgfCBEb2N1bWVudEZyYWdtZW50fSBub2RlXG4gKiBAcmV0dXJucyB7Tm9kZSB8IE5vZGVbXX1cbiAqL1xuZnVuY3Rpb24gcnVuX3NjcmlwdHMobm9kZSkge1xuXHQvLyBzY3JpcHRzIHdlcmUgU1NSJ2QsIGluIHdoaWNoIGNhc2UgdGhleSB3aWxsIHJ1blxuXHRpZiAoaHlkcmF0aW5nKSByZXR1cm4gbm9kZTtcblxuXHRjb25zdCBpc19mcmFnbWVudCA9IG5vZGUubm9kZVR5cGUgPT09IERPQ1VNRU5UX0ZSQUdNRU5UX05PREU7XG5cdGNvbnN0IHNjcmlwdHMgPVxuXHRcdC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovIChub2RlKS50YWdOYW1lID09PSAnU0NSSVBUJ1xuXHRcdFx0PyBbLyoqIEB0eXBlIHtIVE1MU2NyaXB0RWxlbWVudH0gKi8gKG5vZGUpXVxuXHRcdFx0OiBub2RlLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NjcmlwdCcpO1xuXG5cdGNvbnN0IGVmZmVjdCA9IC8qKiBAdHlwZSB7RWZmZWN0ICYgeyBub2RlczogRWZmZWN0Tm9kZXMgfX0gKi8gKGFjdGl2ZV9lZmZlY3QpO1xuXG5cdGZvciAoY29uc3Qgc2NyaXB0IG9mIHNjcmlwdHMpIHtcblx0XHRjb25zdCBjbG9uZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuXHRcdGZvciAodmFyIGF0dHJpYnV0ZSBvZiBzY3JpcHQuYXR0cmlidXRlcykge1xuXHRcdFx0Y2xvbmUuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZS5uYW1lLCBhdHRyaWJ1dGUudmFsdWUpO1xuXHRcdH1cblxuXHRcdGNsb25lLnRleHRDb250ZW50ID0gc2NyaXB0LnRleHRDb250ZW50O1xuXG5cdFx0Ly8gVGhlIHNjcmlwdCBoYXMgY2hhbmdlZCAtIGlmIGl0J3MgYXQgdGhlIGVkZ2VzLCB0aGUgZWZmZWN0IG5vdyBwb2ludHMgYXQgZGVhZCBub2Rlc1xuXHRcdGlmIChpc19mcmFnbWVudCA/IG5vZGUuZmlyc3RDaGlsZCA9PT0gc2NyaXB0IDogbm9kZSA9PT0gc2NyaXB0KSB7XG5cdFx0XHRlZmZlY3Qubm9kZXMuc3RhcnQgPSBjbG9uZTtcblx0XHR9XG5cdFx0aWYgKGlzX2ZyYWdtZW50ID8gbm9kZS5sYXN0Q2hpbGQgPT09IHNjcmlwdCA6IG5vZGUgPT09IHNjcmlwdCkge1xuXHRcdFx0ZWZmZWN0Lm5vZGVzLmVuZCA9IGNsb25lO1xuXHRcdH1cblxuXHRcdHNjcmlwdC5yZXBsYWNlV2l0aChjbG9uZSk7XG5cdH1cblx0cmV0dXJuIG5vZGU7XG59XG5cbi8qKlxuICogRG9uJ3QgbWFyayB0aGlzIGFzIHNpZGUtZWZmZWN0LWZyZWUsIGh5ZHJhdGlvbiBuZWVkcyB0byB3YWxrIGFsbCBub2Rlc1xuICogQHBhcmFtIHthbnl9IHZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0ZXh0KHZhbHVlID0gJycpIHtcblx0aWYgKCFoeWRyYXRpbmcpIHtcblx0XHR2YXIgdCA9IGNyZWF0ZV90ZXh0KHZhbHVlICsgJycpO1xuXHRcdGFzc2lnbl9ub2Rlcyh0LCB0KTtcblx0XHRyZXR1cm4gdDtcblx0fVxuXG5cdHZhciBub2RlID0gaHlkcmF0ZV9ub2RlO1xuXG5cdGlmIChub2RlLm5vZGVUeXBlICE9PSBURVhUX05PREUpIHtcblx0XHQvLyBpZiBhbiB7ZXhwcmVzc2lvbn0gaXMgZW1wdHkgZHVyaW5nIFNTUiwgd2UgbmVlZCB0byBpbnNlcnQgYW4gZW1wdHkgdGV4dCBub2RlXG5cdFx0bm9kZS5iZWZvcmUoKG5vZGUgPSBjcmVhdGVfdGV4dCgpKSk7XG5cdFx0c2V0X2h5ZHJhdGVfbm9kZShub2RlKTtcblx0fVxuXG5cdGFzc2lnbl9ub2Rlcyhub2RlLCBub2RlKTtcblx0cmV0dXJuIG5vZGU7XG59XG5cbi8qKlxuICogQHJldHVybnMge1RlbXBsYXRlTm9kZSB8IERvY3VtZW50RnJhZ21lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21tZW50KCkge1xuXHQvLyB3ZSdyZSBub3QgZGVsZWdhdGluZyB0byBgdGVtcGxhdGVgIGhlcmUgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnNcblx0aWYgKGh5ZHJhdGluZykge1xuXHRcdGFzc2lnbl9ub2RlcyhoeWRyYXRlX25vZGUsIG51bGwpO1xuXHRcdHJldHVybiBoeWRyYXRlX25vZGU7XG5cdH1cblxuXHR2YXIgZnJhZyA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblx0dmFyIHN0YXJ0ID0gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnJyk7XG5cdHZhciBhbmNob3IgPSBjcmVhdGVfdGV4dCgpO1xuXHRmcmFnLmFwcGVuZChzdGFydCwgYW5jaG9yKTtcblxuXHRhc3NpZ25fbm9kZXMoc3RhcnQsIGFuY2hvcik7XG5cblx0cmV0dXJuIGZyYWc7XG59XG5cbi8qKlxuICogQXNzaWduIHRoZSBjcmVhdGVkIChvciBpbiBoeWRyYXRpb24gbW9kZSwgdHJhdmVyc2VkKSBkb20gZWxlbWVudHMgdG8gdGhlIGN1cnJlbnQgYmxvY2tcbiAqIGFuZCBpbnNlcnQgdGhlIGVsZW1lbnRzIGludG8gdGhlIGRvbSAoaW4gY2xpZW50IG1vZGUpLlxuICogQHBhcmFtIHtUZXh0IHwgQ29tbWVudCB8IEVsZW1lbnR9IGFuY2hvclxuICogQHBhcmFtIHtEb2N1bWVudEZyYWdtZW50IHwgRWxlbWVudH0gZG9tXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmQoYW5jaG9yLCBkb20pIHtcblx0aWYgKGh5ZHJhdGluZykge1xuXHRcdHZhciBlZmZlY3QgPSAvKiogQHR5cGUge0VmZmVjdCAmIHsgbm9kZXM6IEVmZmVjdE5vZGVzIH19ICovIChhY3RpdmVfZWZmZWN0KTtcblxuXHRcdC8vIFdoZW4gaHlkcmF0aW5nIGFuZCBvdXRlciBjb21wb25lbnQgYW5kIGFuIGlubmVyIGNvbXBvbmVudCBpcyBhc3luYywgaS5lLiBibG9ja2VkIG9uIGEgcHJvbWlzZSxcblx0XHQvLyB0aGVuIGJ5IHRoZSB0aW1lIHRoZSBpbm5lciByZXNvbHZlcyB3ZSBoYXZlIGFscmVhZHkgYWR2YW5jZWQgdG8gdGhlIGVuZCBvZiB0aGUgaHlkcmF0ZWQgbm9kZXNcblx0XHQvLyBvZiB0aGUgcGFyZW50IGNvbXBvbmVudC4gQ2hlY2sgZm9yIGRlZmluZWQgZm9yIHRoYXQgcmVhc29uIHRvIGF2b2lkIHJld2luZGluZyB0aGUgcGFyZW50J3MgZW5kIG1hcmtlci5cblx0XHRpZiAoKGVmZmVjdC5mICYgRUZGRUNUX1JBTikgPT09IDAgfHwgZWZmZWN0Lm5vZGVzLmVuZCA9PT0gbnVsbCkge1xuXHRcdFx0ZWZmZWN0Lm5vZGVzLmVuZCA9IGh5ZHJhdGVfbm9kZTtcblx0XHR9XG5cblx0XHRoeWRyYXRlX25leHQoKTtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRpZiAoYW5jaG9yID09PSBudWxsKSB7XG5cdFx0Ly8gZWRnZSBjYXNlIOKAlCB2b2lkIGA8c3ZlbHRlOmVsZW1lbnQ+YCB3aXRoIGNvbnRlbnRcblx0XHRyZXR1cm47XG5cdH1cblxuXHRhbmNob3IuYmVmb3JlKC8qKiBAdHlwZSB7Tm9kZX0gKi8gKGRvbSkpO1xufVxuXG4vKipcbiAqIENyZWF0ZSAob3IgaHlkcmF0ZSkgYW4gdW5pcXVlIFVJRCBmb3IgdGhlIGNvbXBvbmVudCBpbnN0YW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByb3BzX2lkKCkge1xuXHRpZiAoXG5cdFx0aHlkcmF0aW5nICYmXG5cdFx0aHlkcmF0ZV9ub2RlICYmXG5cdFx0aHlkcmF0ZV9ub2RlLm5vZGVUeXBlID09PSBDT01NRU5UX05PREUgJiZcblx0XHRoeWRyYXRlX25vZGUudGV4dENvbnRlbnQ/LnN0YXJ0c1dpdGgoYCRgKVxuXHQpIHtcblx0XHRjb25zdCBpZCA9IGh5ZHJhdGVfbm9kZS50ZXh0Q29udGVudC5zdWJzdHJpbmcoMSk7XG5cdFx0aHlkcmF0ZV9uZXh0KCk7XG5cdFx0cmV0dXJuIGlkO1xuXHR9XG5cblx0Ly8gQHRzLWV4cGVjdC1lcnJvciBUaGlzIHdheSB3ZSBlbnN1cmUgdGhlIGlkIGlzIHVuaXF1ZSBldmVuIGFjcm9zcyBTdmVsdGUgcnVudGltZXNcblx0KHdpbmRvdy5fX3N2ZWx0ZSA/Pz0ge30pLnVpZCA/Pz0gMTtcblxuXHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdHJldHVybiBgYyR7d2luZG93Ll9fc3ZlbHRlLnVpZCsrfWA7XG59XG4iLCIvKiogQGltcG9ydCB7IENvbXBvbmVudENvbnRleHQsIEVmZmVjdCwgRWZmZWN0Tm9kZXMsIFRlbXBsYXRlTm9kZSB9IGZyb20gJyNjbGllbnQnICovXG4vKiogQGltcG9ydCB7IENvbXBvbmVudCwgQ29tcG9uZW50VHlwZSwgU3ZlbHRlQ29tcG9uZW50LCBNb3VudE9wdGlvbnMgfSBmcm9tICcuLi8uLi9pbmRleC5qcycgKi9cbmltcG9ydCB7IERFViB9IGZyb20gJ2VzbS1lbnYnO1xuaW1wb3J0IHtcblx0Y2xlYXJfdGV4dF9jb250ZW50LFxuXHRjcmVhdGVfdGV4dCxcblx0Z2V0X2ZpcnN0X2NoaWxkLFxuXHRnZXRfbmV4dF9zaWJsaW5nLFxuXHRpbml0X29wZXJhdGlvbnNcbn0gZnJvbSAnLi9kb20vb3BlcmF0aW9ucy5qcyc7XG5pbXBvcnQgeyBIWURSQVRJT05fRU5ELCBIWURSQVRJT05fRVJST1IsIEhZRFJBVElPTl9TVEFSVCB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBhY3RpdmVfZWZmZWN0IH0gZnJvbSAnLi9ydW50aW1lLmpzJztcbmltcG9ydCB7IHB1c2gsIHBvcCwgY29tcG9uZW50X2NvbnRleHQgfSBmcm9tICcuL2NvbnRleHQuanMnO1xuaW1wb3J0IHsgY29tcG9uZW50X3Jvb3QgfSBmcm9tICcuL3JlYWN0aXZpdHkvZWZmZWN0cy5qcyc7XG5pbXBvcnQgeyBoeWRyYXRlX25vZGUsIGh5ZHJhdGluZywgc2V0X2h5ZHJhdGVfbm9kZSwgc2V0X2h5ZHJhdGluZyB9IGZyb20gJy4vZG9tL2h5ZHJhdGlvbi5qcyc7XG5pbXBvcnQgeyBhcnJheV9mcm9tIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzLmpzJztcbmltcG9ydCB7XG5cdGFsbF9yZWdpc3RlcmVkX2V2ZW50cyxcblx0aGFuZGxlX2V2ZW50X3Byb3BhZ2F0aW9uLFxuXHRyb290X2V2ZW50X2hhbmRsZXNcbn0gZnJvbSAnLi9kb20vZWxlbWVudHMvZXZlbnRzLmpzJztcbmltcG9ydCAqIGFzIHcgZnJvbSAnLi93YXJuaW5ncy5qcyc7XG5pbXBvcnQgKiBhcyBlIGZyb20gJy4vZXJyb3JzLmpzJztcbmltcG9ydCB7IGFzc2lnbl9ub2RlcyB9IGZyb20gJy4vZG9tL3RlbXBsYXRlLmpzJztcbmltcG9ydCB7IGlzX3Bhc3NpdmVfZXZlbnQgfSBmcm9tICcuLi8uLi91dGlscy5qcyc7XG5pbXBvcnQgeyBDT01NRU5UX05PREUsIFNUQVRFX1NZTUJPTCB9IGZyb20gJy4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IGJvdW5kYXJ5IH0gZnJvbSAnLi9kb20vYmxvY2tzL2JvdW5kYXJ5LmpzJztcblxuLyoqXG4gKiBUaGlzIGlzIG5vcm1hbGx5IHRydWUg4oCUIGJsb2NrIGVmZmVjdHMgc2hvdWxkIHJ1biB0aGVpciBpbnRybyB0cmFuc2l0aW9ucyDigJRcbiAqIGJ1dCBpcyBmYWxzZSBkdXJpbmcgaHlkcmF0aW9uICh1bmxlc3MgYG9wdGlvbnMuaW50cm9gIGlzIGB0cnVlYCkgYW5kXG4gKiB3aGVuIGNyZWF0aW5nIHRoZSBjaGlsZHJlbiBvZiBhIGA8c3ZlbHRlOmVsZW1lbnQ+YCB0aGF0IGp1c3QgY2hhbmdlZCB0YWdcbiAqL1xuZXhwb3J0IGxldCBzaG91bGRfaW50cm8gPSB0cnVlO1xuXG4vKiogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9zaG91bGRfaW50cm8odmFsdWUpIHtcblx0c2hvdWxkX2ludHJvID0gdmFsdWU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSB0ZXh0XG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X3RleHQodGV4dCwgdmFsdWUpIHtcblx0Ly8gRm9yIG9iamVjdHMsIHdlIGFwcGx5IHN0cmluZyBjb2VyY2lvbiAod2hpY2ggbWlnaHQgbWFrZSB0aGluZ3MgbGlrZSAkc3RhdGUgYXJyYXkgcmVmZXJlbmNlcyBpbiB0aGUgdGVtcGxhdGUgcmVhY3RpdmUpIGJlZm9yZSBkaWZmaW5nXG5cdHZhciBzdHIgPSB2YWx1ZSA9PSBudWxsID8gJycgOiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnID8gdmFsdWUgKyAnJyA6IHZhbHVlO1xuXHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdGlmIChzdHIgIT09ICh0ZXh0Ll9fdCA/Pz0gdGV4dC5ub2RlVmFsdWUpKSB7XG5cdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdHRleHQuX190ID0gc3RyO1xuXHRcdHRleHQubm9kZVZhbHVlID0gc3RyICsgJyc7XG5cdH1cbn1cblxuLyoqXG4gKiBNb3VudHMgYSBjb21wb25lbnQgdG8gdGhlIGdpdmVuIHRhcmdldCBhbmQgcmV0dXJucyB0aGUgZXhwb3J0cyBhbmQgcG90ZW50aWFsbHkgdGhlIHByb3BzIChpZiBjb21waWxlZCB3aXRoIGBhY2Nlc3NvcnM6IHRydWVgKSBvZiB0aGUgY29tcG9uZW50LlxuICogVHJhbnNpdGlvbnMgd2lsbCBwbGF5IGR1cmluZyB0aGUgaW5pdGlhbCByZW5kZXIgdW5sZXNzIHRoZSBgaW50cm9gIG9wdGlvbiBpcyBzZXQgdG8gYGZhbHNlYC5cbiAqXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IFByb3BzXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IEV4cG9ydHNcbiAqIEBwYXJhbSB7Q29tcG9uZW50VHlwZTxTdmVsdGVDb21wb25lbnQ8UHJvcHM+PiB8IENvbXBvbmVudDxQcm9wcywgRXhwb3J0cywgYW55Pn0gY29tcG9uZW50XG4gKiBAcGFyYW0ge01vdW50T3B0aW9uczxQcm9wcz59IG9wdGlvbnNcbiAqIEByZXR1cm5zIHtFeHBvcnRzfVxuICovXG5leHBvcnQgZnVuY3Rpb24gbW91bnQoY29tcG9uZW50LCBvcHRpb25zKSB7XG5cdHJldHVybiBfbW91bnQoY29tcG9uZW50LCBvcHRpb25zKTtcbn1cblxuLyoqXG4gKiBIeWRyYXRlcyBhIGNvbXBvbmVudCBvbiB0aGUgZ2l2ZW4gdGFyZ2V0IGFuZCByZXR1cm5zIHRoZSBleHBvcnRzIGFuZCBwb3RlbnRpYWxseSB0aGUgcHJvcHMgKGlmIGNvbXBpbGVkIHdpdGggYGFjY2Vzc29yczogdHJ1ZWApIG9mIHRoZSBjb21wb25lbnRcbiAqXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IFByb3BzXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IEV4cG9ydHNcbiAqIEBwYXJhbSB7Q29tcG9uZW50VHlwZTxTdmVsdGVDb21wb25lbnQ8UHJvcHM+PiB8IENvbXBvbmVudDxQcm9wcywgRXhwb3J0cywgYW55Pn0gY29tcG9uZW50XG4gKiBAcGFyYW0ge3t9IGV4dGVuZHMgUHJvcHMgPyB7XG4gKiBcdFx0dGFyZ2V0OiBEb2N1bWVudCB8IEVsZW1lbnQgfCBTaGFkb3dSb290O1xuICogXHRcdHByb3BzPzogUHJvcHM7XG4gKiBcdFx0ZXZlbnRzPzogUmVjb3JkPHN0cmluZywgKGU6IGFueSkgPT4gYW55PjtcbiAqICBcdGNvbnRleHQ/OiBNYXA8YW55LCBhbnk+O1xuICogXHRcdGludHJvPzogYm9vbGVhbjtcbiAqIFx0XHRyZWNvdmVyPzogYm9vbGVhbjtcbiAqIFx0fSA6IHtcbiAqIFx0XHR0YXJnZXQ6IERvY3VtZW50IHwgRWxlbWVudCB8IFNoYWRvd1Jvb3Q7XG4gKiBcdFx0cHJvcHM6IFByb3BzO1xuICogXHRcdGV2ZW50cz86IFJlY29yZDxzdHJpbmcsIChlOiBhbnkpID0+IGFueT47XG4gKiAgXHRjb250ZXh0PzogTWFwPGFueSwgYW55PjtcbiAqIFx0XHRpbnRybz86IGJvb2xlYW47XG4gKiBcdFx0cmVjb3Zlcj86IGJvb2xlYW47XG4gKiBcdH19IG9wdGlvbnNcbiAqIEByZXR1cm5zIHtFeHBvcnRzfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZShjb21wb25lbnQsIG9wdGlvbnMpIHtcblx0aW5pdF9vcGVyYXRpb25zKCk7XG5cdG9wdGlvbnMuaW50cm8gPSBvcHRpb25zLmludHJvID8/IGZhbHNlO1xuXHRjb25zdCB0YXJnZXQgPSBvcHRpb25zLnRhcmdldDtcblx0Y29uc3Qgd2FzX2h5ZHJhdGluZyA9IGh5ZHJhdGluZztcblx0Y29uc3QgcHJldmlvdXNfaHlkcmF0ZV9ub2RlID0gaHlkcmF0ZV9ub2RlO1xuXG5cdHRyeSB7XG5cdFx0dmFyIGFuY2hvciA9IGdldF9maXJzdF9jaGlsZCh0YXJnZXQpO1xuXG5cdFx0d2hpbGUgKFxuXHRcdFx0YW5jaG9yICYmXG5cdFx0XHQoYW5jaG9yLm5vZGVUeXBlICE9PSBDT01NRU5UX05PREUgfHwgLyoqIEB0eXBlIHtDb21tZW50fSAqLyAoYW5jaG9yKS5kYXRhICE9PSBIWURSQVRJT05fU1RBUlQpXG5cdFx0KSB7XG5cdFx0XHRhbmNob3IgPSBnZXRfbmV4dF9zaWJsaW5nKGFuY2hvcik7XG5cdFx0fVxuXG5cdFx0aWYgKCFhbmNob3IpIHtcblx0XHRcdHRocm93IEhZRFJBVElPTl9FUlJPUjtcblx0XHR9XG5cblx0XHRzZXRfaHlkcmF0aW5nKHRydWUpO1xuXHRcdHNldF9oeWRyYXRlX25vZGUoLyoqIEB0eXBlIHtDb21tZW50fSAqLyAoYW5jaG9yKSk7XG5cblx0XHRjb25zdCBpbnN0YW5jZSA9IF9tb3VudChjb21wb25lbnQsIHsgLi4ub3B0aW9ucywgYW5jaG9yIH0pO1xuXG5cdFx0c2V0X2h5ZHJhdGluZyhmYWxzZSk7XG5cblx0XHRyZXR1cm4gLyoqICBAdHlwZSB7RXhwb3J0c30gKi8gKGluc3RhbmNlKTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHQvLyByZS10aHJvdyBTdmVsdGUgZXJyb3JzIC0gdGhleSBhcmUgY2VydGFpbmx5IG5vdCByZWxhdGVkIHRvIGh5ZHJhdGlvblxuXHRcdGlmIChcblx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiZcblx0XHRcdGVycm9yLm1lc3NhZ2Uuc3BsaXQoJ1xcbicpLnNvbWUoKGxpbmUpID0+IGxpbmUuc3RhcnRzV2l0aCgnaHR0cHM6Ly9zdmVsdGUuZGV2L2UvJykpXG5cdFx0KSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cdFx0aWYgKGVycm9yICE9PSBIWURSQVRJT05fRVJST1IpIHtcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG5cdFx0XHRjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBoeWRyYXRlOiAnLCBlcnJvcik7XG5cdFx0fVxuXG5cdFx0aWYgKG9wdGlvbnMucmVjb3ZlciA9PT0gZmFsc2UpIHtcblx0XHRcdGUuaHlkcmF0aW9uX2ZhaWxlZCgpO1xuXHRcdH1cblxuXHRcdC8vIElmIGFuIGVycm9yIG9jY3VycmVkIGFib3ZlLCB0aGUgb3BlcmF0aW9ucyBtaWdodCBub3QgeWV0IGhhdmUgYmVlbiBpbml0aWFsaXNlZC5cblx0XHRpbml0X29wZXJhdGlvbnMoKTtcblx0XHRjbGVhcl90ZXh0X2NvbnRlbnQodGFyZ2V0KTtcblxuXHRcdHNldF9oeWRyYXRpbmcoZmFsc2UpO1xuXHRcdHJldHVybiBtb3VudChjb21wb25lbnQsIG9wdGlvbnMpO1xuXHR9IGZpbmFsbHkge1xuXHRcdHNldF9oeWRyYXRpbmcod2FzX2h5ZHJhdGluZyk7XG5cdFx0c2V0X2h5ZHJhdGVfbm9kZShwcmV2aW91c19oeWRyYXRlX25vZGUpO1xuXHR9XG59XG5cbi8qKiBAdHlwZSB7TWFwPHN0cmluZywgbnVtYmVyPn0gKi9cbmNvbnN0IGRvY3VtZW50X2xpc3RlbmVycyA9IG5ldyBNYXAoKTtcblxuLyoqXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IEV4cG9ydHNcbiAqIEBwYXJhbSB7Q29tcG9uZW50VHlwZTxTdmVsdGVDb21wb25lbnQ8YW55Pj4gfCBDb21wb25lbnQ8YW55Pn0gQ29tcG9uZW50XG4gKiBAcGFyYW0ge01vdW50T3B0aW9uc30gb3B0aW9uc1xuICogQHJldHVybnMge0V4cG9ydHN9XG4gKi9cbmZ1bmN0aW9uIF9tb3VudChDb21wb25lbnQsIHsgdGFyZ2V0LCBhbmNob3IsIHByb3BzID0ge30sIGV2ZW50cywgY29udGV4dCwgaW50cm8gPSB0cnVlIH0pIHtcblx0aW5pdF9vcGVyYXRpb25zKCk7XG5cblx0LyoqIEB0eXBlIHtTZXQ8c3RyaW5nPn0gKi9cblx0dmFyIHJlZ2lzdGVyZWRfZXZlbnRzID0gbmV3IFNldCgpO1xuXG5cdC8qKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IGV2ZW50cyAqL1xuXHR2YXIgZXZlbnRfaGFuZGxlID0gKGV2ZW50cykgPT4ge1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgZXZlbnRfbmFtZSA9IGV2ZW50c1tpXTtcblxuXHRcdFx0aWYgKHJlZ2lzdGVyZWRfZXZlbnRzLmhhcyhldmVudF9uYW1lKSkgY29udGludWU7XG5cdFx0XHRyZWdpc3RlcmVkX2V2ZW50cy5hZGQoZXZlbnRfbmFtZSk7XG5cblx0XHRcdHZhciBwYXNzaXZlID0gaXNfcGFzc2l2ZV9ldmVudChldmVudF9uYW1lKTtcblxuXHRcdFx0Ly8gQWRkIHRoZSBldmVudCBsaXN0ZW5lciB0byBib3RoIHRoZSBjb250YWluZXIgYW5kIHRoZSBkb2N1bWVudC5cblx0XHRcdC8vIFRoZSBjb250YWluZXIgbGlzdGVuZXIgZW5zdXJlcyB3ZSBjYXRjaCBldmVudHMgZnJvbSB3aXRoaW4gaW4gY2FzZVxuXHRcdFx0Ly8gdGhlIG91dGVyIGNvbnRlbnQgc3RvcHMgcHJvcGFnYXRpb24gb2YgdGhlIGV2ZW50LlxuXHRcdFx0dGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRfbmFtZSwgaGFuZGxlX2V2ZW50X3Byb3BhZ2F0aW9uLCB7IHBhc3NpdmUgfSk7XG5cblx0XHRcdHZhciBuID0gZG9jdW1lbnRfbGlzdGVuZXJzLmdldChldmVudF9uYW1lKTtcblxuXHRcdFx0aWYgKG4gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHQvLyBUaGUgZG9jdW1lbnQgbGlzdGVuZXIgZW5zdXJlcyB3ZSBjYXRjaCBldmVudHMgdGhhdCBvcmlnaW5hdGUgZnJvbSBlbGVtZW50cyB0aGF0IHdlcmVcblx0XHRcdFx0Ly8gbWFudWFsbHkgbW92ZWQgb3V0c2lkZSBvZiB0aGUgY29udGFpbmVyIChlLmcuIHZpYSBtYW51YWwgcG9ydGFscykuXG5cdFx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRfbmFtZSwgaGFuZGxlX2V2ZW50X3Byb3BhZ2F0aW9uLCB7IHBhc3NpdmUgfSk7XG5cdFx0XHRcdGRvY3VtZW50X2xpc3RlbmVycy5zZXQoZXZlbnRfbmFtZSwgMSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkb2N1bWVudF9saXN0ZW5lcnMuc2V0KGV2ZW50X25hbWUsIG4gKyAxKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0ZXZlbnRfaGFuZGxlKGFycmF5X2Zyb20oYWxsX3JlZ2lzdGVyZWRfZXZlbnRzKSk7XG5cdHJvb3RfZXZlbnRfaGFuZGxlcy5hZGQoZXZlbnRfaGFuZGxlKTtcblxuXHQvKiogQHR5cGUge0V4cG9ydHN9ICovXG5cdC8vIEB0cy1leHBlY3QtZXJyb3Igd2lsbCBiZSBkZWZpbmVkIGJlY2F1c2UgdGhlIHJlbmRlciBlZmZlY3QgcnVucyBzeW5jaHJvbm91c2x5XG5cdHZhciBjb21wb25lbnQgPSB1bmRlZmluZWQ7XG5cblx0dmFyIHVubW91bnQgPSBjb21wb25lbnRfcm9vdCgoKSA9PiB7XG5cdFx0dmFyIGFuY2hvcl9ub2RlID0gYW5jaG9yID8/IHRhcmdldC5hcHBlbmRDaGlsZChjcmVhdGVfdGV4dCgpKTtcblxuXHRcdGJvdW5kYXJ5KFxuXHRcdFx0LyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGV9ICovIChhbmNob3Jfbm9kZSksXG5cdFx0XHR7XG5cdFx0XHRcdHBlbmRpbmc6ICgpID0+IHt9XG5cdFx0XHR9LFxuXHRcdFx0KGFuY2hvcl9ub2RlKSA9PiB7XG5cdFx0XHRcdGlmIChjb250ZXh0KSB7XG5cdFx0XHRcdFx0cHVzaCh7fSk7XG5cdFx0XHRcdFx0dmFyIGN0eCA9IC8qKiBAdHlwZSB7Q29tcG9uZW50Q29udGV4dH0gKi8gKGNvbXBvbmVudF9jb250ZXh0KTtcblx0XHRcdFx0XHRjdHguYyA9IGNvbnRleHQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoZXZlbnRzKSB7XG5cdFx0XHRcdFx0Ly8gV2UgY2FuJ3Qgc3ByZWFkIHRoZSBvYmplY3Qgb3IgZWxzZSB3ZSdkIGxvc2UgdGhlIHN0YXRlIHByb3h5IHN0dWZmLCBpZiBpdCBpcyBvbmVcblx0XHRcdFx0XHQvKiogQHR5cGUge2FueX0gKi8gKHByb3BzKS4kJGV2ZW50cyA9IGV2ZW50cztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChoeWRyYXRpbmcpIHtcblx0XHRcdFx0XHRhc3NpZ25fbm9kZXMoLyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGV9ICovIChhbmNob3Jfbm9kZSksIG51bGwpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0c2hvdWxkX2ludHJvID0gaW50cm87XG5cdFx0XHRcdC8vIEB0cy1leHBlY3QtZXJyb3IgdGhlIHB1YmxpYyB0eXBpbmdzIGFyZSBub3Qgd2hhdCB0aGUgYWN0dWFsIGZ1bmN0aW9uIGxvb2tzIGxpa2Vcblx0XHRcdFx0Y29tcG9uZW50ID0gQ29tcG9uZW50KGFuY2hvcl9ub2RlLCBwcm9wcykgfHwge307XG5cdFx0XHRcdHNob3VsZF9pbnRybyA9IHRydWU7XG5cblx0XHRcdFx0aWYgKGh5ZHJhdGluZykge1xuXHRcdFx0XHRcdC8qKiBAdHlwZSB7RWZmZWN0ICYgeyBub2RlczogRWZmZWN0Tm9kZXMgfX0gKi8gKGFjdGl2ZV9lZmZlY3QpLm5vZGVzLmVuZCA9IGh5ZHJhdGVfbm9kZTtcblxuXHRcdFx0XHRcdGlmIChcblx0XHRcdFx0XHRcdGh5ZHJhdGVfbm9kZSA9PT0gbnVsbCB8fFxuXHRcdFx0XHRcdFx0aHlkcmF0ZV9ub2RlLm5vZGVUeXBlICE9PSBDT01NRU5UX05PREUgfHxcblx0XHRcdFx0XHRcdC8qKiBAdHlwZSB7Q29tbWVudH0gKi8gKGh5ZHJhdGVfbm9kZSkuZGF0YSAhPT0gSFlEUkFUSU9OX0VORFxuXHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0dy5oeWRyYXRpb25fbWlzbWF0Y2goKTtcblx0XHRcdFx0XHRcdHRocm93IEhZRFJBVElPTl9FUlJPUjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoY29udGV4dCkge1xuXHRcdFx0XHRcdHBvcCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0KTtcblxuXHRcdHJldHVybiAoKSA9PiB7XG5cdFx0XHRmb3IgKHZhciBldmVudF9uYW1lIG9mIHJlZ2lzdGVyZWRfZXZlbnRzKSB7XG5cdFx0XHRcdHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50X25hbWUsIGhhbmRsZV9ldmVudF9wcm9wYWdhdGlvbik7XG5cblx0XHRcdFx0dmFyIG4gPSAvKiogQHR5cGUge251bWJlcn0gKi8gKGRvY3VtZW50X2xpc3RlbmVycy5nZXQoZXZlbnRfbmFtZSkpO1xuXG5cdFx0XHRcdGlmICgtLW4gPT09IDApIHtcblx0XHRcdFx0XHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50X25hbWUsIGhhbmRsZV9ldmVudF9wcm9wYWdhdGlvbik7XG5cdFx0XHRcdFx0ZG9jdW1lbnRfbGlzdGVuZXJzLmRlbGV0ZShldmVudF9uYW1lKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRkb2N1bWVudF9saXN0ZW5lcnMuc2V0KGV2ZW50X25hbWUsIG4pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJvb3RfZXZlbnRfaGFuZGxlcy5kZWxldGUoZXZlbnRfaGFuZGxlKTtcblxuXHRcdFx0aWYgKGFuY2hvcl9ub2RlICE9PSBhbmNob3IpIHtcblx0XHRcdFx0YW5jaG9yX25vZGUucGFyZW50Tm9kZT8ucmVtb3ZlQ2hpbGQoYW5jaG9yX25vZGUpO1xuXHRcdFx0fVxuXHRcdH07XG5cdH0pO1xuXG5cdG1vdW50ZWRfY29tcG9uZW50cy5zZXQoY29tcG9uZW50LCB1bm1vdW50KTtcblx0cmV0dXJuIGNvbXBvbmVudDtcbn1cblxuLyoqXG4gKiBSZWZlcmVuY2VzIG9mIHRoZSBjb21wb25lbnRzIHRoYXQgd2VyZSBtb3VudGVkIG9yIGh5ZHJhdGVkLlxuICogVXNlcyBhIGBXZWFrTWFwYCB0byBhdm9pZCBtZW1vcnkgbGVha3MuXG4gKi9cbmxldCBtb3VudGVkX2NvbXBvbmVudHMgPSBuZXcgV2Vha01hcCgpO1xuXG4vKipcbiAqIFVubW91bnRzIGEgY29tcG9uZW50IHRoYXQgd2FzIHByZXZpb3VzbHkgbW91bnRlZCB1c2luZyBgbW91bnRgIG9yIGBoeWRyYXRlYC5cbiAqXG4gKiBTaW5jZSA1LjEzLjAsIGlmIGBvcHRpb25zLm91dHJvYCBpcyBgdHJ1ZWAsIFt0cmFuc2l0aW9uc10oaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlL3RyYW5zaXRpb24pIHdpbGwgcGxheSBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyByZW1vdmVkIGZyb20gdGhlIERPTS5cbiAqXG4gKiBSZXR1cm5zIGEgYFByb21pc2VgIHRoYXQgcmVzb2x2ZXMgYWZ0ZXIgdHJhbnNpdGlvbnMgaGF2ZSBjb21wbGV0ZWQgaWYgYG9wdGlvbnMub3V0cm9gIGlzIHRydWUsIG9yIGltbWVkaWF0ZWx5IG90aGVyd2lzZSAocHJpb3IgdG8gNS4xMy4wLCByZXR1cm5zIGB2b2lkYCkuXG4gKlxuICogYGBganNcbiAqIGltcG9ydCB7IG1vdW50LCB1bm1vdW50IH0gZnJvbSAnc3ZlbHRlJztcbiAqIGltcG9ydCBBcHAgZnJvbSAnLi9BcHAuc3ZlbHRlJztcbiAqXG4gKiBjb25zdCBhcHAgPSBtb3VudChBcHAsIHsgdGFyZ2V0OiBkb2N1bWVudC5ib2R5IH0pO1xuICpcbiAqIC8vIGxhdGVyLi4uXG4gKiB1bm1vdW50KGFwcCwgeyBvdXRybzogdHJ1ZSB9KTtcbiAqIGBgYFxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBjb21wb25lbnRcbiAqIEBwYXJhbSB7eyBvdXRybz86IGJvb2xlYW4gfX0gW29wdGlvbnNdXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVubW91bnQoY29tcG9uZW50LCBvcHRpb25zKSB7XG5cdGNvbnN0IGZuID0gbW91bnRlZF9jb21wb25lbnRzLmdldChjb21wb25lbnQpO1xuXG5cdGlmIChmbikge1xuXHRcdG1vdW50ZWRfY29tcG9uZW50cy5kZWxldGUoY29tcG9uZW50KTtcblx0XHRyZXR1cm4gZm4ob3B0aW9ucyk7XG5cdH1cblxuXHRpZiAoREVWKSB7XG5cdFx0aWYgKFNUQVRFX1NZTUJPTCBpbiBjb21wb25lbnQpIHtcblx0XHRcdHcuc3RhdGVfcHJveHlfdW5tb3VudCgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR3LmxpZmVjeWNsZV9kb3VibGVfdW5tb3VudCgpO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbn1cbiIsIi8qKiBAaW1wb3J0IHsgRWZmZWN0LCBUZW1wbGF0ZU5vZGUgfSBmcm9tICcjY2xpZW50JyAqL1xuaW1wb3J0IHsgQmF0Y2gsIGN1cnJlbnRfYmF0Y2ggfSBmcm9tICcuLi8uLi9yZWFjdGl2aXR5L2JhdGNoLmpzJztcbmltcG9ydCB7XG5cdGJyYW5jaCxcblx0ZGVzdHJveV9lZmZlY3QsXG5cdG1vdmVfZWZmZWN0LFxuXHRwYXVzZV9lZmZlY3QsXG5cdHJlc3VtZV9lZmZlY3Rcbn0gZnJvbSAnLi4vLi4vcmVhY3Rpdml0eS9lZmZlY3RzLmpzJztcbmltcG9ydCB7IGh5ZHJhdGVfbm9kZSwgaHlkcmF0aW5nIH0gZnJvbSAnLi4vaHlkcmF0aW9uLmpzJztcbmltcG9ydCB7IGNyZWF0ZV90ZXh0LCBzaG91bGRfZGVmZXJfYXBwZW5kIH0gZnJvbSAnLi4vb3BlcmF0aW9ucy5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge3sgZWZmZWN0OiBFZmZlY3QsIGZyYWdtZW50OiBEb2N1bWVudEZyYWdtZW50IH19IEJyYW5jaFxuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIEtleVxuICovXG5leHBvcnQgY2xhc3MgQnJhbmNoTWFuYWdlciB7XG5cdC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqL1xuXHRhbmNob3I7XG5cblx0LyoqIEB0eXBlIHtNYXA8QmF0Y2gsIEtleT59ICovXG5cdCNiYXRjaGVzID0gbmV3IE1hcCgpO1xuXG5cdC8qKlxuXHQgKiBNYXAgb2Yga2V5cyB0byBlZmZlY3RzIHRoYXQgYXJlIGN1cnJlbnRseSByZW5kZXJlZCBpbiB0aGUgRE9NLlxuXHQgKiBUaGVzZSBlZmZlY3RzIGFyZSB2aXNpYmxlIGFuZCBhY3RpdmVseSBwYXJ0IG9mIHRoZSBkb2N1bWVudCB0cmVlLlxuXHQgKiBFeGFtcGxlOlxuXHQgKiBgYGBcblx0ICogeyNpZiBjb25kaXRpb259XG5cdCAqIFx0Zm9vXG5cdCAqIHs6ZWxzZX1cblx0ICogXHRiYXJcblx0ICogey9pZn1cblx0ICogYGBgXG5cdCAqIENhbiByZXN1bHQgaW4gdGhlIGVudHJpZXMgYHRydWUtPkVmZmVjdGAgYW5kIGBmYWxzZS0+RWZmZWN0YFxuXHQgKiBAdHlwZSB7TWFwPEtleSwgRWZmZWN0Pn1cblx0ICovXG5cdCNvbnNjcmVlbiA9IG5ldyBNYXAoKTtcblxuXHQvKipcblx0ICogU2ltaWxhciB0byAjb25zY3JlZW4gd2l0aCByZXNwZWN0IHRvIHRoZSBrZXlzLCBidXQgY29udGFpbnMgYnJhbmNoZXMgdGhhdCBhcmUgbm90IHlldFxuXHQgKiBpbiB0aGUgRE9NLCBiZWNhdXNlIHRoZWlyIGluc2VydGlvbiBpcyBkZWZlcnJlZC5cblx0ICogQHR5cGUge01hcDxLZXksIEJyYW5jaD59XG5cdCAqL1xuXHQjb2Zmc2NyZWVuID0gbmV3IE1hcCgpO1xuXG5cdC8qKlxuXHQgKiBLZXlzIG9mIGVmZmVjdHMgdGhhdCBhcmUgY3VycmVudGx5IG91dHJvaW5nXG5cdCAqIEB0eXBlIHtTZXQ8S2V5Pn1cblx0ICovXG5cdCNvdXRyb2luZyA9IG5ldyBTZXQoKTtcblxuXHQvKipcblx0ICogV2hldGhlciB0byBwYXVzZSAoaS5lLiBvdXRybykgb24gY2hhbmdlLCBvciBkZXN0cm95IGltbWVkaWF0ZWx5LlxuXHQgKiBUaGlzIGlzIG5lY2Vzc2FyeSBmb3IgYDxzdmVsdGU6ZWxlbWVudD5gXG5cdCAqL1xuXHQjdHJhbnNpdGlvbiA9IHRydWU7XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7VGVtcGxhdGVOb2RlfSBhbmNob3Jcblx0ICogQHBhcmFtIHtib29sZWFufSB0cmFuc2l0aW9uXG5cdCAqL1xuXHRjb25zdHJ1Y3RvcihhbmNob3IsIHRyYW5zaXRpb24gPSB0cnVlKSB7XG5cdFx0dGhpcy5hbmNob3IgPSBhbmNob3I7XG5cdFx0dGhpcy4jdHJhbnNpdGlvbiA9IHRyYW5zaXRpb247XG5cdH1cblxuXHQjY29tbWl0ID0gKCkgPT4ge1xuXHRcdHZhciBiYXRjaCA9IC8qKiBAdHlwZSB7QmF0Y2h9ICovIChjdXJyZW50X2JhdGNoKTtcblxuXHRcdC8vIGlmIHRoaXMgYmF0Y2ggd2FzIG1hZGUgb2Jzb2xldGUsIGJhaWxcblx0XHRpZiAoIXRoaXMuI2JhdGNoZXMuaGFzKGJhdGNoKSkgcmV0dXJuO1xuXG5cdFx0dmFyIGtleSA9IC8qKiBAdHlwZSB7S2V5fSAqLyAodGhpcy4jYmF0Y2hlcy5nZXQoYmF0Y2gpKTtcblxuXHRcdHZhciBvbnNjcmVlbiA9IHRoaXMuI29uc2NyZWVuLmdldChrZXkpO1xuXG5cdFx0aWYgKG9uc2NyZWVuKSB7XG5cdFx0XHQvLyBlZmZlY3QgaXMgYWxyZWFkeSBpbiB0aGUgRE9NIOKAlCBhYm9ydCBhbnkgY3VycmVudCBvdXRyb1xuXHRcdFx0cmVzdW1lX2VmZmVjdChvbnNjcmVlbik7XG5cdFx0XHR0aGlzLiNvdXRyb2luZy5kZWxldGUoa2V5KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gZWZmZWN0IGlzIGN1cnJlbnRseSBvZmZzY3JlZW4uIHB1dCBpdCBpbiB0aGUgRE9NXG5cdFx0XHR2YXIgb2Zmc2NyZWVuID0gdGhpcy4jb2Zmc2NyZWVuLmdldChrZXkpO1xuXG5cdFx0XHRpZiAob2Zmc2NyZWVuKSB7XG5cdFx0XHRcdHRoaXMuI29uc2NyZWVuLnNldChrZXksIG9mZnNjcmVlbi5lZmZlY3QpO1xuXHRcdFx0XHR0aGlzLiNvZmZzY3JlZW4uZGVsZXRlKGtleSk7XG5cblx0XHRcdFx0Ly8gcmVtb3ZlIHRoZSBhbmNob3IuLi5cblx0XHRcdFx0LyoqIEB0eXBlIHtUZW1wbGF0ZU5vZGV9ICovIChvZmZzY3JlZW4uZnJhZ21lbnQubGFzdENoaWxkKS5yZW1vdmUoKTtcblxuXHRcdFx0XHQvLyAuLi5hbmQgYXBwZW5kIHRoZSBmcmFnbWVudFxuXHRcdFx0XHR0aGlzLmFuY2hvci5iZWZvcmUob2Zmc2NyZWVuLmZyYWdtZW50KTtcblx0XHRcdFx0b25zY3JlZW4gPSBvZmZzY3JlZW4uZWZmZWN0O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZvciAoY29uc3QgW2IsIGtdIG9mIHRoaXMuI2JhdGNoZXMpIHtcblx0XHRcdHRoaXMuI2JhdGNoZXMuZGVsZXRlKGIpO1xuXG5cdFx0XHRpZiAoYiA9PT0gYmF0Y2gpIHtcblx0XHRcdFx0Ly8ga2VlcCB2YWx1ZXMgZm9yIG5ld2VyIGJhdGNoZXNcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IG9mZnNjcmVlbiA9IHRoaXMuI29mZnNjcmVlbi5nZXQoayk7XG5cblx0XHRcdGlmIChvZmZzY3JlZW4pIHtcblx0XHRcdFx0Ly8gZm9yIG9sZGVyIGJhdGNoZXMsIGRlc3Ryb3kgb2Zmc2NyZWVuIGVmZmVjdHNcblx0XHRcdFx0Ly8gYXMgdGhleSB3aWxsIG5ldmVyIGJlIGNvbW1pdHRlZFxuXHRcdFx0XHRkZXN0cm95X2VmZmVjdChvZmZzY3JlZW4uZWZmZWN0KTtcblx0XHRcdFx0dGhpcy4jb2Zmc2NyZWVuLmRlbGV0ZShrKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBvdXRyby9kZXN0cm95IGFsbCBvbnNjcmVlbiBlZmZlY3RzLi4uXG5cdFx0Zm9yIChjb25zdCBbaywgZWZmZWN0XSBvZiB0aGlzLiNvbnNjcmVlbikge1xuXHRcdFx0Ly8gLi4uZXhjZXB0IHRoZSBvbmUgdGhhdCB3YXMganVzdCBjb21taXR0ZWRcblx0XHRcdC8vICAgIG9yIHRob3NlIHRoYXQgYXJlIGFscmVhZHkgb3V0cm9pbmcgKGVsc2UgdGhlIHRyYW5zaXRpb24gaXMgYWJvcnRlZCBhbmQgdGhlIGVmZmVjdCBkZXN0cm95ZWQgcmlnaHQgYXdheSlcblx0XHRcdGlmIChrID09PSBrZXkgfHwgdGhpcy4jb3V0cm9pbmcuaGFzKGspKSBjb250aW51ZTtcblxuXHRcdFx0Y29uc3Qgb25fZGVzdHJveSA9ICgpID0+IHtcblx0XHRcdFx0Y29uc3Qga2V5cyA9IEFycmF5LmZyb20odGhpcy4jYmF0Y2hlcy52YWx1ZXMoKSk7XG5cblx0XHRcdFx0aWYgKGtleXMuaW5jbHVkZXMoaykpIHtcblx0XHRcdFx0XHQvLyBrZWVwIHRoZSBlZmZlY3Qgb2Zmc2NyZWVuLCBhcyBhbm90aGVyIGJhdGNoIHdpbGwgbmVlZCBpdFxuXHRcdFx0XHRcdHZhciBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblx0XHRcdFx0XHRtb3ZlX2VmZmVjdChlZmZlY3QsIGZyYWdtZW50KTtcblxuXHRcdFx0XHRcdGZyYWdtZW50LmFwcGVuZChjcmVhdGVfdGV4dCgpKTsgLy8gVE9ETyBjYW4gd2UgYXZvaWQgdGhpcz9cblxuXHRcdFx0XHRcdHRoaXMuI29mZnNjcmVlbi5zZXQoaywgeyBlZmZlY3QsIGZyYWdtZW50IH0pO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRlc3Ryb3lfZWZmZWN0KGVmZmVjdCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLiNvdXRyb2luZy5kZWxldGUoayk7XG5cdFx0XHRcdHRoaXMuI29uc2NyZWVuLmRlbGV0ZShrKTtcblx0XHRcdH07XG5cblx0XHRcdGlmICh0aGlzLiN0cmFuc2l0aW9uIHx8ICFvbnNjcmVlbikge1xuXHRcdFx0XHR0aGlzLiNvdXRyb2luZy5hZGQoayk7XG5cdFx0XHRcdHBhdXNlX2VmZmVjdChlZmZlY3QsIG9uX2Rlc3Ryb3ksIGZhbHNlKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG9uX2Rlc3Ryb3koKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7QmF0Y2h9IGJhdGNoXG5cdCAqL1xuXHQjZGlzY2FyZCA9IChiYXRjaCkgPT4ge1xuXHRcdHRoaXMuI2JhdGNoZXMuZGVsZXRlKGJhdGNoKTtcblxuXHRcdGNvbnN0IGtleXMgPSBBcnJheS5mcm9tKHRoaXMuI2JhdGNoZXMudmFsdWVzKCkpO1xuXG5cdFx0Zm9yIChjb25zdCBbaywgYnJhbmNoXSBvZiB0aGlzLiNvZmZzY3JlZW4pIHtcblx0XHRcdGlmICgha2V5cy5pbmNsdWRlcyhrKSkge1xuXHRcdFx0XHRkZXN0cm95X2VmZmVjdChicmFuY2guZWZmZWN0KTtcblx0XHRcdFx0dGhpcy4jb2Zmc2NyZWVuLmRlbGV0ZShrKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqXG5cdCAqIEBwYXJhbSB7YW55fSBrZXlcblx0ICogQHBhcmFtIHtudWxsIHwgKCh0YXJnZXQ6IFRlbXBsYXRlTm9kZSkgPT4gdm9pZCl9IGZuXG5cdCAqL1xuXHRlbnN1cmUoa2V5LCBmbikge1xuXHRcdHZhciBiYXRjaCA9IC8qKiBAdHlwZSB7QmF0Y2h9ICovIChjdXJyZW50X2JhdGNoKTtcblx0XHR2YXIgZGVmZXIgPSBzaG91bGRfZGVmZXJfYXBwZW5kKCk7XG5cblx0XHRpZiAoZm4gJiYgIXRoaXMuI29uc2NyZWVuLmhhcyhrZXkpICYmICF0aGlzLiNvZmZzY3JlZW4uaGFzKGtleSkpIHtcblx0XHRcdGlmIChkZWZlcikge1xuXHRcdFx0XHR2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cdFx0XHRcdHZhciB0YXJnZXQgPSBjcmVhdGVfdGV4dCgpO1xuXG5cdFx0XHRcdGZyYWdtZW50LmFwcGVuZCh0YXJnZXQpO1xuXG5cdFx0XHRcdHRoaXMuI29mZnNjcmVlbi5zZXQoa2V5LCB7XG5cdFx0XHRcdFx0ZWZmZWN0OiBicmFuY2goKCkgPT4gZm4odGFyZ2V0KSksXG5cdFx0XHRcdFx0ZnJhZ21lbnRcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLiNvbnNjcmVlbi5zZXQoXG5cdFx0XHRcdFx0a2V5LFxuXHRcdFx0XHRcdGJyYW5jaCgoKSA9PiBmbih0aGlzLmFuY2hvcikpXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy4jYmF0Y2hlcy5zZXQoYmF0Y2gsIGtleSk7XG5cblx0XHRpZiAoZGVmZXIpIHtcblx0XHRcdGZvciAoY29uc3QgW2ssIGVmZmVjdF0gb2YgdGhpcy4jb25zY3JlZW4pIHtcblx0XHRcdFx0aWYgKGsgPT09IGtleSkge1xuXHRcdFx0XHRcdGJhdGNoLnNraXBwZWRfZWZmZWN0cy5kZWxldGUoZWZmZWN0KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRiYXRjaC5za2lwcGVkX2VmZmVjdHMuYWRkKGVmZmVjdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Zm9yIChjb25zdCBbaywgYnJhbmNoXSBvZiB0aGlzLiNvZmZzY3JlZW4pIHtcblx0XHRcdFx0aWYgKGsgPT09IGtleSkge1xuXHRcdFx0XHRcdGJhdGNoLnNraXBwZWRfZWZmZWN0cy5kZWxldGUoYnJhbmNoLmVmZmVjdCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0YmF0Y2guc2tpcHBlZF9lZmZlY3RzLmFkZChicmFuY2guZWZmZWN0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRiYXRjaC5vbmNvbW1pdCh0aGlzLiNjb21taXQpO1xuXHRcdFx0YmF0Y2gub25kaXNjYXJkKHRoaXMuI2Rpc2NhcmQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAoaHlkcmF0aW5nKSB7XG5cdFx0XHRcdHRoaXMuYW5jaG9yID0gaHlkcmF0ZV9ub2RlO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLiNjb21taXQoKTtcblx0XHR9XG5cdH1cbn1cbiIsIi8qKiBAaW1wb3J0IHsgVGVtcGxhdGVOb2RlIH0gZnJvbSAnI2NsaWVudCcgKi9cbmltcG9ydCB7IEVGRkVDVF9UUkFOU1BBUkVOVCB9IGZyb20gJyNjbGllbnQvY29uc3RhbnRzJztcbmltcG9ydCB7XG5cdGh5ZHJhdGVfbmV4dCxcblx0aHlkcmF0aW5nLFxuXHRyZWFkX2h5ZHJhdGlvbl9pbnN0cnVjdGlvbixcblx0c2tpcF9ub2Rlcyxcblx0c2V0X2h5ZHJhdGVfbm9kZSxcblx0c2V0X2h5ZHJhdGluZ1xufSBmcm9tICcuLi9oeWRyYXRpb24uanMnO1xuaW1wb3J0IHsgYmxvY2sgfSBmcm9tICcuLi8uLi9yZWFjdGl2aXR5L2VmZmVjdHMuanMnO1xuaW1wb3J0IHsgSFlEUkFUSU9OX1NUQVJUX0VMU0UgfSBmcm9tICcuLi8uLi8uLi8uLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgQnJhbmNoTWFuYWdlciB9IGZyb20gJy4vYnJhbmNoZXMuanMnO1xuXG4vLyBUT0RPIHJlaW5zdGF0ZSBodHRwczovL2dpdGh1Yi5jb20vc3ZlbHRlanMvc3ZlbHRlL3B1bGwvMTUyNTBcblxuLyoqXG4gKiBAcGFyYW0ge1RlbXBsYXRlTm9kZX0gbm9kZVxuICogQHBhcmFtIHsoYnJhbmNoOiAoZm46IChhbmNob3I6IE5vZGUpID0+IHZvaWQsIGZsYWc/OiBib29sZWFuKSA9PiB2b2lkKSA9PiB2b2lkfSBmblxuICogQHBhcmFtIHtib29sZWFufSBbZWxzZWlmXSBUcnVlIGlmIHRoaXMgaXMgYW4gYHs6ZWxzZSBpZiAuLi59YCBibG9jayByYXRoZXIgdGhhbiBhbiBgeyNpZiAuLi59YCwgYXMgdGhhdCBhZmZlY3RzIHdoaWNoIHRyYW5zaXRpb25zIGFyZSBjb25zaWRlcmVkICdsb2NhbCdcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaWZfYmxvY2sobm9kZSwgZm4sIGVsc2VpZiA9IGZhbHNlKSB7XG5cdGlmIChoeWRyYXRpbmcpIHtcblx0XHRoeWRyYXRlX25leHQoKTtcblx0fVxuXG5cdHZhciBicmFuY2hlcyA9IG5ldyBCcmFuY2hNYW5hZ2VyKG5vZGUpO1xuXHR2YXIgZmxhZ3MgPSBlbHNlaWYgPyBFRkZFQ1RfVFJBTlNQQVJFTlQgOiAwO1xuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IGNvbmRpdGlvbixcblx0ICogQHBhcmFtIHtudWxsIHwgKChhbmNob3I6IE5vZGUpID0+IHZvaWQpfSBmblxuXHQgKi9cblx0ZnVuY3Rpb24gdXBkYXRlX2JyYW5jaChjb25kaXRpb24sIGZuKSB7XG5cdFx0aWYgKGh5ZHJhdGluZykge1xuXHRcdFx0Y29uc3QgaXNfZWxzZSA9IHJlYWRfaHlkcmF0aW9uX2luc3RydWN0aW9uKG5vZGUpID09PSBIWURSQVRJT05fU1RBUlRfRUxTRTtcblxuXHRcdFx0aWYgKGNvbmRpdGlvbiA9PT0gaXNfZWxzZSkge1xuXHRcdFx0XHQvLyBIeWRyYXRpb24gbWlzbWF0Y2g6IHJlbW92ZSBldmVyeXRoaW5nIGluc2lkZSB0aGUgYW5jaG9yIGFuZCBzdGFydCBmcmVzaC5cblx0XHRcdFx0Ly8gVGhpcyBjb3VsZCBoYXBwZW4gd2l0aCBgeyNpZiBicm93c2VyfS4uLnsvaWZ9YCwgZm9yIGV4YW1wbGVcblx0XHRcdFx0dmFyIGFuY2hvciA9IHNraXBfbm9kZXMoKTtcblxuXHRcdFx0XHRzZXRfaHlkcmF0ZV9ub2RlKGFuY2hvcik7XG5cdFx0XHRcdGJyYW5jaGVzLmFuY2hvciA9IGFuY2hvcjtcblxuXHRcdFx0XHRzZXRfaHlkcmF0aW5nKGZhbHNlKTtcblx0XHRcdFx0YnJhbmNoZXMuZW5zdXJlKGNvbmRpdGlvbiwgZm4pO1xuXHRcdFx0XHRzZXRfaHlkcmF0aW5nKHRydWUpO1xuXG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRicmFuY2hlcy5lbnN1cmUoY29uZGl0aW9uLCBmbik7XG5cdH1cblxuXHRibG9jaygoKSA9PiB7XG5cdFx0dmFyIGhhc19icmFuY2ggPSBmYWxzZTtcblxuXHRcdGZuKChmbiwgZmxhZyA9IHRydWUpID0+IHtcblx0XHRcdGhhc19icmFuY2ggPSB0cnVlO1xuXHRcdFx0dXBkYXRlX2JyYW5jaChmbGFnLCBmbik7XG5cdFx0fSk7XG5cblx0XHRpZiAoIWhhc19icmFuY2gpIHtcblx0XHRcdHVwZGF0ZV9icmFuY2goZmFsc2UsIG51bGwpO1xuXHRcdH1cblx0fSwgZmxhZ3MpO1xufVxuIiwiLyoqIEBpbXBvcnQgeyBFYWNoSXRlbSwgRWFjaE91dHJvR3JvdXAsIEVhY2hTdGF0ZSwgRWZmZWN0LCBFZmZlY3ROb2RlcywgTWF5YmVTb3VyY2UsIFNvdXJjZSwgVGVtcGxhdGVOb2RlLCBUcmFuc2l0aW9uTWFuYWdlciwgVmFsdWUgfSBmcm9tICcjY2xpZW50JyAqL1xuLyoqIEBpbXBvcnQgeyBCYXRjaCB9IGZyb20gJy4uLy4uL3JlYWN0aXZpdHkvYmF0Y2guanMnOyAqL1xuaW1wb3J0IHtcblx0RUFDSF9JTkRFWF9SRUFDVElWRSxcblx0RUFDSF9JU19BTklNQVRFRCxcblx0RUFDSF9JU19DT05UUk9MTEVELFxuXHRFQUNIX0lURU1fSU1NVVRBQkxFLFxuXHRFQUNIX0lURU1fUkVBQ1RJVkUsXG5cdEhZRFJBVElPTl9FTkQsXG5cdEhZRFJBVElPTl9TVEFSVF9FTFNFXG59IGZyb20gJy4uLy4uLy4uLy4uL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQge1xuXHRoeWRyYXRlX25leHQsXG5cdGh5ZHJhdGVfbm9kZSxcblx0aHlkcmF0aW5nLFxuXHRyZWFkX2h5ZHJhdGlvbl9pbnN0cnVjdGlvbixcblx0c2tpcF9ub2Rlcyxcblx0c2V0X2h5ZHJhdGVfbm9kZSxcblx0c2V0X2h5ZHJhdGluZ1xufSBmcm9tICcuLi9oeWRyYXRpb24uanMnO1xuaW1wb3J0IHtcblx0Y2xlYXJfdGV4dF9jb250ZW50LFxuXHRjcmVhdGVfdGV4dCxcblx0Z2V0X2ZpcnN0X2NoaWxkLFxuXHRnZXRfbmV4dF9zaWJsaW5nLFxuXHRzaG91bGRfZGVmZXJfYXBwZW5kXG59IGZyb20gJy4uL29wZXJhdGlvbnMuanMnO1xuaW1wb3J0IHtcblx0YmxvY2ssXG5cdGJyYW5jaCxcblx0ZGVzdHJveV9lZmZlY3QsXG5cdHBhdXNlX2VmZmVjdCxcblx0cmVzdW1lX2VmZmVjdFxufSBmcm9tICcuLi8uLi9yZWFjdGl2aXR5L2VmZmVjdHMuanMnO1xuaW1wb3J0IHsgc291cmNlLCBtdXRhYmxlX3NvdXJjZSwgaW50ZXJuYWxfc2V0IH0gZnJvbSAnLi4vLi4vcmVhY3Rpdml0eS9zb3VyY2VzLmpzJztcbmltcG9ydCB7IGFycmF5X2Zyb20sIGlzX2FycmF5IH0gZnJvbSAnLi4vLi4vLi4vc2hhcmVkL3V0aWxzLmpzJztcbmltcG9ydCB7IENPTU1FTlRfTk9ERSwgRUZGRUNUX09GRlNDUkVFTiwgSU5FUlQgfSBmcm9tICcjY2xpZW50L2NvbnN0YW50cyc7XG5pbXBvcnQgeyBxdWV1ZV9taWNyb190YXNrIH0gZnJvbSAnLi4vdGFzay5qcyc7XG5pbXBvcnQgeyBnZXQgfSBmcm9tICcuLi8uLi9ydW50aW1lLmpzJztcbmltcG9ydCB7IERFViB9IGZyb20gJ2VzbS1lbnYnO1xuaW1wb3J0IHsgZGVyaXZlZF9zYWZlX2VxdWFsIH0gZnJvbSAnLi4vLi4vcmVhY3Rpdml0eS9kZXJpdmVkcy5qcyc7XG5pbXBvcnQgeyBjdXJyZW50X2JhdGNoIH0gZnJvbSAnLi4vLi4vcmVhY3Rpdml0eS9iYXRjaC5qcyc7XG5cbi8vIFdoZW4gbWFraW5nIHN1YnN0YW50aXZlIGNoYW5nZXMgdG8gdGhpcyBmaWxlLCB2YWxpZGF0ZSB0aGVtIHdpdGggdGhlIGVhY2ggYmxvY2sgc3RyZXNzIHRlc3Q6XG4vLyBodHRwczovL3N2ZWx0ZS5kZXYvcGxheWdyb3VuZC8xOTcyYjJjZjQ2NTY0NDc2YWQ4YzhjNjQwNWIyM2I3YlxuLy8gVGhpcyB0ZXN0IGFsc28gZXhpc3RzIGluIHRoaXMgcmVwbywgYXMgYHBhY2thZ2VzL3N2ZWx0ZS90ZXN0cy9tYW51YWwvZWFjaC1zdHJlc3MtdGVzdGBcblxuLyoqXG4gKiBAcGFyYW0ge2FueX0gX1xuICogQHBhcmFtIHtudW1iZXJ9IGlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluZGV4KF8sIGkpIHtcblx0cmV0dXJuIGk7XG59XG5cbi8qKlxuICogUGF1c2UgbXVsdGlwbGUgZWZmZWN0cyBzaW11bHRhbmVvdXNseSwgYW5kIGNvb3JkaW5hdGUgdGhlaXJcbiAqIHN1YnNlcXVlbnQgZGVzdHJ1Y3Rpb24uIFVzZWQgaW4gZWFjaCBibG9ja3NcbiAqIEBwYXJhbSB7RWFjaFN0YXRlfSBzdGF0ZVxuICogQHBhcmFtIHtFZmZlY3RbXX0gdG9fZGVzdHJveVxuICogQHBhcmFtIHtudWxsIHwgTm9kZX0gY29udHJvbGxlZF9hbmNob3JcbiAqL1xuZnVuY3Rpb24gcGF1c2VfZWZmZWN0cyhzdGF0ZSwgdG9fZGVzdHJveSwgY29udHJvbGxlZF9hbmNob3IpIHtcblx0LyoqIEB0eXBlIHtUcmFuc2l0aW9uTWFuYWdlcltdfSAqL1xuXHR2YXIgdHJhbnNpdGlvbnMgPSBbXTtcblx0dmFyIGxlbmd0aCA9IHRvX2Rlc3Ryb3kubGVuZ3RoO1xuXG5cdC8qKiBAdHlwZSB7RWFjaE91dHJvR3JvdXB9ICovXG5cdHZhciBncm91cDtcblx0dmFyIHJlbWFpbmluZyA9IHRvX2Rlc3Ryb3kubGVuZ3RoO1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRsZXQgZWZmZWN0ID0gdG9fZGVzdHJveVtpXTtcblxuXHRcdHBhdXNlX2VmZmVjdChcblx0XHRcdGVmZmVjdCxcblx0XHRcdCgpID0+IHtcblx0XHRcdFx0aWYgKGdyb3VwKSB7XG5cdFx0XHRcdFx0Z3JvdXAucGVuZGluZy5kZWxldGUoZWZmZWN0KTtcblx0XHRcdFx0XHRncm91cC5kb25lLmFkZChlZmZlY3QpO1xuXG5cdFx0XHRcdFx0aWYgKGdyb3VwLnBlbmRpbmcuc2l6ZSA9PT0gMCkge1xuXHRcdFx0XHRcdFx0dmFyIGdyb3VwcyA9IC8qKiBAdHlwZSB7U2V0PEVhY2hPdXRyb0dyb3VwPn0gKi8gKHN0YXRlLm91dHJvZ3JvdXBzKTtcblxuXHRcdFx0XHRcdFx0ZGVzdHJveV9lZmZlY3RzKGFycmF5X2Zyb20oZ3JvdXAuZG9uZSkpO1xuXHRcdFx0XHRcdFx0Z3JvdXBzLmRlbGV0ZShncm91cCk7XG5cblx0XHRcdFx0XHRcdGlmIChncm91cHMuc2l6ZSA9PT0gMCkge1xuXHRcdFx0XHRcdFx0XHRzdGF0ZS5vdXRyb2dyb3VwcyA9IG51bGw7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJlbWFpbmluZyAtPSAxO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0ZmFsc2Vcblx0XHQpO1xuXHR9XG5cblx0aWYgKHJlbWFpbmluZyA9PT0gMCkge1xuXHRcdC8vIElmIHdlJ3JlIGluIGEgY29udHJvbGxlZCBlYWNoIGJsb2NrIChpLmUuIHRoZSBibG9jayBpcyB0aGUgb25seSBjaGlsZCBvZiBhblxuXHRcdC8vIGVsZW1lbnQpLCBhbmQgd2UgYXJlIHJlbW92aW5nIGFsbCBpdGVtcywgX2FuZF8gdGhlcmUgYXJlIG5vIG91dCB0cmFuc2l0aW9ucyxcblx0XHQvLyB3ZSBjYW4gdXNlIHRoZSBmYXN0IHBhdGgg4oCUIGVtcHR5aW5nIHRoZSBlbGVtZW50IGFuZCByZXBsYWNpbmcgdGhlIGFuY2hvclxuXHRcdHZhciBmYXN0X3BhdGggPSB0cmFuc2l0aW9ucy5sZW5ndGggPT09IDAgJiYgY29udHJvbGxlZF9hbmNob3IgIT09IG51bGw7XG5cblx0XHRpZiAoZmFzdF9wYXRoKSB7XG5cdFx0XHR2YXIgYW5jaG9yID0gLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAoY29udHJvbGxlZF9hbmNob3IpO1xuXHRcdFx0dmFyIHBhcmVudF9ub2RlID0gLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAoYW5jaG9yLnBhcmVudE5vZGUpO1xuXG5cdFx0XHRjbGVhcl90ZXh0X2NvbnRlbnQocGFyZW50X25vZGUpO1xuXHRcdFx0cGFyZW50X25vZGUuYXBwZW5kKGFuY2hvcik7XG5cblx0XHRcdHN0YXRlLml0ZW1zLmNsZWFyKCk7XG5cdFx0fVxuXG5cdFx0ZGVzdHJveV9lZmZlY3RzKHRvX2Rlc3Ryb3ksICFmYXN0X3BhdGgpO1xuXHR9IGVsc2Uge1xuXHRcdGdyb3VwID0ge1xuXHRcdFx0cGVuZGluZzogbmV3IFNldCh0b19kZXN0cm95KSxcblx0XHRcdGRvbmU6IG5ldyBTZXQoKVxuXHRcdH07XG5cblx0XHQoc3RhdGUub3V0cm9ncm91cHMgPz89IG5ldyBTZXQoKSkuYWRkKGdyb3VwKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7RWZmZWN0W119IHRvX2Rlc3Ryb3lcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVtb3ZlX2RvbVxuICovXG5mdW5jdGlvbiBkZXN0cm95X2VmZmVjdHModG9fZGVzdHJveSwgcmVtb3ZlX2RvbSA9IHRydWUpIHtcblx0Ly8gVE9ETyBvbmx5IGRlc3Ryb3kgZWZmZWN0cyBpZiBubyBwZW5kaW5nIGJhdGNoIG5lZWRzIHRoZW0uIG90aGVyd2lzZSxcblx0Ly8ganVzdCByZS1hZGQgdGhlIGBFRkZFQ1RfT0ZGU0NSRUVOYCBmbGFnXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgdG9fZGVzdHJveS5sZW5ndGg7IGkrKykge1xuXHRcdGRlc3Ryb3lfZWZmZWN0KHRvX2Rlc3Ryb3lbaV0sIHJlbW92ZV9kb20pO1xuXHR9XG59XG5cbi8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqL1xudmFyIG9mZnNjcmVlbl9hbmNob3I7XG5cbi8qKlxuICogQHRlbXBsYXRlIFZcbiAqIEBwYXJhbSB7RWxlbWVudCB8IENvbW1lbnR9IG5vZGUgVGhlIG5leHQgc2libGluZyBub2RlLCBvciB0aGUgcGFyZW50IG5vZGUgaWYgdGhpcyBpcyBhICdjb250cm9sbGVkJyBibG9ja1xuICogQHBhcmFtIHtudW1iZXJ9IGZsYWdzXG4gKiBAcGFyYW0geygpID0+IFZbXX0gZ2V0X2NvbGxlY3Rpb25cbiAqIEBwYXJhbSB7KHZhbHVlOiBWLCBpbmRleDogbnVtYmVyKSA9PiBhbnl9IGdldF9rZXlcbiAqIEBwYXJhbSB7KGFuY2hvcjogTm9kZSwgaXRlbTogTWF5YmVTb3VyY2U8Vj4sIGluZGV4OiBNYXliZVNvdXJjZTxudW1iZXI+KSA9PiB2b2lkfSByZW5kZXJfZm5cbiAqIEBwYXJhbSB7bnVsbCB8ICgoYW5jaG9yOiBOb2RlKSA9PiB2b2lkKX0gZmFsbGJhY2tfZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWFjaChub2RlLCBmbGFncywgZ2V0X2NvbGxlY3Rpb24sIGdldF9rZXksIHJlbmRlcl9mbiwgZmFsbGJhY2tfZm4gPSBudWxsKSB7XG5cdHZhciBhbmNob3IgPSBub2RlO1xuXG5cdC8qKiBAdHlwZSB7TWFwPGFueSwgRWFjaEl0ZW0+fSAqL1xuXHR2YXIgaXRlbXMgPSBuZXcgTWFwKCk7XG5cblx0dmFyIGlzX2NvbnRyb2xsZWQgPSAoZmxhZ3MgJiBFQUNIX0lTX0NPTlRST0xMRUQpICE9PSAwO1xuXG5cdGlmIChpc19jb250cm9sbGVkKSB7XG5cdFx0dmFyIHBhcmVudF9ub2RlID0gLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAobm9kZSk7XG5cblx0XHRhbmNob3IgPSBoeWRyYXRpbmdcblx0XHRcdD8gc2V0X2h5ZHJhdGVfbm9kZShnZXRfZmlyc3RfY2hpbGQocGFyZW50X25vZGUpKVxuXHRcdFx0OiBwYXJlbnRfbm9kZS5hcHBlbmRDaGlsZChjcmVhdGVfdGV4dCgpKTtcblx0fVxuXG5cdGlmIChoeWRyYXRpbmcpIHtcblx0XHRoeWRyYXRlX25leHQoKTtcblx0fVxuXG5cdC8qKiBAdHlwZSB7RWZmZWN0IHwgbnVsbH0gKi9cblx0dmFyIGZhbGxiYWNrID0gbnVsbDtcblxuXHQvLyBUT0RPOiBpZGVhbGx5IHdlIGNvdWxkIHVzZSBkZXJpdmVkIGZvciBydW5lcyBtb2RlIGJ1dCBiZWNhdXNlIG9mIHRoZSBhYmlsaXR5XG5cdC8vIHRvIHVzZSBhIHN0b3JlIHdoaWNoIGNhbiBiZSBtdXRhdGVkLCB3ZSBjYW4ndCBkbyB0aGF0IGhlcmUgYXMgbXV0YXRpbmcgYSBzdG9yZVxuXHQvLyB3aWxsIHN0aWxsIHJlc3VsdCBpbiB0aGUgY29sbGVjdGlvbiBhcnJheSBiZWluZyB0aGUgc2FtZSBmcm9tIHRoZSBzdG9yZVxuXHR2YXIgZWFjaF9hcnJheSA9IGRlcml2ZWRfc2FmZV9lcXVhbCgoKSA9PiB7XG5cdFx0dmFyIGNvbGxlY3Rpb24gPSBnZXRfY29sbGVjdGlvbigpO1xuXG5cdFx0cmV0dXJuIGlzX2FycmF5KGNvbGxlY3Rpb24pID8gY29sbGVjdGlvbiA6IGNvbGxlY3Rpb24gPT0gbnVsbCA/IFtdIDogYXJyYXlfZnJvbShjb2xsZWN0aW9uKTtcblx0fSk7XG5cblx0LyoqIEB0eXBlIHtWW119ICovXG5cdHZhciBhcnJheTtcblxuXHR2YXIgZmlyc3RfcnVuID0gdHJ1ZTtcblxuXHRmdW5jdGlvbiBjb21taXQoKSB7XG5cdFx0c3RhdGUuZmFsbGJhY2sgPSBmYWxsYmFjaztcblx0XHRyZWNvbmNpbGUoc3RhdGUsIGFycmF5LCBhbmNob3IsIGZsYWdzLCBnZXRfa2V5KTtcblxuXHRcdGlmIChmYWxsYmFjayAhPT0gbnVsbCkge1xuXHRcdFx0aWYgKGFycmF5Lmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRpZiAoKGZhbGxiYWNrLmYgJiBFRkZFQ1RfT0ZGU0NSRUVOKSA9PT0gMCkge1xuXHRcdFx0XHRcdHJlc3VtZV9lZmZlY3QoZmFsbGJhY2spO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGZhbGxiYWNrLmYgXj0gRUZGRUNUX09GRlNDUkVFTjtcblx0XHRcdFx0XHRtb3ZlKGZhbGxiYWNrLCBudWxsLCBhbmNob3IpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRwYXVzZV9lZmZlY3QoZmFsbGJhY2ssICgpID0+IHtcblx0XHRcdFx0XHQvLyBUT0RPIG9ubHkgbnVsbCBvdXQgaWYgbm8gcGVuZGluZyBiYXRjaCBuZWVkcyBpdCxcblx0XHRcdFx0XHQvLyBvdGhlcndpc2UgcmUtYWRkIGBmYWxsYmFjay5mcmFnbWVudGAgYW5kIG1vdmUgdGhlXG5cdFx0XHRcdFx0Ly8gZWZmZWN0IGludG8gaXRcblx0XHRcdFx0XHRmYWxsYmFjayA9IG51bGw7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHZhciBlZmZlY3QgPSBibG9jaygoKSA9PiB7XG5cdFx0YXJyYXkgPSAvKiogQHR5cGUge1ZbXX0gKi8gKGdldChlYWNoX2FycmF5KSk7XG5cdFx0dmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuXHRcdC8qKiBgdHJ1ZWAgaWYgdGhlcmUgd2FzIGEgaHlkcmF0aW9uIG1pc21hdGNoLiBOZWVkcyB0byBiZSBhIGBsZXRgIG9yIGVsc2UgaXQgaXNuJ3QgdHJlZXNoYWtlbiBvdXQgKi9cblx0XHRsZXQgbWlzbWF0Y2ggPSBmYWxzZTtcblxuXHRcdGlmIChoeWRyYXRpbmcpIHtcblx0XHRcdHZhciBpc19lbHNlID0gcmVhZF9oeWRyYXRpb25faW5zdHJ1Y3Rpb24oYW5jaG9yKSA9PT0gSFlEUkFUSU9OX1NUQVJUX0VMU0U7XG5cblx0XHRcdGlmIChpc19lbHNlICE9PSAobGVuZ3RoID09PSAwKSkge1xuXHRcdFx0XHQvLyBoeWRyYXRpb24gbWlzbWF0Y2gg4oCUIHJlbW92ZSB0aGUgc2VydmVyLXJlbmRlcmVkIERPTSBhbmQgc3RhcnQgb3ZlclxuXHRcdFx0XHRhbmNob3IgPSBza2lwX25vZGVzKCk7XG5cblx0XHRcdFx0c2V0X2h5ZHJhdGVfbm9kZShhbmNob3IpO1xuXHRcdFx0XHRzZXRfaHlkcmF0aW5nKGZhbHNlKTtcblx0XHRcdFx0bWlzbWF0Y2ggPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHZhciBrZXlzID0gbmV3IFNldCgpO1xuXHRcdHZhciBiYXRjaCA9IC8qKiBAdHlwZSB7QmF0Y2h9ICovIChjdXJyZW50X2JhdGNoKTtcblx0XHR2YXIgZGVmZXIgPSBzaG91bGRfZGVmZXJfYXBwZW5kKCk7XG5cblx0XHRmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdGh5ZHJhdGluZyAmJlxuXHRcdFx0XHRoeWRyYXRlX25vZGUubm9kZVR5cGUgPT09IENPTU1FTlRfTk9ERSAmJlxuXHRcdFx0XHQvKiogQHR5cGUge0NvbW1lbnR9ICovIChoeWRyYXRlX25vZGUpLmRhdGEgPT09IEhZRFJBVElPTl9FTkRcblx0XHRcdCkge1xuXHRcdFx0XHQvLyBUaGUgc2VydmVyIHJlbmRlcmVkIGZld2VyIGl0ZW1zIHRoYW4gZXhwZWN0ZWQsXG5cdFx0XHRcdC8vIHNvIGJyZWFrIG91dCBhbmQgY29udGludWUgYXBwZW5kaW5nIG5vbi1oeWRyYXRlZCBpdGVtc1xuXHRcdFx0XHRhbmNob3IgPSAvKiogQHR5cGUge0NvbW1lbnR9ICovIChoeWRyYXRlX25vZGUpO1xuXHRcdFx0XHRtaXNtYXRjaCA9IHRydWU7XG5cdFx0XHRcdHNldF9oeWRyYXRpbmcoZmFsc2UpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG5cdFx0XHR2YXIga2V5ID0gZ2V0X2tleSh2YWx1ZSwgaW5kZXgpO1xuXG5cdFx0XHR2YXIgaXRlbSA9IGZpcnN0X3J1biA/IG51bGwgOiBpdGVtcy5nZXQoa2V5KTtcblxuXHRcdFx0aWYgKGl0ZW0pIHtcblx0XHRcdFx0Ly8gdXBkYXRlIGJlZm9yZSByZWNvbmNpbGlhdGlvbiwgdG8gdHJpZ2dlciBhbnkgYXN5bmMgdXBkYXRlc1xuXHRcdFx0XHRpZiAoaXRlbS52KSBpbnRlcm5hbF9zZXQoaXRlbS52LCB2YWx1ZSk7XG5cdFx0XHRcdGlmIChpdGVtLmkpIGludGVybmFsX3NldChpdGVtLmksIGluZGV4KTtcblxuXHRcdFx0XHRpZiAoZGVmZXIpIHtcblx0XHRcdFx0XHRiYXRjaC5za2lwcGVkX2VmZmVjdHMuZGVsZXRlKGl0ZW0uZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGl0ZW0gPSBjcmVhdGVfaXRlbShcblx0XHRcdFx0XHRpdGVtcyxcblx0XHRcdFx0XHRmaXJzdF9ydW4gPyBhbmNob3IgOiAob2Zmc2NyZWVuX2FuY2hvciA/Pz0gY3JlYXRlX3RleHQoKSksXG5cdFx0XHRcdFx0dmFsdWUsXG5cdFx0XHRcdFx0a2V5LFxuXHRcdFx0XHRcdGluZGV4LFxuXHRcdFx0XHRcdHJlbmRlcl9mbixcblx0XHRcdFx0XHRmbGFncyxcblx0XHRcdFx0XHRnZXRfY29sbGVjdGlvblxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdGlmICghZmlyc3RfcnVuKSB7XG5cdFx0XHRcdFx0aXRlbS5lLmYgfD0gRUZGRUNUX09GRlNDUkVFTjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGl0ZW1zLnNldChrZXksIGl0ZW0pO1xuXHRcdFx0fVxuXG5cdFx0XHRrZXlzLmFkZChrZXkpO1xuXHRcdH1cblxuXHRcdGlmIChsZW5ndGggPT09IDAgJiYgZmFsbGJhY2tfZm4gJiYgIWZhbGxiYWNrKSB7XG5cdFx0XHRpZiAoZmlyc3RfcnVuKSB7XG5cdFx0XHRcdGZhbGxiYWNrID0gYnJhbmNoKCgpID0+IGZhbGxiYWNrX2ZuKGFuY2hvcikpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZmFsbGJhY2sgPSBicmFuY2goKCkgPT4gZmFsbGJhY2tfZm4oKG9mZnNjcmVlbl9hbmNob3IgPz89IGNyZWF0ZV90ZXh0KCkpKSk7XG5cdFx0XHRcdGZhbGxiYWNrLmYgfD0gRUZGRUNUX09GRlNDUkVFTjtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyByZW1vdmUgZXhjZXNzIG5vZGVzXG5cdFx0aWYgKGh5ZHJhdGluZyAmJiBsZW5ndGggPiAwKSB7XG5cdFx0XHRzZXRfaHlkcmF0ZV9ub2RlKHNraXBfbm9kZXMoKSk7XG5cdFx0fVxuXG5cdFx0aWYgKCFmaXJzdF9ydW4pIHtcblx0XHRcdGlmIChkZWZlcikge1xuXHRcdFx0XHRmb3IgKGNvbnN0IFtrZXksIGl0ZW1dIG9mIGl0ZW1zKSB7XG5cdFx0XHRcdFx0aWYgKCFrZXlzLmhhcyhrZXkpKSB7XG5cdFx0XHRcdFx0XHRiYXRjaC5za2lwcGVkX2VmZmVjdHMuYWRkKGl0ZW0uZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0YmF0Y2gub25jb21taXQoY29tbWl0KTtcblx0XHRcdFx0YmF0Y2gub25kaXNjYXJkKCgpID0+IHtcblx0XHRcdFx0XHQvLyBUT0RPIHByZXN1bWFibHkgd2UgbmVlZCB0byBkbyBzb21ldGhpbmcgaGVyZT9cblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb21taXQoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAobWlzbWF0Y2gpIHtcblx0XHRcdC8vIGNvbnRpbnVlIGluIGh5ZHJhdGlvbiBtb2RlXG5cdFx0XHRzZXRfaHlkcmF0aW5nKHRydWUpO1xuXHRcdH1cblxuXHRcdC8vIFdoZW4gd2UgbW91bnQgdGhlIGVhY2ggYmxvY2sgZm9yIHRoZSBmaXJzdCB0aW1lLCB0aGUgY29sbGVjdGlvbiB3b24ndCBiZVxuXHRcdC8vIGNvbm5lY3RlZCB0byB0aGlzIGVmZmVjdCBhcyB0aGUgZWZmZWN0IGhhc24ndCBmaW5pc2hlZCBydW5uaW5nIHlldCBhbmQgaXRzIGRlcHNcblx0XHQvLyB3b24ndCBiZSBhc3NpZ25lZC4gSG93ZXZlciwgaXQncyBwb3NzaWJsZSB0aGF0IHdoZW4gcmVjb25jaWxpbmcgdGhlIGVhY2ggYmxvY2tcblx0XHQvLyB0aGF0IGEgbXV0YXRpb24gb2NjdXJyZWQgYW5kIGl0J3MgbWFkZSB0aGUgY29sbGVjdGlvbiBNQVlCRV9ESVJUWSwgc28gcmVhZGluZyB0aGVcblx0XHQvLyBjb2xsZWN0aW9uIGFnYWluIGNhbiBwcm92aWRlIGNvbnNpc3RlbmN5IHRvIHRoZSByZWFjdGl2ZSBncmFwaCBhZ2FpbiBhcyB0aGUgZGVyaXZlZHNcblx0XHQvLyB3aWxsIG5vdyBiZSBgQ0xFQU5gLlxuXHRcdGdldChlYWNoX2FycmF5KTtcblx0fSk7XG5cblx0LyoqIEB0eXBlIHtFYWNoU3RhdGV9ICovXG5cdHZhciBzdGF0ZSA9IHsgZWZmZWN0LCBmbGFncywgaXRlbXMsIG91dHJvZ3JvdXBzOiBudWxsLCBmYWxsYmFjayB9O1xuXG5cdGZpcnN0X3J1biA9IGZhbHNlO1xuXG5cdGlmIChoeWRyYXRpbmcpIHtcblx0XHRhbmNob3IgPSBoeWRyYXRlX25vZGU7XG5cdH1cbn1cblxuLyoqXG4gKiBBZGQsIHJlbW92ZSwgb3IgcmVvcmRlciBpdGVtcyBvdXRwdXQgYnkgYW4gZWFjaCBibG9jayBhcyBpdHMgaW5wdXQgY2hhbmdlc1xuICogQHRlbXBsYXRlIFZcbiAqIEBwYXJhbSB7RWFjaFN0YXRlfSBzdGF0ZVxuICogQHBhcmFtIHtBcnJheTxWPn0gYXJyYXlcbiAqIEBwYXJhbSB7RWxlbWVudCB8IENvbW1lbnQgfCBUZXh0fSBhbmNob3JcbiAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnc1xuICogQHBhcmFtIHsodmFsdWU6IFYsIGluZGV4OiBudW1iZXIpID0+IGFueX0gZ2V0X2tleVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIHJlY29uY2lsZShzdGF0ZSwgYXJyYXksIGFuY2hvciwgZmxhZ3MsIGdldF9rZXkpIHtcblx0dmFyIGlzX2FuaW1hdGVkID0gKGZsYWdzICYgRUFDSF9JU19BTklNQVRFRCkgIT09IDA7XG5cblx0dmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblx0dmFyIGl0ZW1zID0gc3RhdGUuaXRlbXM7XG5cdHZhciBjdXJyZW50ID0gc3RhdGUuZWZmZWN0LmZpcnN0O1xuXG5cdC8qKiBAdHlwZSB7dW5kZWZpbmVkIHwgU2V0PEVmZmVjdD59ICovXG5cdHZhciBzZWVuO1xuXG5cdC8qKiBAdHlwZSB7RWZmZWN0IHwgbnVsbH0gKi9cblx0dmFyIHByZXYgPSBudWxsO1xuXG5cdC8qKiBAdHlwZSB7dW5kZWZpbmVkIHwgU2V0PEVmZmVjdD59ICovXG5cdHZhciB0b19hbmltYXRlO1xuXG5cdC8qKiBAdHlwZSB7RWZmZWN0W119ICovXG5cdHZhciBtYXRjaGVkID0gW107XG5cblx0LyoqIEB0eXBlIHtFZmZlY3RbXX0gKi9cblx0dmFyIHN0YXNoZWQgPSBbXTtcblxuXHQvKiogQHR5cGUge1Z9ICovXG5cdHZhciB2YWx1ZTtcblxuXHQvKiogQHR5cGUge2FueX0gKi9cblx0dmFyIGtleTtcblxuXHQvKiogQHR5cGUge0VmZmVjdCB8IHVuZGVmaW5lZH0gKi9cblx0dmFyIGVmZmVjdDtcblxuXHQvKiogQHR5cGUge251bWJlcn0gKi9cblx0dmFyIGk7XG5cblx0aWYgKGlzX2FuaW1hdGVkKSB7XG5cdFx0Zm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHR2YWx1ZSA9IGFycmF5W2ldO1xuXHRcdFx0a2V5ID0gZ2V0X2tleSh2YWx1ZSwgaSk7XG5cdFx0XHRlZmZlY3QgPSAvKiogQHR5cGUge0VhY2hJdGVtfSAqLyAoaXRlbXMuZ2V0KGtleSkpLmU7XG5cblx0XHRcdC8vIG9mZnNjcmVlbiA9PSBjb21pbmcgaW4gbm93LCBubyBhbmltYXRpb24gaW4gdGhhdCBjYXNlLFxuXHRcdFx0Ly8gZWxzZSB0aGlzIHdvdWxkIGhhcHBlbiBodHRwczovL2dpdGh1Yi5jb20vc3ZlbHRlanMvc3ZlbHRlL2lzc3Vlcy8xNzE4MVxuXHRcdFx0aWYgKChlZmZlY3QuZiAmIEVGRkVDVF9PRkZTQ1JFRU4pID09PSAwKSB7XG5cdFx0XHRcdGVmZmVjdC5ub2Rlcz8uYT8ubWVhc3VyZSgpO1xuXHRcdFx0XHQodG9fYW5pbWF0ZSA/Pz0gbmV3IFNldCgpKS5hZGQoZWZmZWN0KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcblx0XHR2YWx1ZSA9IGFycmF5W2ldO1xuXHRcdGtleSA9IGdldF9rZXkodmFsdWUsIGkpO1xuXG5cdFx0ZWZmZWN0ID0gLyoqIEB0eXBlIHtFYWNoSXRlbX0gKi8gKGl0ZW1zLmdldChrZXkpKS5lO1xuXG5cdFx0aWYgKHN0YXRlLm91dHJvZ3JvdXBzICE9PSBudWxsKSB7XG5cdFx0XHRmb3IgKGNvbnN0IGdyb3VwIG9mIHN0YXRlLm91dHJvZ3JvdXBzKSB7XG5cdFx0XHRcdGdyb3VwLnBlbmRpbmcuZGVsZXRlKGVmZmVjdCk7XG5cdFx0XHRcdGdyb3VwLmRvbmUuZGVsZXRlKGVmZmVjdCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKChlZmZlY3QuZiAmIEVGRkVDVF9PRkZTQ1JFRU4pICE9PSAwKSB7XG5cdFx0XHRlZmZlY3QuZiBePSBFRkZFQ1RfT0ZGU0NSRUVOO1xuXG5cdFx0XHRpZiAoZWZmZWN0ID09PSBjdXJyZW50KSB7XG5cdFx0XHRcdG1vdmUoZWZmZWN0LCBudWxsLCBhbmNob3IpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFyIG5leHQgPSBwcmV2ID8gcHJldi5uZXh0IDogY3VycmVudDtcblxuXHRcdFx0XHRpZiAoZWZmZWN0ID09PSBzdGF0ZS5lZmZlY3QubGFzdCkge1xuXHRcdFx0XHRcdHN0YXRlLmVmZmVjdC5sYXN0ID0gZWZmZWN0LnByZXY7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoZWZmZWN0LnByZXYpIGVmZmVjdC5wcmV2Lm5leHQgPSBlZmZlY3QubmV4dDtcblx0XHRcdFx0aWYgKGVmZmVjdC5uZXh0KSBlZmZlY3QubmV4dC5wcmV2ID0gZWZmZWN0LnByZXY7XG5cdFx0XHRcdGxpbmsoc3RhdGUsIHByZXYsIGVmZmVjdCk7XG5cdFx0XHRcdGxpbmsoc3RhdGUsIGVmZmVjdCwgbmV4dCk7XG5cblx0XHRcdFx0bW92ZShlZmZlY3QsIG5leHQsIGFuY2hvcik7XG5cdFx0XHRcdHByZXYgPSBlZmZlY3Q7XG5cblx0XHRcdFx0bWF0Y2hlZCA9IFtdO1xuXHRcdFx0XHRzdGFzaGVkID0gW107XG5cblx0XHRcdFx0Y3VycmVudCA9IHByZXYubmV4dDtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKChlZmZlY3QuZiAmIElORVJUKSAhPT0gMCkge1xuXHRcdFx0cmVzdW1lX2VmZmVjdChlZmZlY3QpO1xuXHRcdFx0aWYgKGlzX2FuaW1hdGVkKSB7XG5cdFx0XHRcdGVmZmVjdC5ub2Rlcz8uYT8udW5maXgoKTtcblx0XHRcdFx0KHRvX2FuaW1hdGUgPz89IG5ldyBTZXQoKSkuZGVsZXRlKGVmZmVjdCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGVmZmVjdCAhPT0gY3VycmVudCkge1xuXHRcdFx0aWYgKHNlZW4gIT09IHVuZGVmaW5lZCAmJiBzZWVuLmhhcyhlZmZlY3QpKSB7XG5cdFx0XHRcdGlmIChtYXRjaGVkLmxlbmd0aCA8IHN0YXNoZWQubGVuZ3RoKSB7XG5cdFx0XHRcdFx0Ly8gbW9yZSBlZmZpY2llbnQgdG8gbW92ZSBsYXRlciBpdGVtcyB0byB0aGUgZnJvbnRcblx0XHRcdFx0XHR2YXIgc3RhcnQgPSBzdGFzaGVkWzBdO1xuXHRcdFx0XHRcdHZhciBqO1xuXG5cdFx0XHRcdFx0cHJldiA9IHN0YXJ0LnByZXY7XG5cblx0XHRcdFx0XHR2YXIgYSA9IG1hdGNoZWRbMF07XG5cdFx0XHRcdFx0dmFyIGIgPSBtYXRjaGVkW21hdGNoZWQubGVuZ3RoIC0gMV07XG5cblx0XHRcdFx0XHRmb3IgKGogPSAwOyBqIDwgbWF0Y2hlZC5sZW5ndGg7IGogKz0gMSkge1xuXHRcdFx0XHRcdFx0bW92ZShtYXRjaGVkW2pdLCBzdGFydCwgYW5jaG9yKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRmb3IgKGogPSAwOyBqIDwgc3Rhc2hlZC5sZW5ndGg7IGogKz0gMSkge1xuXHRcdFx0XHRcdFx0c2Vlbi5kZWxldGUoc3Rhc2hlZFtqXSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0bGluayhzdGF0ZSwgYS5wcmV2LCBiLm5leHQpO1xuXHRcdFx0XHRcdGxpbmsoc3RhdGUsIHByZXYsIGEpO1xuXHRcdFx0XHRcdGxpbmsoc3RhdGUsIGIsIHN0YXJ0KTtcblxuXHRcdFx0XHRcdGN1cnJlbnQgPSBzdGFydDtcblx0XHRcdFx0XHRwcmV2ID0gYjtcblx0XHRcdFx0XHRpIC09IDE7XG5cblx0XHRcdFx0XHRtYXRjaGVkID0gW107XG5cdFx0XHRcdFx0c3Rhc2hlZCA9IFtdO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIG1vcmUgZWZmaWNpZW50IHRvIG1vdmUgZWFybGllciBpdGVtcyB0byB0aGUgYmFja1xuXHRcdFx0XHRcdHNlZW4uZGVsZXRlKGVmZmVjdCk7XG5cdFx0XHRcdFx0bW92ZShlZmZlY3QsIGN1cnJlbnQsIGFuY2hvcik7XG5cblx0XHRcdFx0XHRsaW5rKHN0YXRlLCBlZmZlY3QucHJldiwgZWZmZWN0Lm5leHQpO1xuXHRcdFx0XHRcdGxpbmsoc3RhdGUsIGVmZmVjdCwgcHJldiA9PT0gbnVsbCA/IHN0YXRlLmVmZmVjdC5maXJzdCA6IHByZXYubmV4dCk7XG5cdFx0XHRcdFx0bGluayhzdGF0ZSwgcHJldiwgZWZmZWN0KTtcblxuXHRcdFx0XHRcdHByZXYgPSBlZmZlY3Q7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0bWF0Y2hlZCA9IFtdO1xuXHRcdFx0c3Rhc2hlZCA9IFtdO1xuXG5cdFx0XHR3aGlsZSAoY3VycmVudCAhPT0gbnVsbCAmJiBjdXJyZW50ICE9PSBlZmZlY3QpIHtcblx0XHRcdFx0KHNlZW4gPz89IG5ldyBTZXQoKSkuYWRkKGN1cnJlbnQpO1xuXHRcdFx0XHRzdGFzaGVkLnB1c2goY3VycmVudCk7XG5cdFx0XHRcdGN1cnJlbnQgPSBjdXJyZW50Lm5leHQ7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChjdXJyZW50ID09PSBudWxsKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICgoZWZmZWN0LmYgJiBFRkZFQ1RfT0ZGU0NSRUVOKSA9PT0gMCkge1xuXHRcdFx0bWF0Y2hlZC5wdXNoKGVmZmVjdCk7XG5cdFx0fVxuXG5cdFx0cHJldiA9IGVmZmVjdDtcblx0XHRjdXJyZW50ID0gZWZmZWN0Lm5leHQ7XG5cdH1cblxuXHRpZiAoc3RhdGUub3V0cm9ncm91cHMgIT09IG51bGwpIHtcblx0XHRmb3IgKGNvbnN0IGdyb3VwIG9mIHN0YXRlLm91dHJvZ3JvdXBzKSB7XG5cdFx0XHRpZiAoZ3JvdXAucGVuZGluZy5zaXplID09PSAwKSB7XG5cdFx0XHRcdGRlc3Ryb3lfZWZmZWN0cyhhcnJheV9mcm9tKGdyb3VwLmRvbmUpKTtcblx0XHRcdFx0c3RhdGUub3V0cm9ncm91cHM/LmRlbGV0ZShncm91cCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKHN0YXRlLm91dHJvZ3JvdXBzLnNpemUgPT09IDApIHtcblx0XHRcdHN0YXRlLm91dHJvZ3JvdXBzID0gbnVsbDtcblx0XHR9XG5cdH1cblxuXHRpZiAoY3VycmVudCAhPT0gbnVsbCB8fCBzZWVuICE9PSB1bmRlZmluZWQpIHtcblx0XHQvKiogQHR5cGUge0VmZmVjdFtdfSAqL1xuXHRcdHZhciB0b19kZXN0cm95ID0gW107XG5cblx0XHRpZiAoc2VlbiAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRmb3IgKGVmZmVjdCBvZiBzZWVuKSB7XG5cdFx0XHRcdGlmICgoZWZmZWN0LmYgJiBJTkVSVCkgPT09IDApIHtcblx0XHRcdFx0XHR0b19kZXN0cm95LnB1c2goZWZmZWN0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHdoaWxlIChjdXJyZW50ICE9PSBudWxsKSB7XG5cdFx0XHQvLyBJZiB0aGUgZWFjaCBibG9jayBpc24ndCBpbmVydCwgdGhlbiBpbmVydCBlZmZlY3RzIGFyZSBjdXJyZW50bHkgb3V0cm9pbmcgYW5kIHdpbGwgYmUgcmVtb3ZlZCBvbmNlIHRoZSB0cmFuc2l0aW9uIGlzIGZpbmlzaGVkXG5cdFx0XHRpZiAoKGN1cnJlbnQuZiAmIElORVJUKSA9PT0gMCAmJiBjdXJyZW50ICE9PSBzdGF0ZS5mYWxsYmFjaykge1xuXHRcdFx0XHR0b19kZXN0cm95LnB1c2goY3VycmVudCk7XG5cdFx0XHR9XG5cblx0XHRcdGN1cnJlbnQgPSBjdXJyZW50Lm5leHQ7XG5cdFx0fVxuXG5cdFx0dmFyIGRlc3Ryb3lfbGVuZ3RoID0gdG9fZGVzdHJveS5sZW5ndGg7XG5cblx0XHRpZiAoZGVzdHJveV9sZW5ndGggPiAwKSB7XG5cdFx0XHR2YXIgY29udHJvbGxlZF9hbmNob3IgPSAoZmxhZ3MgJiBFQUNIX0lTX0NPTlRST0xMRUQpICE9PSAwICYmIGxlbmd0aCA9PT0gMCA/IGFuY2hvciA6IG51bGw7XG5cblx0XHRcdGlmIChpc19hbmltYXRlZCkge1xuXHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgZGVzdHJveV9sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHRcdHRvX2Rlc3Ryb3lbaV0ubm9kZXM/LmE/Lm1lYXN1cmUoKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBkZXN0cm95X2xlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdFx0dG9fZGVzdHJveVtpXS5ub2Rlcz8uYT8uZml4KCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cGF1c2VfZWZmZWN0cyhzdGF0ZSwgdG9fZGVzdHJveSwgY29udHJvbGxlZF9hbmNob3IpO1xuXHRcdH1cblx0fVxuXG5cdGlmIChpc19hbmltYXRlZCkge1xuXHRcdHF1ZXVlX21pY3JvX3Rhc2soKCkgPT4ge1xuXHRcdFx0aWYgKHRvX2FuaW1hdGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXHRcdFx0Zm9yIChlZmZlY3Qgb2YgdG9fYW5pbWF0ZSkge1xuXHRcdFx0XHRlZmZlY3Qubm9kZXM/LmE/LmFwcGx5KCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgVlxuICogQHBhcmFtIHtNYXA8YW55LCBFYWNoSXRlbT59IGl0ZW1zXG4gKiBAcGFyYW0ge05vZGV9IGFuY2hvclxuICogQHBhcmFtIHtWfSB2YWx1ZVxuICogQHBhcmFtIHt1bmtub3dufSBrZXlcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICogQHBhcmFtIHsoYW5jaG9yOiBOb2RlLCBpdGVtOiBWIHwgU291cmNlPFY+LCBpbmRleDogbnVtYmVyIHwgVmFsdWU8bnVtYmVyPiwgY29sbGVjdGlvbjogKCkgPT4gVltdKSA9PiB2b2lkfSByZW5kZXJfZm5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnc1xuICogQHBhcmFtIHsoKSA9PiBWW119IGdldF9jb2xsZWN0aW9uXG4gKiBAcmV0dXJucyB7RWFjaEl0ZW19XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZV9pdGVtKGl0ZW1zLCBhbmNob3IsIHZhbHVlLCBrZXksIGluZGV4LCByZW5kZXJfZm4sIGZsYWdzLCBnZXRfY29sbGVjdGlvbikge1xuXHR2YXIgdiA9XG5cdFx0KGZsYWdzICYgRUFDSF9JVEVNX1JFQUNUSVZFKSAhPT0gMFxuXHRcdFx0PyAoZmxhZ3MgJiBFQUNIX0lURU1fSU1NVVRBQkxFKSA9PT0gMFxuXHRcdFx0XHQ/IG11dGFibGVfc291cmNlKHZhbHVlLCBmYWxzZSwgZmFsc2UpXG5cdFx0XHRcdDogc291cmNlKHZhbHVlKVxuXHRcdFx0OiBudWxsO1xuXG5cdHZhciBpID0gKGZsYWdzICYgRUFDSF9JTkRFWF9SRUFDVElWRSkgIT09IDAgPyBzb3VyY2UoaW5kZXgpIDogbnVsbDtcblxuXHRpZiAoREVWICYmIHYpIHtcblx0XHQvLyBGb3IgdHJhY2luZyBwdXJwb3Nlcywgd2UgbmVlZCB0byBsaW5rIHRoZSBzb3VyY2Ugc2lnbmFsIHdlIGNyZWF0ZSB3aXRoIHRoZVxuXHRcdC8vIGNvbGxlY3Rpb24gKyBpbmRleCBzbyB0aGF0IHRyYWNpbmcgd29ya3MgYXMgaW50ZW5kZWRcblx0XHR2LnRyYWNlID0gKCkgPT4ge1xuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtZXhwcmVzc2lvbnNcblx0XHRcdGdldF9jb2xsZWN0aW9uKClbaT8udiA/PyBpbmRleF07XG5cdFx0fTtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0dixcblx0XHRpLFxuXHRcdGU6IGJyYW5jaCgoKSA9PiB7XG5cdFx0XHRyZW5kZXJfZm4oYW5jaG9yLCB2ID8/IHZhbHVlLCBpID8/IGluZGV4LCBnZXRfY29sbGVjdGlvbik7XG5cblx0XHRcdHJldHVybiAoKSA9PiB7XG5cdFx0XHRcdGl0ZW1zLmRlbGV0ZShrZXkpO1xuXHRcdFx0fTtcblx0XHR9KVxuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWZmZWN0fSBlZmZlY3RcbiAqIEBwYXJhbSB7RWZmZWN0IHwgbnVsbH0gbmV4dFxuICogQHBhcmFtIHtUZXh0IHwgRWxlbWVudCB8IENvbW1lbnR9IGFuY2hvclxuICovXG5mdW5jdGlvbiBtb3ZlKGVmZmVjdCwgbmV4dCwgYW5jaG9yKSB7XG5cdGlmICghZWZmZWN0Lm5vZGVzKSByZXR1cm47XG5cblx0dmFyIG5vZGUgPSBlZmZlY3Qubm9kZXMuc3RhcnQ7XG5cdHZhciBlbmQgPSBlZmZlY3Qubm9kZXMuZW5kO1xuXG5cdHZhciBkZXN0ID1cblx0XHRuZXh0ICYmIChuZXh0LmYgJiBFRkZFQ1RfT0ZGU0NSRUVOKSA9PT0gMFxuXHRcdFx0PyAvKiogQHR5cGUge0VmZmVjdE5vZGVzfSAqLyAobmV4dC5ub2Rlcykuc3RhcnRcblx0XHRcdDogYW5jaG9yO1xuXG5cdHdoaWxlIChub2RlICE9PSBudWxsKSB7XG5cdFx0dmFyIG5leHRfbm9kZSA9IC8qKiBAdHlwZSB7VGVtcGxhdGVOb2RlfSAqLyAoZ2V0X25leHRfc2libGluZyhub2RlKSk7XG5cdFx0ZGVzdC5iZWZvcmUobm9kZSk7XG5cblx0XHRpZiAobm9kZSA9PT0gZW5kKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0bm9kZSA9IG5leHRfbm9kZTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7RWFjaFN0YXRlfSBzdGF0ZVxuICogQHBhcmFtIHtFZmZlY3QgfCBudWxsfSBwcmV2XG4gKiBAcGFyYW0ge0VmZmVjdCB8IG51bGx9IG5leHRcbiAqL1xuZnVuY3Rpb24gbGluayhzdGF0ZSwgcHJldiwgbmV4dCkge1xuXHRpZiAocHJldiA9PT0gbnVsbCkge1xuXHRcdHN0YXRlLmVmZmVjdC5maXJzdCA9IG5leHQ7XG5cdH0gZWxzZSB7XG5cdFx0cHJldi5uZXh0ID0gbmV4dDtcblx0fVxuXG5cdGlmIChuZXh0ID09PSBudWxsKSB7XG5cdFx0c3RhdGUuZWZmZWN0Lmxhc3QgPSBwcmV2O1xuXHR9IGVsc2Uge1xuXHRcdG5leHQucHJldiA9IHByZXY7XG5cdH1cbn1cbiIsIi8qKiBAaW1wb3J0IHsgQ29tcG9uZW50Q29udGV4dExlZ2FjeSB9IGZyb20gJyNjbGllbnQnICovXG5pbXBvcnQgeyBydW4sIHJ1bl9hbGwgfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvdXRpbHMuanMnO1xuaW1wb3J0IHsgY29tcG9uZW50X2NvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0LmpzJztcbmltcG9ydCB7IGRlcml2ZWQgfSBmcm9tICcuLi8uLi9yZWFjdGl2aXR5L2Rlcml2ZWRzLmpzJztcbmltcG9ydCB7IHVzZXJfcHJlX2VmZmVjdCwgdXNlcl9lZmZlY3QgfSBmcm9tICcuLi8uLi9yZWFjdGl2aXR5L2VmZmVjdHMuanMnO1xuaW1wb3J0IHsgZGVlcF9yZWFkX3N0YXRlLCBnZXQsIHVudHJhY2sgfSBmcm9tICcuLi8uLi9ydW50aW1lLmpzJztcblxuLyoqXG4gKiBMZWdhY3ktbW9kZSBvbmx5OiBDYWxsIGBvbk1vdW50YCBjYWxsYmFja3MgYW5kIHNldCB1cCBgYmVmb3JlVXBkYXRlYC9gYWZ0ZXJVcGRhdGVgIGVmZmVjdHNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ltbXV0YWJsZV1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXQoaW1tdXRhYmxlID0gZmFsc2UpIHtcblx0Y29uc3QgY29udGV4dCA9IC8qKiBAdHlwZSB7Q29tcG9uZW50Q29udGV4dExlZ2FjeX0gKi8gKGNvbXBvbmVudF9jb250ZXh0KTtcblxuXHRjb25zdCBjYWxsYmFja3MgPSBjb250ZXh0LmwudTtcblx0aWYgKCFjYWxsYmFja3MpIHJldHVybjtcblxuXHRsZXQgcHJvcHMgPSAoKSA9PiBkZWVwX3JlYWRfc3RhdGUoY29udGV4dC5zKTtcblxuXHRpZiAoaW1tdXRhYmxlKSB7XG5cdFx0bGV0IHZlcnNpb24gPSAwO1xuXHRcdGxldCBwcmV2ID0gLyoqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSAqLyAoe30pO1xuXG5cdFx0Ly8gSW4gbGVnYWN5IGltbXV0YWJsZSBtb2RlLCBiZWZvcmUvYWZ0ZXJVcGRhdGUgb25seSBmaXJlIGlmIHRoZSBvYmplY3QgaWRlbnRpdHkgb2YgYSBwcm9wIGNoYW5nZXNcblx0XHRjb25zdCBkID0gZGVyaXZlZCgoKSA9PiB7XG5cdFx0XHRsZXQgY2hhbmdlZCA9IGZhbHNlO1xuXHRcdFx0Y29uc3QgcHJvcHMgPSBjb250ZXh0LnM7XG5cdFx0XHRmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xuXHRcdFx0XHRpZiAocHJvcHNba2V5XSAhPT0gcHJldltrZXldKSB7XG5cdFx0XHRcdFx0cHJldltrZXldID0gcHJvcHNba2V5XTtcblx0XHRcdFx0XHRjaGFuZ2VkID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKGNoYW5nZWQpIHZlcnNpb24rKztcblx0XHRcdHJldHVybiB2ZXJzaW9uO1xuXHRcdH0pO1xuXG5cdFx0cHJvcHMgPSAoKSA9PiBnZXQoZCk7XG5cdH1cblxuXHQvLyBiZWZvcmVVcGRhdGVcblx0aWYgKGNhbGxiYWNrcy5iLmxlbmd0aCkge1xuXHRcdHVzZXJfcHJlX2VmZmVjdCgoKSA9PiB7XG5cdFx0XHRvYnNlcnZlX2FsbChjb250ZXh0LCBwcm9wcyk7XG5cdFx0XHRydW5fYWxsKGNhbGxiYWNrcy5iKTtcblx0XHR9KTtcblx0fVxuXG5cdC8vIG9uTW91bnQgKG11c3QgcnVuIGJlZm9yZSBhZnRlclVwZGF0ZSlcblx0dXNlcl9lZmZlY3QoKCkgPT4ge1xuXHRcdGNvbnN0IGZucyA9IHVudHJhY2soKCkgPT4gY2FsbGJhY2tzLm0ubWFwKHJ1bikpO1xuXHRcdHJldHVybiAoKSA9PiB7XG5cdFx0XHRmb3IgKGNvbnN0IGZuIG9mIGZucykge1xuXHRcdFx0XHRpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0Zm4oKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdH0pO1xuXG5cdC8vIGFmdGVyVXBkYXRlXG5cdGlmIChjYWxsYmFja3MuYS5sZW5ndGgpIHtcblx0XHR1c2VyX2VmZmVjdCgoKSA9PiB7XG5cdFx0XHRvYnNlcnZlX2FsbChjb250ZXh0LCBwcm9wcyk7XG5cdFx0XHRydW5fYWxsKGNhbGxiYWNrcy5hKTtcblx0XHR9KTtcblx0fVxufVxuXG4vKipcbiAqIEludm9rZSB0aGUgZ2V0dGVyIG9mIGFsbCBzaWduYWxzIGFzc29jaWF0ZWQgd2l0aCBhIGNvbXBvbmVudFxuICogc28gdGhleSBjYW4gYmUgcmVnaXN0ZXJlZCB0byB0aGUgZWZmZWN0IHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGluLlxuICogQHBhcmFtIHtDb21wb25lbnRDb250ZXh0TGVnYWN5fSBjb250ZXh0XG4gKiBAcGFyYW0geygoKSA9PiB2b2lkKX0gcHJvcHNcbiAqL1xuZnVuY3Rpb24gb2JzZXJ2ZV9hbGwoY29udGV4dCwgcHJvcHMpIHtcblx0aWYgKGNvbnRleHQubC5zKSB7XG5cdFx0Zm9yIChjb25zdCBzaWduYWwgb2YgY29udGV4dC5sLnMpIGdldChzaWduYWwpO1xuXHR9XG5cblx0cHJvcHMoKTtcbn1cbiIsIi8qKiBAaW1wb3J0IHsgU3RvcmVSZWZlcmVuY2VzQ29udGFpbmVyIH0gZnJvbSAnI2NsaWVudCcgKi9cbi8qKiBAaW1wb3J0IHsgU3RvcmUgfSBmcm9tICcjc2hhcmVkJyAqL1xuaW1wb3J0IHsgc3Vic2NyaWJlX3RvX3N0b3JlIH0gZnJvbSAnLi4vLi4vLi4vc3RvcmUvdXRpbHMuanMnO1xuaW1wb3J0IHsgZ2V0IGFzIGdldF9zdG9yZSB9IGZyb20gJy4uLy4uLy4uL3N0b3JlL3NoYXJlZC9pbmRleC5qcyc7XG5pbXBvcnQgeyBkZWZpbmVfcHJvcGVydHksIG5vb3AgfSBmcm9tICcuLi8uLi9zaGFyZWQvdXRpbHMuanMnO1xuaW1wb3J0IHsgZ2V0IH0gZnJvbSAnLi4vcnVudGltZS5qcyc7XG5pbXBvcnQgeyB0ZWFyZG93biB9IGZyb20gJy4vZWZmZWN0cy5qcyc7XG5pbXBvcnQgeyBtdXRhYmxlX3NvdXJjZSwgc2V0IH0gZnJvbSAnLi9zb3VyY2VzLmpzJztcbmltcG9ydCB7IERFViB9IGZyb20gJ2VzbS1lbnYnO1xuXG4vKipcbiAqIFdoZXRoZXIgb3Igbm90IHRoZSBwcm9wIGN1cnJlbnRseSBiZWluZyByZWFkIGlzIGEgc3RvcmUgYmluZGluZywgYXMgaW5cbiAqIGA8Q2hpbGQgYmluZDp4PXskeX0gLz5gLiBJZiBpdCBpcywgd2UgdHJlYXQgdGhlIHByb3AgYXMgbXV0YWJsZSBldmVuIGluXG4gKiBydW5lcyBtb2RlLCBhbmQgc2tpcCBgYmluZGluZ19wcm9wZXJ0eV9ub25fcmVhY3RpdmVgIHZhbGlkYXRpb25cbiAqL1xubGV0IGlzX3N0b3JlX2JpbmRpbmcgPSBmYWxzZTtcblxubGV0IElTX1VOTU9VTlRFRCA9IFN5bWJvbCgpO1xuXG4vKipcbiAqIEdldHMgdGhlIGN1cnJlbnQgdmFsdWUgb2YgYSBzdG9yZS4gSWYgdGhlIHN0b3JlIGlzbid0IHN1YnNjcmliZWQgdG8geWV0LCBpdCB3aWxsIGNyZWF0ZSBhIHByb3h5XG4gKiBzaWduYWwgdGhhdCB3aWxsIGJlIHVwZGF0ZWQgd2hlbiB0aGUgc3RvcmUgaXMuIFRoZSBzdG9yZSByZWZlcmVuY2VzIGNvbnRhaW5lciBpcyBuZWVkZWQgdG9cbiAqIHRyYWNrIHJlYXNzaWdubWVudHMgdG8gc3RvcmVzIGFuZCB0byB0cmFjayB0aGUgY29ycmVjdCBjb21wb25lbnQgY29udGV4dC5cbiAqIEB0ZW1wbGF0ZSBWXG4gKiBAcGFyYW0ge1N0b3JlPFY+IHwgbnVsbCB8IHVuZGVmaW5lZH0gc3RvcmVcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdG9yZV9uYW1lXG4gKiBAcGFyYW0ge1N0b3JlUmVmZXJlbmNlc0NvbnRhaW5lcn0gc3RvcmVzXG4gKiBAcmV0dXJucyB7Vn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0b3JlX2dldChzdG9yZSwgc3RvcmVfbmFtZSwgc3RvcmVzKSB7XG5cdGNvbnN0IGVudHJ5ID0gKHN0b3Jlc1tzdG9yZV9uYW1lXSA/Pz0ge1xuXHRcdHN0b3JlOiBudWxsLFxuXHRcdHNvdXJjZTogbXV0YWJsZV9zb3VyY2UodW5kZWZpbmVkKSxcblx0XHR1bnN1YnNjcmliZTogbm9vcFxuXHR9KTtcblxuXHRpZiAoREVWKSB7XG5cdFx0ZW50cnkuc291cmNlLmxhYmVsID0gc3RvcmVfbmFtZTtcblx0fVxuXG5cdC8vIGlmIHRoZSBjb21wb25lbnQgdGhhdCBzZXR1cCB0aGlzIGlzIGFscmVhZHkgdW5tb3VudGVkIHdlIGRvbid0IHdhbnQgdG8gcmVnaXN0ZXIgYSBzdWJzY3JpcHRpb25cblx0aWYgKGVudHJ5LnN0b3JlICE9PSBzdG9yZSAmJiAhKElTX1VOTU9VTlRFRCBpbiBzdG9yZXMpKSB7XG5cdFx0ZW50cnkudW5zdWJzY3JpYmUoKTtcblx0XHRlbnRyeS5zdG9yZSA9IHN0b3JlID8/IG51bGw7XG5cblx0XHRpZiAoc3RvcmUgPT0gbnVsbCkge1xuXHRcdFx0ZW50cnkuc291cmNlLnYgPSB1bmRlZmluZWQ7IC8vIHNlZSBzeW5jaHJvbm91cyBjYWxsYmFjayBjb21tZW50IGJlbG93XG5cdFx0XHRlbnRyeS51bnN1YnNjcmliZSA9IG5vb3A7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBpc19zeW5jaHJvbm91c19jYWxsYmFjayA9IHRydWU7XG5cblx0XHRcdGVudHJ5LnVuc3Vic2NyaWJlID0gc3Vic2NyaWJlX3RvX3N0b3JlKHN0b3JlLCAodikgPT4ge1xuXHRcdFx0XHRpZiAoaXNfc3luY2hyb25vdXNfY2FsbGJhY2spIHtcblx0XHRcdFx0XHQvLyBJZiB0aGUgZmlyc3QgdXBkYXRlcyB0byB0aGUgc3RvcmUgdmFsdWUgKHBvc3NpYmx5IG11bHRpcGxlIG9mIHRoZW0pIGFyZSBzeW5jaHJvbm91c2x5XG5cdFx0XHRcdFx0Ly8gaW5zaWRlIGEgZGVyaXZlZCwgd2Ugd2lsbCBoaXQgdGhlIGBzdGF0ZV91bnNhZmVfbXV0YXRpb25gIGVycm9yIGlmIHdlIGBzZXRgIHRoZSB2YWx1ZVxuXHRcdFx0XHRcdGVudHJ5LnNvdXJjZS52ID0gdjtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzZXQoZW50cnkuc291cmNlLCB2KTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdGlzX3N5bmNocm9ub3VzX2NhbGxiYWNrID0gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0Ly8gaWYgdGhlIGNvbXBvbmVudCB0aGF0IHNldHVwIHRoaXMgc3RvcmVzIGlzIGFscmVhZHkgdW5tb3VudGVkIHRoZSBzb3VyY2Ugd2lsbCBiZSBvdXQgb2Ygc3luY1xuXHQvLyBzbyB3ZSBqdXN0IHVzZSB0aGUgYGdldGAgZm9yIHRoZSBzdG9yZXMsIGxlc3MgcGVyZm9ybWFudCBidXQgaXQgYXZvaWRzIHRvIGNyZWF0ZSBhIG1lbW9yeSBsZWFrXG5cdC8vIGFuZCBpdCB3aWxsIGtlZXAgdGhlIHZhbHVlIGNvbnNpc3RlbnRcblx0aWYgKHN0b3JlICYmIElTX1VOTU9VTlRFRCBpbiBzdG9yZXMpIHtcblx0XHRyZXR1cm4gZ2V0X3N0b3JlKHN0b3JlKTtcblx0fVxuXG5cdHJldHVybiBnZXQoZW50cnkuc291cmNlKTtcbn1cblxuLyoqXG4gKiBVbnN1YnNjcmliZSBmcm9tIGEgc3RvcmUgaWYgaXQncyBub3QgdGhlIHNhbWUgYXMgdGhlIG9uZSBpbiB0aGUgc3RvcmUgcmVmZXJlbmNlcyBjb250YWluZXIuXG4gKiBXZSBuZWVkIHRoaXMgaW4gYWRkaXRpb24gdG8gYHN0b3JlX2dldGAgYmVjYXVzZSBzb21lb25lIGNvdWxkIHVuc3Vic2NyaWJlIGZyb20gYSBzdG9yZSBidXRcbiAqIHRoZW4gbmV2ZXIgc3Vic2NyaWJlIHRvIHRoZSBuZXcgb25lIChpZiBhbnkpLCBjYXVzaW5nIHRoZSBzdWJzY3JpcHRpb24gdG8gc3RheSBvcGVuIHdyb25nZnVsbHkuXG4gKiBAcGFyYW0ge1N0b3JlPGFueT4gfCBudWxsIHwgdW5kZWZpbmVkfSBzdG9yZVxuICogQHBhcmFtIHtzdHJpbmd9IHN0b3JlX25hbWVcbiAqIEBwYXJhbSB7U3RvcmVSZWZlcmVuY2VzQ29udGFpbmVyfSBzdG9yZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0b3JlX3Vuc3ViKHN0b3JlLCBzdG9yZV9uYW1lLCBzdG9yZXMpIHtcblx0LyoqIEB0eXBlIHtTdG9yZVJlZmVyZW5jZXNDb250YWluZXJbJyddIHwgdW5kZWZpbmVkfSAqL1xuXHRsZXQgZW50cnkgPSBzdG9yZXNbc3RvcmVfbmFtZV07XG5cblx0aWYgKGVudHJ5ICYmIGVudHJ5LnN0b3JlICE9PSBzdG9yZSkge1xuXHRcdC8vIERvbid0IHJlc2V0IHN0b3JlIHlldCwgc28gdGhhdCBzdG9yZV9nZXQgYWJvdmUgY2FuIHJlc3Vic2NyaWJlIHRvIG5ldyBzdG9yZSBpZiBuZWNlc3Nhcnlcblx0XHRlbnRyeS51bnN1YnNjcmliZSgpO1xuXHRcdGVudHJ5LnVuc3Vic2NyaWJlID0gbm9vcDtcblx0fVxuXG5cdHJldHVybiBzdG9yZTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBuZXcgdmFsdWUgb2YgYSBzdG9yZSBhbmQgcmV0dXJucyB0aGF0IHZhbHVlLlxuICogQHRlbXBsYXRlIFZcbiAqIEBwYXJhbSB7U3RvcmU8Vj59IHN0b3JlXG4gKiBAcGFyYW0ge1Z9IHZhbHVlXG4gKiBAcmV0dXJucyB7Vn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0b3JlX3NldChzdG9yZSwgdmFsdWUpIHtcblx0c3RvcmUuc2V0KHZhbHVlKTtcblx0cmV0dXJuIHZhbHVlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7U3RvcmVSZWZlcmVuY2VzQ29udGFpbmVyfSBzdG9yZXNcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdG9yZV9uYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnZhbGlkYXRlX3N0b3JlKHN0b3Jlcywgc3RvcmVfbmFtZSkge1xuXHR2YXIgZW50cnkgPSBzdG9yZXNbc3RvcmVfbmFtZV07XG5cdGlmIChlbnRyeS5zdG9yZSAhPT0gbnVsbCkge1xuXHRcdHN0b3JlX3NldChlbnRyeS5zdG9yZSwgZW50cnkuc291cmNlLnYpO1xuXHR9XG59XG5cbi8qKlxuICogVW5zdWJzY3JpYmVzIGZyb20gYWxsIGF1dG8tc3Vic2NyaWJlZCBzdG9yZXMgb24gZGVzdHJveVxuICogQHJldHVybnMge1tTdG9yZVJlZmVyZW5jZXNDb250YWluZXIsICgpPT52b2lkXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldHVwX3N0b3JlcygpIHtcblx0LyoqIEB0eXBlIHtTdG9yZVJlZmVyZW5jZXNDb250YWluZXJ9ICovXG5cdGNvbnN0IHN0b3JlcyA9IHt9O1xuXG5cdGZ1bmN0aW9uIGNsZWFudXAoKSB7XG5cdFx0dGVhcmRvd24oKCkgPT4ge1xuXHRcdFx0Zm9yICh2YXIgc3RvcmVfbmFtZSBpbiBzdG9yZXMpIHtcblx0XHRcdFx0Y29uc3QgcmVmID0gc3RvcmVzW3N0b3JlX25hbWVdO1xuXHRcdFx0XHRyZWYudW5zdWJzY3JpYmUoKTtcblx0XHRcdH1cblx0XHRcdGRlZmluZV9wcm9wZXJ0eShzdG9yZXMsIElTX1VOTU9VTlRFRCwge1xuXHRcdFx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHRcdFx0dmFsdWU6IHRydWVcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0cmV0dXJuIFtzdG9yZXMsIGNsZWFudXBdO1xufVxuXG4vKipcbiAqIFVwZGF0ZXMgYSBzdG9yZSB3aXRoIGEgbmV3IHZhbHVlLlxuICogQHBhcmFtIHtTdG9yZTxWPn0gc3RvcmUgIHRoZSBzdG9yZSB0byB1cGRhdGVcbiAqIEBwYXJhbSB7YW55fSBleHByZXNzaW9uICB0aGUgZXhwcmVzc2lvbiB0aGF0IG11dGF0ZXMgdGhlIHN0b3JlXG4gKiBAcGFyYW0ge1Z9IG5ld192YWx1ZSAgdGhlIG5ldyBzdG9yZSB2YWx1ZVxuICogQHRlbXBsYXRlIFZcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0b3JlX211dGF0ZShzdG9yZSwgZXhwcmVzc2lvbiwgbmV3X3ZhbHVlKSB7XG5cdHN0b3JlLnNldChuZXdfdmFsdWUpO1xuXHRyZXR1cm4gZXhwcmVzc2lvbjtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1N0b3JlPG51bWJlcj59IHN0b3JlXG4gKiBAcGFyYW0ge251bWJlcn0gc3RvcmVfdmFsdWVcbiAqIEBwYXJhbSB7MSB8IC0xfSBbZF1cbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVfc3RvcmUoc3RvcmUsIHN0b3JlX3ZhbHVlLCBkID0gMSkge1xuXHRzdG9yZS5zZXQoc3RvcmVfdmFsdWUgKyBkKTtcblx0cmV0dXJuIHN0b3JlX3ZhbHVlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7U3RvcmU8bnVtYmVyPn0gc3RvcmVcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdG9yZV92YWx1ZVxuICogQHBhcmFtIHsxIHwgLTF9IFtkXVxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZV9wcmVfc3RvcmUoc3RvcmUsIHN0b3JlX3ZhbHVlLCBkID0gMSkge1xuXHRjb25zdCB2YWx1ZSA9IHN0b3JlX3ZhbHVlICsgZDtcblx0c3RvcmUuc2V0KHZhbHVlKTtcblx0cmV0dXJuIHZhbHVlO1xufVxuXG4vKipcbiAqIENhbGxlZCBpbnNpZGUgcHJvcCBnZXR0ZXJzIHRvIGNvbW11bmljYXRlIHRoYXQgdGhlIHByb3AgaXMgYSBzdG9yZSBiaW5kaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXJrX3N0b3JlX2JpbmRpbmcoKSB7XG5cdGlzX3N0b3JlX2JpbmRpbmcgPSB0cnVlO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSB0dXBsZSB0aGF0IGluZGljYXRlcyB3aGV0aGVyIGBmbigpYCByZWFkcyBhIHByb3AgdGhhdCBpcyBhIHN0b3JlIGJpbmRpbmcuXG4gKiBVc2VkIHRvIHByZXZlbnQgYGJpbmRpbmdfcHJvcGVydHlfbm9uX3JlYWN0aXZlYCB2YWxpZGF0aW9uIGZhbHNlIHBvc2l0aXZlcyBhbmRcbiAqIGVuc3VyZSB0aGF0IHRoZXNlIHByb3BzIGFyZSB0cmVhdGVkIGFzIG11dGFibGUgZXZlbiBpbiBydW5lcyBtb2RlXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHsoKSA9PiBUfSBmblxuICogQHJldHVybnMge1tULCBib29sZWFuXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhcHR1cmVfc3RvcmVfYmluZGluZyhmbikge1xuXHR2YXIgcHJldmlvdXNfaXNfc3RvcmVfYmluZGluZyA9IGlzX3N0b3JlX2JpbmRpbmc7XG5cblx0dHJ5IHtcblx0XHRpc19zdG9yZV9iaW5kaW5nID0gZmFsc2U7XG5cdFx0cmV0dXJuIFtmbigpLCBpc19zdG9yZV9iaW5kaW5nXTtcblx0fSBmaW5hbGx5IHtcblx0XHRpc19zdG9yZV9iaW5kaW5nID0gcHJldmlvdXNfaXNfc3RvcmVfYmluZGluZztcblx0fVxufVxuIiwiLyoqIEBpbXBvcnQgeyBFZmZlY3QsIFNvdXJjZSB9IGZyb20gJy4vdHlwZXMuanMnICovXG5pbXBvcnQgeyBERVYgfSBmcm9tICdlc20tZW52JztcbmltcG9ydCB7XG5cdFBST1BTX0lTX0JJTkRBQkxFLFxuXHRQUk9QU19JU19JTU1VVEFCTEUsXG5cdFBST1BTX0lTX0xBWllfSU5JVElBTCxcblx0UFJPUFNfSVNfUlVORVMsXG5cdFBST1BTX0lTX1VQREFURURcbn0gZnJvbSAnLi4vLi4vLi4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IGdldF9kZXNjcmlwdG9yLCBpc19mdW5jdGlvbiB9IGZyb20gJy4uLy4uL3NoYXJlZC91dGlscy5qcyc7XG5pbXBvcnQgeyBzZXQsIHNvdXJjZSwgdXBkYXRlIH0gZnJvbSAnLi9zb3VyY2VzLmpzJztcbmltcG9ydCB7IGRlcml2ZWQsIGRlcml2ZWRfc2FmZV9lcXVhbCB9IGZyb20gJy4vZGVyaXZlZHMuanMnO1xuaW1wb3J0IHtcblx0YWN0aXZlX2VmZmVjdCxcblx0Z2V0LFxuXHRpc19kZXN0cm95aW5nX2VmZmVjdCxcblx0c2V0X2FjdGl2ZV9lZmZlY3QsXG5cdHVudHJhY2tcbn0gZnJvbSAnLi4vcnVudGltZS5qcyc7XG5pbXBvcnQgKiBhcyBlIGZyb20gJy4uL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBERVNUUk9ZRUQsIExFR0FDWV9QUk9QUywgU1RBVEVfU1lNQk9MIH0gZnJvbSAnI2NsaWVudC9jb25zdGFudHMnO1xuaW1wb3J0IHsgcHJveHkgfSBmcm9tICcuLi9wcm94eS5qcyc7XG5pbXBvcnQgeyBjYXB0dXJlX3N0b3JlX2JpbmRpbmcgfSBmcm9tICcuL3N0b3JlLmpzJztcbmltcG9ydCB7IGxlZ2FjeV9tb2RlX2ZsYWcgfSBmcm9tICcuLi8uLi9mbGFncy9pbmRleC5qcyc7XG5cbi8qKlxuICogQHBhcmFtIHsoKHZhbHVlPzogbnVtYmVyKSA9PiBudW1iZXIpfSBmblxuICogQHBhcmFtIHsxIHwgLTF9IFtkXVxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZV9wcm9wKGZuLCBkID0gMSkge1xuXHRjb25zdCB2YWx1ZSA9IGZuKCk7XG5cdGZuKHZhbHVlICsgZCk7XG5cdHJldHVybiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0geygodmFsdWU/OiBudW1iZXIpID0+IG51bWJlcil9IGZuXG4gKiBAcGFyYW0gezEgfCAtMX0gW2RdXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlX3ByZV9wcm9wKGZuLCBkID0gMSkge1xuXHRjb25zdCB2YWx1ZSA9IGZuKCkgKyBkO1xuXHRmbih2YWx1ZSk7XG5cdHJldHVybiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBUaGUgcHJveHkgaGFuZGxlciBmb3IgcmVzdCBwcm9wcyAoaS5lLiBgY29uc3QgeyB4LCAuLi5yZXN0IH0gPSAkcHJvcHMoKWApLlxuICogSXMgcGFzc2VkIHRoZSBmdWxsIGAkJHByb3BzYCBvYmplY3QgYW5kIGV4Y2x1ZGVzIHRoZSBuYW1lZCBwcm9wcy5cbiAqIEB0eXBlIHtQcm94eUhhbmRsZXI8eyBwcm9wczogUmVjb3JkPHN0cmluZyB8IHN5bWJvbCwgdW5rbm93bj4sIGV4Y2x1ZGU6IEFycmF5PHN0cmluZyB8IHN5bWJvbD4sIG5hbWU/OiBzdHJpbmcgfT59fVxuICovXG5jb25zdCByZXN0X3Byb3BzX2hhbmRsZXIgPSB7XG5cdGdldCh0YXJnZXQsIGtleSkge1xuXHRcdGlmICh0YXJnZXQuZXhjbHVkZS5pbmNsdWRlcyhrZXkpKSByZXR1cm47XG5cdFx0cmV0dXJuIHRhcmdldC5wcm9wc1trZXldO1xuXHR9LFxuXHRzZXQodGFyZ2V0LCBrZXkpIHtcblx0XHRpZiAoREVWKSB7XG5cdFx0XHQvLyBUT0RPIHNob3VsZCB0aGlzIGhhcHBlbiBpbiBwcm9kIHRvbz9cblx0XHRcdGUucHJvcHNfcmVzdF9yZWFkb25seShgJHt0YXJnZXQubmFtZX0uJHtTdHJpbmcoa2V5KX1gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH0sXG5cdGdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkge1xuXHRcdGlmICh0YXJnZXQuZXhjbHVkZS5pbmNsdWRlcyhrZXkpKSByZXR1cm47XG5cdFx0aWYgKGtleSBpbiB0YXJnZXQucHJvcHMpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0dmFsdWU6IHRhcmdldC5wcm9wc1trZXldXG5cdFx0XHR9O1xuXHRcdH1cblx0fSxcblx0aGFzKHRhcmdldCwga2V5KSB7XG5cdFx0aWYgKHRhcmdldC5leGNsdWRlLmluY2x1ZGVzKGtleSkpIHJldHVybiBmYWxzZTtcblx0XHRyZXR1cm4ga2V5IGluIHRhcmdldC5wcm9wcztcblx0fSxcblx0b3duS2V5cyh0YXJnZXQpIHtcblx0XHRyZXR1cm4gUmVmbGVjdC5vd25LZXlzKHRhcmdldC5wcm9wcykuZmlsdGVyKChrZXkpID0+ICF0YXJnZXQuZXhjbHVkZS5pbmNsdWRlcyhrZXkpKTtcblx0fVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIHVua25vd24+fSBwcm9wc1xuICogQHBhcmFtIHtzdHJpbmdbXX0gZXhjbHVkZVxuICogQHBhcmFtIHtzdHJpbmd9IFtuYW1lXVxuICogQHJldHVybnMge1JlY29yZDxzdHJpbmcsIHVua25vd24+fVxuICovXG4vKiNfX05PX1NJREVfRUZGRUNUU19fKi9cbmV4cG9ydCBmdW5jdGlvbiByZXN0X3Byb3BzKHByb3BzLCBleGNsdWRlLCBuYW1lKSB7XG5cdHJldHVybiBuZXcgUHJveHkoXG5cdFx0REVWID8geyBwcm9wcywgZXhjbHVkZSwgbmFtZSwgb3RoZXI6IHt9LCB0b19wcm94eTogW10gfSA6IHsgcHJvcHMsIGV4Y2x1ZGUgfSxcblx0XHRyZXN0X3Byb3BzX2hhbmRsZXJcblx0KTtcbn1cblxuLyoqXG4gKiBUaGUgcHJveHkgaGFuZGxlciBmb3IgbGVnYWN5ICQkcmVzdFByb3BzIGFuZCAkJHByb3BzXG4gKiBAdHlwZSB7UHJveHlIYW5kbGVyPHsgcHJvcHM6IFJlY29yZDxzdHJpbmcgfCBzeW1ib2wsIHVua25vd24+LCBleGNsdWRlOiBBcnJheTxzdHJpbmcgfCBzeW1ib2w+LCBzcGVjaWFsOiBSZWNvcmQ8c3RyaW5nIHwgc3ltYm9sLCAodj86IHVua25vd24pID0+IHVua25vd24+LCB2ZXJzaW9uOiBTb3VyY2U8bnVtYmVyPiwgcGFyZW50X2VmZmVjdDogRWZmZWN0IH0+fX1cbiAqL1xuY29uc3QgbGVnYWN5X3Jlc3RfcHJvcHNfaGFuZGxlciA9IHtcblx0Z2V0KHRhcmdldCwga2V5KSB7XG5cdFx0aWYgKHRhcmdldC5leGNsdWRlLmluY2x1ZGVzKGtleSkpIHJldHVybjtcblx0XHRnZXQodGFyZ2V0LnZlcnNpb24pO1xuXHRcdHJldHVybiBrZXkgaW4gdGFyZ2V0LnNwZWNpYWwgPyB0YXJnZXQuc3BlY2lhbFtrZXldKCkgOiB0YXJnZXQucHJvcHNba2V5XTtcblx0fSxcblx0c2V0KHRhcmdldCwga2V5LCB2YWx1ZSkge1xuXHRcdGlmICghKGtleSBpbiB0YXJnZXQuc3BlY2lhbCkpIHtcblx0XHRcdHZhciBwcmV2aW91c19lZmZlY3QgPSBhY3RpdmVfZWZmZWN0O1xuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRzZXRfYWN0aXZlX2VmZmVjdCh0YXJnZXQucGFyZW50X2VmZmVjdCk7XG5cblx0XHRcdFx0Ly8gSGFuZGxlIHByb3BzIHRoYXQgY2FuIHRlbXBvcmFyaWx5IGdldCBvdXQgb2Ygc3luYyB3aXRoIHRoZSBwYXJlbnRcblx0XHRcdFx0LyoqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nLCAodj86IHVua25vd24pID0+IHVua25vd24+fSAqL1xuXHRcdFx0XHR0YXJnZXQuc3BlY2lhbFtrZXldID0gcHJvcChcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRnZXQgW2tleV0oKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB0YXJnZXQucHJvcHNba2V5XTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoa2V5KSxcblx0XHRcdFx0XHRQUk9QU19JU19VUERBVEVEXG5cdFx0XHRcdCk7XG5cdFx0XHR9IGZpbmFsbHkge1xuXHRcdFx0XHRzZXRfYWN0aXZlX2VmZmVjdChwcmV2aW91c19lZmZlY3QpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRhcmdldC5zcGVjaWFsW2tleV0odmFsdWUpO1xuXHRcdHVwZGF0ZSh0YXJnZXQudmVyc2lvbik7IC8vICQkcHJvcHMgaXMgY29hcnNlLWdyYWluZWQ6IHdoZW4gJCRwcm9wcy54IGlzIHVwZGF0ZWQsIHVzYWdlcyBvZiAkJHByb3BzLnkgZXRjIGFyZSBhbHNvIHJlcnVuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cdGdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkge1xuXHRcdGlmICh0YXJnZXQuZXhjbHVkZS5pbmNsdWRlcyhrZXkpKSByZXR1cm47XG5cdFx0aWYgKGtleSBpbiB0YXJnZXQucHJvcHMpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0dmFsdWU6IHRhcmdldC5wcm9wc1trZXldXG5cdFx0XHR9O1xuXHRcdH1cblx0fSxcblx0ZGVsZXRlUHJvcGVydHkodGFyZ2V0LCBrZXkpIHtcblx0XHQvLyBTdmVsdGUgNCBhbGxvd2VkIGZvciBkZWxldGlvbnMgb24gJCRyZXN0UHJvcHNcblx0XHRpZiAodGFyZ2V0LmV4Y2x1ZGUuaW5jbHVkZXMoa2V5KSkgcmV0dXJuIHRydWU7XG5cdFx0dGFyZ2V0LmV4Y2x1ZGUucHVzaChrZXkpO1xuXHRcdHVwZGF0ZSh0YXJnZXQudmVyc2lvbik7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cdGhhcyh0YXJnZXQsIGtleSkge1xuXHRcdGlmICh0YXJnZXQuZXhjbHVkZS5pbmNsdWRlcyhrZXkpKSByZXR1cm4gZmFsc2U7XG5cdFx0cmV0dXJuIGtleSBpbiB0YXJnZXQucHJvcHM7XG5cdH0sXG5cdG93bktleXModGFyZ2V0KSB7XG5cdFx0cmV0dXJuIFJlZmxlY3Qub3duS2V5cyh0YXJnZXQucHJvcHMpLmZpbHRlcigoa2V5KSA9PiAhdGFyZ2V0LmV4Y2x1ZGUuaW5jbHVkZXMoa2V5KSk7XG5cdH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCB1bmtub3duPn0gcHJvcHNcbiAqIEBwYXJhbSB7c3RyaW5nW119IGV4Y2x1ZGVcbiAqIEByZXR1cm5zIHtSZWNvcmQ8c3RyaW5nLCB1bmtub3duPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxlZ2FjeV9yZXN0X3Byb3BzKHByb3BzLCBleGNsdWRlKSB7XG5cdHJldHVybiBuZXcgUHJveHkoXG5cdFx0e1xuXHRcdFx0cHJvcHMsXG5cdFx0XHRleGNsdWRlLFxuXHRcdFx0c3BlY2lhbDoge30sXG5cdFx0XHR2ZXJzaW9uOiBzb3VyY2UoMCksXG5cdFx0XHQvLyBUT0RPIHRoaXMgaXMgb25seSBuZWNlc3NhcnkgYmVjYXVzZSB3ZSBuZWVkIHRvIHRyYWNrIGNvbXBvbmVudFxuXHRcdFx0Ly8gZGVzdHJ1Y3Rpb24gaW5zaWRlIGBwcm9wYCwgYmVjYXVzZSBvZiBgYmluZDp0aGlzYCwgYnV0IGl0XG5cdFx0XHQvLyBzZWVtcyBsaWtlbHkgdGhhdCB3ZSBjYW4gc2ltcGxpZnkgYGJpbmQ6dGhpc2AgaW5zdGVhZFxuXHRcdFx0cGFyZW50X2VmZmVjdDogLyoqIEB0eXBlIHtFZmZlY3R9ICovIChhY3RpdmVfZWZmZWN0KVxuXHRcdH0sXG5cdFx0bGVnYWN5X3Jlc3RfcHJvcHNfaGFuZGxlclxuXHQpO1xufVxuXG4vKipcbiAqIFRoZSBwcm94eSBoYW5kbGVyIGZvciBzcHJlYWQgcHJvcHMuIEhhbmRsZXMgdGhlIGluY29taW5nIGFycmF5IG9mIHByb3BzXG4gKiB0aGF0IGxvb2tzIGxpa2UgYCgpID0+IHsgZHluYW1pYzogcHJvcHMgfSwgeyBzdGF0aWM6IHByb3AgfSwgLi5gIGFuZCB3cmFwc1xuICogdGhlbSBzbyB0aGF0IHRoZSB3aG9sZSB0aGluZyBpcyBwYXNzZWQgdG8gdGhlIGNvbXBvbmVudCBhcyB0aGUgYCQkcHJvcHNgIGFyZ3VtZW50LlxuICogQHR5cGUge1Byb3h5SGFuZGxlcjx7IHByb3BzOiBBcnJheTxSZWNvcmQ8c3RyaW5nIHwgc3ltYm9sLCB1bmtub3duPiB8ICgoKSA9PiBSZWNvcmQ8c3RyaW5nIHwgc3ltYm9sLCB1bmtub3duPik+IH0+fX1cbiAqL1xuY29uc3Qgc3ByZWFkX3Byb3BzX2hhbmRsZXIgPSB7XG5cdGdldCh0YXJnZXQsIGtleSkge1xuXHRcdGxldCBpID0gdGFyZ2V0LnByb3BzLmxlbmd0aDtcblx0XHR3aGlsZSAoaS0tKSB7XG5cdFx0XHRsZXQgcCA9IHRhcmdldC5wcm9wc1tpXTtcblx0XHRcdGlmIChpc19mdW5jdGlvbihwKSkgcCA9IHAoKTtcblx0XHRcdGlmICh0eXBlb2YgcCA9PT0gJ29iamVjdCcgJiYgcCAhPT0gbnVsbCAmJiBrZXkgaW4gcCkgcmV0dXJuIHBba2V5XTtcblx0XHR9XG5cdH0sXG5cdHNldCh0YXJnZXQsIGtleSwgdmFsdWUpIHtcblx0XHRsZXQgaSA9IHRhcmdldC5wcm9wcy5sZW5ndGg7XG5cdFx0d2hpbGUgKGktLSkge1xuXHRcdFx0bGV0IHAgPSB0YXJnZXQucHJvcHNbaV07XG5cdFx0XHRpZiAoaXNfZnVuY3Rpb24ocCkpIHAgPSBwKCk7XG5cdFx0XHRjb25zdCBkZXNjID0gZ2V0X2Rlc2NyaXB0b3IocCwga2V5KTtcblx0XHRcdGlmIChkZXNjICYmIGRlc2Muc2V0KSB7XG5cdFx0XHRcdGRlc2Muc2V0KHZhbHVlKTtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fSxcblx0Z2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSB7XG5cdFx0bGV0IGkgPSB0YXJnZXQucHJvcHMubGVuZ3RoO1xuXHRcdHdoaWxlIChpLS0pIHtcblx0XHRcdGxldCBwID0gdGFyZ2V0LnByb3BzW2ldO1xuXHRcdFx0aWYgKGlzX2Z1bmN0aW9uKHApKSBwID0gcCgpO1xuXHRcdFx0aWYgKHR5cGVvZiBwID09PSAnb2JqZWN0JyAmJiBwICE9PSBudWxsICYmIGtleSBpbiBwKSB7XG5cdFx0XHRcdGNvbnN0IGRlc2NyaXB0b3IgPSBnZXRfZGVzY3JpcHRvcihwLCBrZXkpO1xuXHRcdFx0XHRpZiAoZGVzY3JpcHRvciAmJiAhZGVzY3JpcHRvci5jb25maWd1cmFibGUpIHtcblx0XHRcdFx0XHQvLyBQcmV2ZW50IGEgXCJOb24tY29uZmlndXJhYmlsaXR5IFJlcG9ydCBFcnJvclwiOiBUaGUgdGFyZ2V0IGlzIGFuIGFycmF5LCBpdCBkb2VzXG5cdFx0XHRcdFx0Ly8gbm90IGFjdHVhbGx5IGNvbnRhaW4gdGhpcyBwcm9wZXJ0eS4gSWYgaXQgaXMgbm93IGRlc2NyaWJlZCBhcyBub24tY29uZmlndXJhYmxlLFxuXHRcdFx0XHRcdC8vIHRoZSBwcm94eSB0aHJvd3MgYSB2YWxpZGF0aW9uIGVycm9yLiBTZXR0aW5nIGl0IHRvIHRydWUgYXZvaWRzIHRoYXQuXG5cdFx0XHRcdFx0ZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBkZXNjcmlwdG9yO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblx0aGFzKHRhcmdldCwga2V5KSB7XG5cdFx0Ly8gVG8gcHJldmVudCBhIGZhbHNlIHBvc2l0aXZlIGBpc19lbnRyeV9wcm9wc2AgaW4gdGhlIGBwcm9wYCBmdW5jdGlvblxuXHRcdGlmIChrZXkgPT09IFNUQVRFX1NZTUJPTCB8fCBrZXkgPT09IExFR0FDWV9QUk9QUykgcmV0dXJuIGZhbHNlO1xuXG5cdFx0Zm9yIChsZXQgcCBvZiB0YXJnZXQucHJvcHMpIHtcblx0XHRcdGlmIChpc19mdW5jdGlvbihwKSkgcCA9IHAoKTtcblx0XHRcdGlmIChwICE9IG51bGwgJiYga2V5IGluIHApIHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fSxcblx0b3duS2V5cyh0YXJnZXQpIHtcblx0XHQvKiogQHR5cGUge0FycmF5PHN0cmluZyB8IHN5bWJvbD59ICovXG5cdFx0Y29uc3Qga2V5cyA9IFtdO1xuXG5cdFx0Zm9yIChsZXQgcCBvZiB0YXJnZXQucHJvcHMpIHtcblx0XHRcdGlmIChpc19mdW5jdGlvbihwKSkgcCA9IHAoKTtcblx0XHRcdGlmICghcCkgY29udGludWU7XG5cblx0XHRcdGZvciAoY29uc3Qga2V5IGluIHApIHtcblx0XHRcdFx0aWYgKCFrZXlzLmluY2x1ZGVzKGtleSkpIGtleXMucHVzaChrZXkpO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IgKGNvbnN0IGtleSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHApKSB7XG5cdFx0XHRcdGlmICgha2V5cy5pbmNsdWRlcyhrZXkpKSBrZXlzLnB1c2goa2V5KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4ga2V5cztcblx0fVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PFJlY29yZDxzdHJpbmcsIHVua25vd24+IHwgKCgpID0+IFJlY29yZDxzdHJpbmcsIHVua25vd24+KT59IHByb3BzXG4gKiBAcmV0dXJucyB7YW55fVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3ByZWFkX3Byb3BzKC4uLnByb3BzKSB7XG5cdHJldHVybiBuZXcgUHJveHkoeyBwcm9wcyB9LCBzcHJlYWRfcHJvcHNfaGFuZGxlcik7XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBpcyByZXNwb25zaWJsZSBmb3Igc3luY2hyb25pemluZyBhIHBvc3NpYmx5IGJvdW5kIHByb3Agd2l0aCB0aGUgaW5uZXIgY29tcG9uZW50IHN0YXRlLlxuICogSXQgaXMgdXNlZCB3aGVuZXZlciB0aGUgY29tcGlsZXIgc2VlcyB0aGF0IHRoZSBjb21wb25lbnQgd3JpdGVzIHRvIHRoZSBwcm9wLCBvciB3aGVuIGl0IGhhcyBhIGRlZmF1bHQgcHJvcF92YWx1ZS5cbiAqIEB0ZW1wbGF0ZSBWXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIHVua25vd24+fSBwcm9wc1xuICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICogQHBhcmFtIHtudW1iZXJ9IGZsYWdzXG4gKiBAcGFyYW0ge1YgfCAoKCkgPT4gVil9IFtmYWxsYmFja11cbiAqIEByZXR1cm5zIHsoKCkgPT4gViB8ICgoYXJnOiBWKSA9PiBWKSB8ICgoYXJnOiBWLCBtdXRhdGlvbjogYm9vbGVhbikgPT4gVikpfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvcChwcm9wcywga2V5LCBmbGFncywgZmFsbGJhY2spIHtcblx0dmFyIHJ1bmVzID0gIWxlZ2FjeV9tb2RlX2ZsYWcgfHwgKGZsYWdzICYgUFJPUFNfSVNfUlVORVMpICE9PSAwO1xuXHR2YXIgYmluZGFibGUgPSAoZmxhZ3MgJiBQUk9QU19JU19CSU5EQUJMRSkgIT09IDA7XG5cdHZhciBsYXp5ID0gKGZsYWdzICYgUFJPUFNfSVNfTEFaWV9JTklUSUFMKSAhPT0gMDtcblxuXHR2YXIgZmFsbGJhY2tfdmFsdWUgPSAvKiogQHR5cGUge1Z9ICovIChmYWxsYmFjayk7XG5cdHZhciBmYWxsYmFja19kaXJ0eSA9IHRydWU7XG5cblx0dmFyIGdldF9mYWxsYmFjayA9ICgpID0+IHtcblx0XHRpZiAoZmFsbGJhY2tfZGlydHkpIHtcblx0XHRcdGZhbGxiYWNrX2RpcnR5ID0gZmFsc2U7XG5cblx0XHRcdGZhbGxiYWNrX3ZhbHVlID0gbGF6eVxuXHRcdFx0XHQ/IHVudHJhY2soLyoqIEB0eXBlIHsoKSA9PiBWfSAqLyAoZmFsbGJhY2spKVxuXHRcdFx0XHQ6IC8qKiBAdHlwZSB7Vn0gKi8gKGZhbGxiYWNrKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsbGJhY2tfdmFsdWU7XG5cdH07XG5cblx0LyoqIEB0eXBlIHsoKHY6IFYpID0+IHZvaWQpIHwgdW5kZWZpbmVkfSAqL1xuXHR2YXIgc2V0dGVyO1xuXG5cdGlmIChiaW5kYWJsZSkge1xuXHRcdC8vIENhbiBiZSB0aGUgY2FzZSB3aGVuIHNvbWVvbmUgZG9lcyBgbW91bnQoQ29tcG9uZW50LCBwcm9wcylgIHdpdGggYGxldCBwcm9wcyA9ICRzdGF0ZSh7Li4ufSlgXG5cdFx0Ly8gb3IgYGNyZWF0ZUNsYXNzQ29tcG9uZW50KENvbXBvbmVudCwgcHJvcHMpYFxuXHRcdHZhciBpc19lbnRyeV9wcm9wcyA9IFNUQVRFX1NZTUJPTCBpbiBwcm9wcyB8fCBMRUdBQ1lfUFJPUFMgaW4gcHJvcHM7XG5cblx0XHRzZXR0ZXIgPVxuXHRcdFx0Z2V0X2Rlc2NyaXB0b3IocHJvcHMsIGtleSk/LnNldCA/P1xuXHRcdFx0KGlzX2VudHJ5X3Byb3BzICYmIGtleSBpbiBwcm9wcyA/ICh2KSA9PiAocHJvcHNba2V5XSA9IHYpIDogdW5kZWZpbmVkKTtcblx0fVxuXG5cdHZhciBpbml0aWFsX3ZhbHVlO1xuXHR2YXIgaXNfc3RvcmVfc3ViID0gZmFsc2U7XG5cblx0aWYgKGJpbmRhYmxlKSB7XG5cdFx0W2luaXRpYWxfdmFsdWUsIGlzX3N0b3JlX3N1Yl0gPSBjYXB0dXJlX3N0b3JlX2JpbmRpbmcoKCkgPT4gLyoqIEB0eXBlIHtWfSAqLyAocHJvcHNba2V5XSkpO1xuXHR9IGVsc2Uge1xuXHRcdGluaXRpYWxfdmFsdWUgPSAvKiogQHR5cGUge1Z9ICovIChwcm9wc1trZXldKTtcblx0fVxuXG5cdGlmIChpbml0aWFsX3ZhbHVlID09PSB1bmRlZmluZWQgJiYgZmFsbGJhY2sgIT09IHVuZGVmaW5lZCkge1xuXHRcdGluaXRpYWxfdmFsdWUgPSBnZXRfZmFsbGJhY2soKTtcblxuXHRcdGlmIChzZXR0ZXIpIHtcblx0XHRcdGlmIChydW5lcykgZS5wcm9wc19pbnZhbGlkX3ZhbHVlKGtleSk7XG5cdFx0XHRzZXR0ZXIoaW5pdGlhbF92YWx1ZSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqIEB0eXBlIHsoKSA9PiBWfSAqL1xuXHR2YXIgZ2V0dGVyO1xuXG5cdGlmIChydW5lcykge1xuXHRcdGdldHRlciA9ICgpID0+IHtcblx0XHRcdHZhciB2YWx1ZSA9IC8qKiBAdHlwZSB7Vn0gKi8gKHByb3BzW2tleV0pO1xuXHRcdFx0aWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHJldHVybiBnZXRfZmFsbGJhY2soKTtcblx0XHRcdGZhbGxiYWNrX2RpcnR5ID0gdHJ1ZTtcblx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdGdldHRlciA9ICgpID0+IHtcblx0XHRcdHZhciB2YWx1ZSA9IC8qKiBAdHlwZSB7Vn0gKi8gKHByb3BzW2tleV0pO1xuXG5cdFx0XHRpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHQvLyBpbiBsZWdhY3kgbW9kZSwgd2UgZG9uJ3QgcmV2ZXJ0IHRvIHRoZSBmYWxsYmFjayB2YWx1ZVxuXHRcdFx0XHQvLyBpZiB0aGUgcHJvcCBnb2VzIGZyb20gZGVmaW5lZCB0byB1bmRlZmluZWQuIFRoZSBlYXNpZXN0XG5cdFx0XHRcdC8vIHdheSB0byBtb2RlbCB0aGlzIGlzIHRvIG1ha2UgdGhlIGZhbGxiYWNrIHVuZGVmaW5lZFxuXHRcdFx0XHQvLyBhcyBzb29uIGFzIHRoZSBwcm9wIGhhcyBhIHZhbHVlXG5cdFx0XHRcdGZhbGxiYWNrX3ZhbHVlID0gLyoqIEB0eXBlIHtWfSAqLyAodW5kZWZpbmVkKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyBmYWxsYmFja192YWx1ZSA6IHZhbHVlO1xuXHRcdH07XG5cdH1cblxuXHQvLyBwcm9wIGlzIG5ldmVyIHdyaXR0ZW4gdG8g4oCUIHdlIG9ubHkgbmVlZCBhIGdldHRlclxuXHRpZiAocnVuZXMgJiYgKGZsYWdzICYgUFJPUFNfSVNfVVBEQVRFRCkgPT09IDApIHtcblx0XHRyZXR1cm4gZ2V0dGVyO1xuXHR9XG5cblx0Ly8gcHJvcCBpcyB3cml0dGVuIHRvLCBidXQgdGhlIHBhcmVudCBjb21wb25lbnQgaGFkIGBiaW5kOmZvb2Agd2hpY2hcblx0Ly8gbWVhbnMgd2UgY2FuIGp1c3QgY2FsbCBgJCRwcm9wcy5mb28gPSB2YWx1ZWAgZGlyZWN0bHlcblx0aWYgKHNldHRlcikge1xuXHRcdHZhciBsZWdhY3lfcGFyZW50ID0gcHJvcHMuJCRsZWdhY3k7XG5cdFx0cmV0dXJuIC8qKiBAdHlwZSB7KCkgPT4gVn0gKi8gKFxuXHRcdFx0ZnVuY3Rpb24gKC8qKiBAdHlwZSB7Vn0gKi8gdmFsdWUsIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi8gbXV0YXRpb24pIHtcblx0XHRcdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0Ly8gV2UgZG9uJ3Qgd2FudCB0byBub3RpZnkgaWYgdGhlIHZhbHVlIHdhcyBtdXRhdGVkIGFuZCB0aGUgcGFyZW50IGlzIGluIHJ1bmVzIG1vZGUuXG5cdFx0XHRcdFx0Ly8gSW4gdGhhdCBjYXNlIHRoZSBzdGF0ZSBwcm94eSAoaWYgaXQgZXhpc3RzKSBzaG91bGQgdGFrZSBjYXJlIG9mIHRoZSBub3RpZmljYXRpb24uXG5cdFx0XHRcdFx0Ly8gSWYgdGhlIHBhcmVudCBpcyBub3QgaW4gcnVuZXMgbW9kZSwgd2UgbmVlZCB0byBub3RpZnkgb24gbXV0YXRpb24sIHRvbywgdGhhdCB0aGUgcHJvcFxuXHRcdFx0XHRcdC8vIGhhcyBjaGFuZ2VkIGJlY2F1c2UgdGhlIHBhcmVudCB3aWxsIG5vdCBiZSBhYmxlIHRvIGRldGVjdCB0aGUgY2hhbmdlIG90aGVyd2lzZS5cblx0XHRcdFx0XHRpZiAoIXJ1bmVzIHx8ICFtdXRhdGlvbiB8fCBsZWdhY3lfcGFyZW50IHx8IGlzX3N0b3JlX3N1Yikge1xuXHRcdFx0XHRcdFx0LyoqIEB0eXBlIHtGdW5jdGlvbn0gKi8gKHNldHRlcikobXV0YXRpb24gPyBnZXR0ZXIoKSA6IHZhbHVlKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZ2V0dGVyKCk7XG5cdFx0XHR9XG5cdFx0KTtcblx0fVxuXG5cdC8vIEVpdGhlciBwcm9wIGlzIHdyaXR0ZW4gdG8sIGJ1dCB0aGVyZSdzIG5vIGJpbmRpbmcsIHdoaWNoIG1lYW5zIHdlXG5cdC8vIGNyZWF0ZSBhIGRlcml2ZWQgdGhhdCB3ZSBjYW4gd3JpdGUgdG8gbG9jYWxseS5cblx0Ly8gT3Igd2UgYXJlIGluIGxlZ2FjeSBtb2RlIHdoZXJlIHdlIGFsd2F5cyBjcmVhdGUgYSBkZXJpdmVkIHRvIHJlcGxpY2F0ZSB0aGF0XG5cdC8vIFN2ZWx0ZSA0IGRpZCBub3QgdHJpZ2dlciB1cGRhdGVzIHdoZW4gYSBwcmltaXRpdmUgdmFsdWUgd2FzIHVwZGF0ZWQgdG8gdGhlIHNhbWUgdmFsdWUuXG5cdHZhciBvdmVycmlkZGVuID0gZmFsc2U7XG5cblx0dmFyIGQgPSAoKGZsYWdzICYgUFJPUFNfSVNfSU1NVVRBQkxFKSAhPT0gMCA/IGRlcml2ZWQgOiBkZXJpdmVkX3NhZmVfZXF1YWwpKCgpID0+IHtcblx0XHRvdmVycmlkZGVuID0gZmFsc2U7XG5cdFx0cmV0dXJuIGdldHRlcigpO1xuXHR9KTtcblxuXHRpZiAoREVWKSB7XG5cdFx0ZC5sYWJlbCA9IGtleTtcblx0fVxuXG5cdC8vIENhcHR1cmUgdGhlIGluaXRpYWwgdmFsdWUgaWYgaXQncyBiaW5kYWJsZVxuXHRpZiAoYmluZGFibGUpIGdldChkKTtcblxuXHR2YXIgcGFyZW50X2VmZmVjdCA9IC8qKiBAdHlwZSB7RWZmZWN0fSAqLyAoYWN0aXZlX2VmZmVjdCk7XG5cblx0cmV0dXJuIC8qKiBAdHlwZSB7KCkgPT4gVn0gKi8gKFxuXHRcdGZ1bmN0aW9uICgvKiogQHR5cGUge2FueX0gKi8gdmFsdWUsIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi8gbXV0YXRpb24pIHtcblx0XHRcdGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRjb25zdCBuZXdfdmFsdWUgPSBtdXRhdGlvbiA/IGdldChkKSA6IHJ1bmVzICYmIGJpbmRhYmxlID8gcHJveHkodmFsdWUpIDogdmFsdWU7XG5cblx0XHRcdFx0c2V0KGQsIG5ld192YWx1ZSk7XG5cdFx0XHRcdG92ZXJyaWRkZW4gPSB0cnVlO1xuXG5cdFx0XHRcdGlmIChmYWxsYmFja192YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0ZmFsbGJhY2tfdmFsdWUgPSBuZXdfdmFsdWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIHNwZWNpYWwgY2FzZSDigJQgYXZvaWQgcmVjYWxjdWxhdGluZyB0aGUgZGVyaXZlZCBpZiB3ZSdyZSBpbiBhXG5cdFx0XHQvLyB0ZWFyZG93biBmdW5jdGlvbiBhbmQgdGhlIHByb3Agd2FzIG92ZXJyaWRkZW4gbG9jYWxseSwgb3IgdGhlXG5cdFx0XHQvLyBjb21wb25lbnQgd2FzIGFscmVhZHkgZGVzdHJveWVkICh0aGlzIGxhdHRlciBwYXJ0IGlzIG5lY2Vzc2FyeVxuXHRcdFx0Ly8gYmVjYXVzZSBgYmluZDp0aGlzYCBjYW4gcmVhZCBwcm9wcyBhZnRlciB0aGUgY29tcG9uZW50IGhhc1xuXHRcdFx0Ly8gYmVlbiBkZXN0cm95ZWQuIFRPRE8gc2ltcGxpZnkgYGJpbmQ6dGhpc2Bcblx0XHRcdGlmICgoaXNfZGVzdHJveWluZ19lZmZlY3QgJiYgb3ZlcnJpZGRlbikgfHwgKHBhcmVudF9lZmZlY3QuZiAmIERFU1RST1lFRCkgIT09IDApIHtcblx0XHRcdFx0cmV0dXJuIGQudjtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGdldChkKTtcblx0XHR9XG5cdCk7XG59XG4iLCIvKiogQGltcG9ydCB7IENvbXBvbmVudENvbnRleHQsIENvbXBvbmVudENvbnRleHRMZWdhY3kgfSBmcm9tICcjY2xpZW50JyAqL1xuLyoqIEBpbXBvcnQgeyBFdmVudERpc3BhdGNoZXIgfSBmcm9tICcuL2luZGV4LmpzJyAqL1xuLyoqIEBpbXBvcnQgeyBOb3RGdW5jdGlvbiB9IGZyb20gJy4vaW50ZXJuYWwvdHlwZXMuanMnICovXG5pbXBvcnQgeyBhY3RpdmVfcmVhY3Rpb24sIHVudHJhY2sgfSBmcm9tICcuL2ludGVybmFsL2NsaWVudC9ydW50aW1lLmpzJztcbmltcG9ydCB7IGlzX2FycmF5IH0gZnJvbSAnLi9pbnRlcm5hbC9zaGFyZWQvdXRpbHMuanMnO1xuaW1wb3J0IHsgdXNlcl9lZmZlY3QgfSBmcm9tICcuL2ludGVybmFsL2NsaWVudC9pbmRleC5qcyc7XG5pbXBvcnQgKiBhcyBlIGZyb20gJy4vaW50ZXJuYWwvY2xpZW50L2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBsZWdhY3lfbW9kZV9mbGFnIH0gZnJvbSAnLi9pbnRlcm5hbC9mbGFncy9pbmRleC5qcyc7XG5pbXBvcnQgeyBjb21wb25lbnRfY29udGV4dCB9IGZyb20gJy4vaW50ZXJuYWwvY2xpZW50L2NvbnRleHQuanMnO1xuaW1wb3J0IHsgREVWIH0gZnJvbSAnZXNtLWVudic7XG5cbmlmIChERVYpIHtcblx0LyoqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBydW5lXG5cdCAqL1xuXHRmdW5jdGlvbiB0aHJvd19ydW5lX2Vycm9yKHJ1bmUpIHtcblx0XHRpZiAoIShydW5lIGluIGdsb2JhbFRoaXMpKSB7XG5cdFx0XHQvLyBUT0RPIGlmIHBlb3BsZSBzdGFydCBhZGp1c3RpbmcgdGhlIFwidGhpcyBjYW4gY29udGFpbiBydW5lc1wiIGNvbmZpZyB0aHJvdWdoIHYtcC1zIG1vcmUsIGFkanVzdCB0aGlzIG1lc3NhZ2Vcblx0XHRcdC8qKiBAdHlwZSB7YW55fSAqL1xuXHRcdFx0bGV0IHZhbHVlOyAvLyBsZXQncyBob3BlIG5vb25lIG1vZGlmaWVzIHRoaXMgZ2xvYmFsLCBidXQgYmVsdHMgYW5kIGJyYWNlc1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGdsb2JhbFRoaXMsIHJ1bmUsIHtcblx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ2V0dGVyLXJldHVyblxuXHRcdFx0XHRnZXQ6ICgpID0+IHtcblx0XHRcdFx0XHRpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGUucnVuZV9vdXRzaWRlX3N2ZWx0ZShydW5lKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0c2V0OiAodikgPT4ge1xuXHRcdFx0XHRcdHZhbHVlID0gdjtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0dGhyb3dfcnVuZV9lcnJvcignJHN0YXRlJyk7XG5cdHRocm93X3J1bmVfZXJyb3IoJyRlZmZlY3QnKTtcblx0dGhyb3dfcnVuZV9lcnJvcignJGRlcml2ZWQnKTtcblx0dGhyb3dfcnVuZV9lcnJvcignJGluc3BlY3QnKTtcblx0dGhyb3dfcnVuZV9lcnJvcignJHByb3BzJyk7XG5cdHRocm93X3J1bmVfZXJyb3IoJyRiaW5kYWJsZScpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYW4gW2BBYm9ydFNpZ25hbGBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9BYm9ydFNpZ25hbCkgdGhhdCBhYm9ydHMgd2hlbiB0aGUgY3VycmVudCBbZGVyaXZlZF0oaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLyRkZXJpdmVkKSBvciBbZWZmZWN0XShodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUvJGVmZmVjdCkgcmUtcnVucyBvciBpcyBkZXN0cm95ZWQuXG4gKlxuICogTXVzdCBiZSBjYWxsZWQgd2hpbGUgYSBkZXJpdmVkIG9yIGVmZmVjdCBpcyBydW5uaW5nLlxuICpcbiAqIGBgYHN2ZWx0ZVxuICogPHNjcmlwdD5cbiAqIFx0aW1wb3J0IHsgZ2V0QWJvcnRTaWduYWwgfSBmcm9tICdzdmVsdGUnO1xuICpcbiAqIFx0bGV0IHsgaWQgfSA9ICRwcm9wcygpO1xuICpcbiAqIFx0YXN5bmMgZnVuY3Rpb24gZ2V0RGF0YShpZCkge1xuICogXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9pdGVtcy8ke2lkfWAsIHtcbiAqIFx0XHRcdHNpZ25hbDogZ2V0QWJvcnRTaWduYWwoKVxuICogXHRcdH0pO1xuICpcbiAqIFx0XHRyZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICogXHR9XG4gKlxuICogXHRjb25zdCBkYXRhID0gJGRlcml2ZWQoYXdhaXQgZ2V0RGF0YShpZCkpO1xuICogPC9zY3JpcHQ+XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFib3J0U2lnbmFsKCkge1xuXHRpZiAoYWN0aXZlX3JlYWN0aW9uID09PSBudWxsKSB7XG5cdFx0ZS5nZXRfYWJvcnRfc2lnbmFsX291dHNpZGVfcmVhY3Rpb24oKTtcblx0fVxuXG5cdHJldHVybiAoYWN0aXZlX3JlYWN0aW9uLmFjID8/PSBuZXcgQWJvcnRDb250cm9sbGVyKCkpLnNpZ25hbDtcbn1cblxuLyoqXG4gKiBgb25Nb3VudGAsIGxpa2UgW2AkZWZmZWN0YF0oaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLyRlZmZlY3QpLCBzY2hlZHVsZXMgYSBmdW5jdGlvbiB0byBydW4gYXMgc29vbiBhcyB0aGUgY29tcG9uZW50IGhhcyBiZWVuIG1vdW50ZWQgdG8gdGhlIERPTS5cbiAqIFVubGlrZSBgJGVmZmVjdGAsIHRoZSBwcm92aWRlZCBmdW5jdGlvbiBvbmx5IHJ1bnMgb25jZS5cbiAqXG4gKiBJdCBtdXN0IGJlIGNhbGxlZCBkdXJpbmcgdGhlIGNvbXBvbmVudCdzIGluaXRpYWxpc2F0aW9uIChidXQgZG9lc24ndCBuZWVkIHRvIGxpdmUgX2luc2lkZV8gdGhlIGNvbXBvbmVudDtcbiAqIGl0IGNhbiBiZSBjYWxsZWQgZnJvbSBhbiBleHRlcm5hbCBtb2R1bGUpLiBJZiBhIGZ1bmN0aW9uIGlzIHJldHVybmVkIF9zeW5jaHJvbm91c2x5XyBmcm9tIGBvbk1vdW50YCxcbiAqIGl0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQuXG4gKlxuICogYG9uTW91bnRgIGZ1bmN0aW9ucyBkbyBub3QgcnVuIGR1cmluZyBbc2VydmVyLXNpZGUgcmVuZGVyaW5nXShodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUvc3ZlbHRlLXNlcnZlciNyZW5kZXIpLlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0geygpID0+IE5vdEZ1bmN0aW9uPFQ+IHwgUHJvbWlzZTxOb3RGdW5jdGlvbjxUPj4gfCAoKCkgPT4gYW55KX0gZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gb25Nb3VudChmbikge1xuXHRpZiAoY29tcG9uZW50X2NvbnRleHQgPT09IG51bGwpIHtcblx0XHRlLmxpZmVjeWNsZV9vdXRzaWRlX2NvbXBvbmVudCgnb25Nb3VudCcpO1xuXHR9XG5cblx0aWYgKGxlZ2FjeV9tb2RlX2ZsYWcgJiYgY29tcG9uZW50X2NvbnRleHQubCAhPT0gbnVsbCkge1xuXHRcdGluaXRfdXBkYXRlX2NhbGxiYWNrcyhjb21wb25lbnRfY29udGV4dCkubS5wdXNoKGZuKTtcblx0fSBlbHNlIHtcblx0XHR1c2VyX2VmZmVjdCgoKSA9PiB7XG5cdFx0XHRjb25zdCBjbGVhbnVwID0gdW50cmFjayhmbik7XG5cdFx0XHRpZiAodHlwZW9mIGNsZWFudXAgPT09ICdmdW5jdGlvbicpIHJldHVybiAvKiogQHR5cGUgeygpID0+IHZvaWR9ICovIChjbGVhbnVwKTtcblx0XHR9KTtcblx0fVxufVxuXG4vKipcbiAqIFNjaGVkdWxlcyBhIGNhbGxiYWNrIHRvIHJ1biBpbW1lZGlhdGVseSBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQuXG4gKlxuICogT3V0IG9mIGBvbk1vdW50YCwgYGJlZm9yZVVwZGF0ZWAsIGBhZnRlclVwZGF0ZWAgYW5kIGBvbkRlc3Ryb3lgLCB0aGlzIGlzIHRoZVxuICogb25seSBvbmUgdGhhdCBydW5zIGluc2lkZSBhIHNlcnZlci1zaWRlIGNvbXBvbmVudC5cbiAqXG4gKiBAcGFyYW0geygpID0+IGFueX0gZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gb25EZXN0cm95KGZuKSB7XG5cdGlmIChjb21wb25lbnRfY29udGV4dCA9PT0gbnVsbCkge1xuXHRcdGUubGlmZWN5Y2xlX291dHNpZGVfY29tcG9uZW50KCdvbkRlc3Ryb3knKTtcblx0fVxuXG5cdG9uTW91bnQoKCkgPT4gKCkgPT4gdW50cmFjayhmbikpO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBbVD1hbnldXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtUfSBbZGV0YWlsXVxuICogQHBhcmFtIHthbnl9cGFyYW1zXzBcbiAqIEByZXR1cm5zIHtDdXN0b21FdmVudDxUPn1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlX2N1c3RvbV9ldmVudCh0eXBlLCBkZXRhaWwsIHsgYnViYmxlcyA9IGZhbHNlLCBjYW5jZWxhYmxlID0gZmFsc2UgfSA9IHt9KSB7XG5cdHJldHVybiBuZXcgQ3VzdG9tRXZlbnQodHlwZSwgeyBkZXRhaWwsIGJ1YmJsZXMsIGNhbmNlbGFibGUgfSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBldmVudCBkaXNwYXRjaGVyIHRoYXQgY2FuIGJlIHVzZWQgdG8gZGlzcGF0Y2ggW2NvbXBvbmVudCBldmVudHNdKGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS9sZWdhY3ktb24jQ29tcG9uZW50LWV2ZW50cykuXG4gKiBFdmVudCBkaXNwYXRjaGVycyBhcmUgZnVuY3Rpb25zIHRoYXQgY2FuIHRha2UgdHdvIGFyZ3VtZW50czogYG5hbWVgIGFuZCBgZGV0YWlsYC5cbiAqXG4gKiBDb21wb25lbnQgZXZlbnRzIGNyZWF0ZWQgd2l0aCBgY3JlYXRlRXZlbnREaXNwYXRjaGVyYCBjcmVhdGUgYVxuICogW0N1c3RvbUV2ZW50XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ3VzdG9tRXZlbnQpLlxuICogVGhlc2UgZXZlbnRzIGRvIG5vdCBbYnViYmxlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0xlYXJuL0phdmFTY3JpcHQvQnVpbGRpbmdfYmxvY2tzL0V2ZW50cyNFdmVudF9idWJibGluZ19hbmRfY2FwdHVyZSkuXG4gKiBUaGUgYGRldGFpbGAgYXJndW1lbnQgY29ycmVzcG9uZHMgdG8gdGhlIFtDdXN0b21FdmVudC5kZXRhaWxdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DdXN0b21FdmVudC9kZXRhaWwpXG4gKiBwcm9wZXJ0eSBhbmQgY2FuIGNvbnRhaW4gYW55IHR5cGUgb2YgZGF0YS5cbiAqXG4gKiBUaGUgZXZlbnQgZGlzcGF0Y2hlciBjYW4gYmUgdHlwZWQgdG8gbmFycm93IHRoZSBhbGxvd2VkIGV2ZW50IG5hbWVzIGFuZCB0aGUgdHlwZSBvZiB0aGUgYGRldGFpbGAgYXJndW1lbnQ6XG4gKiBgYGB0c1xuICogY29uc3QgZGlzcGF0Y2ggPSBjcmVhdGVFdmVudERpc3BhdGNoZXI8e1xuICogIGxvYWRlZDogbnVsbDsgLy8gZG9lcyBub3QgdGFrZSBhIGRldGFpbCBhcmd1bWVudFxuICogIGNoYW5nZTogc3RyaW5nOyAvLyB0YWtlcyBhIGRldGFpbCBhcmd1bWVudCBvZiB0eXBlIHN0cmluZywgd2hpY2ggaXMgcmVxdWlyZWRcbiAqICBvcHRpb25hbDogbnVtYmVyIHwgbnVsbDsgLy8gdGFrZXMgYW4gb3B0aW9uYWwgZGV0YWlsIGFyZ3VtZW50IG9mIHR5cGUgbnVtYmVyXG4gKiB9PigpO1xuICogYGBgXG4gKlxuICogQGRlcHJlY2F0ZWQgVXNlIGNhbGxiYWNrIHByb3BzIGFuZC9vciB0aGUgYCRob3N0KClgIHJ1bmUgaW5zdGVhZCDigJQgc2VlIFttaWdyYXRpb24gZ3VpZGVdKGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS92NS1taWdyYXRpb24tZ3VpZGUjRXZlbnQtY2hhbmdlcy1Db21wb25lbnQtZXZlbnRzKVxuICogQHRlbXBsYXRlIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBbRXZlbnRNYXAgPSBhbnldXG4gKiBAcmV0dXJucyB7RXZlbnREaXNwYXRjaGVyPEV2ZW50TWFwPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcigpIHtcblx0Y29uc3QgYWN0aXZlX2NvbXBvbmVudF9jb250ZXh0ID0gY29tcG9uZW50X2NvbnRleHQ7XG5cdGlmIChhY3RpdmVfY29tcG9uZW50X2NvbnRleHQgPT09IG51bGwpIHtcblx0XHRlLmxpZmVjeWNsZV9vdXRzaWRlX2NvbXBvbmVudCgnY3JlYXRlRXZlbnREaXNwYXRjaGVyJyk7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIFtkZXRhaWxdXG5cdCAqIEBwYXJhbSBbb3B0aW9uc11cblx0ICovXG5cdHJldHVybiAodHlwZSwgZGV0YWlsLCBvcHRpb25zKSA9PiB7XG5cdFx0Y29uc3QgZXZlbnRzID0gLyoqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nLCBGdW5jdGlvbiB8IEZ1bmN0aW9uW10+fSAqLyAoXG5cdFx0XHRhY3RpdmVfY29tcG9uZW50X2NvbnRleHQucy4kJGV2ZW50c1xuXHRcdCk/LlsvKiogQHR5cGUge3N0cmluZ30gKi8gKHR5cGUpXTtcblxuXHRcdGlmIChldmVudHMpIHtcblx0XHRcdGNvbnN0IGNhbGxiYWNrcyA9IGlzX2FycmF5KGV2ZW50cykgPyBldmVudHMuc2xpY2UoKSA6IFtldmVudHNdO1xuXHRcdFx0Ly8gVE9ETyBhcmUgdGhlcmUgc2l0dWF0aW9ucyB3aGVyZSBldmVudHMgY291bGQgYmUgZGlzcGF0Y2hlZFxuXHRcdFx0Ly8gaW4gYSBzZXJ2ZXIgKG5vbi1ET00pIGVudmlyb25tZW50P1xuXHRcdFx0Y29uc3QgZXZlbnQgPSBjcmVhdGVfY3VzdG9tX2V2ZW50KC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAodHlwZSksIGRldGFpbCwgb3B0aW9ucyk7XG5cdFx0XHRmb3IgKGNvbnN0IGZuIG9mIGNhbGxiYWNrcykge1xuXHRcdFx0XHRmbi5jYWxsKGFjdGl2ZV9jb21wb25lbnRfY29udGV4dC54LCBldmVudCk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQ7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH07XG59XG5cbi8vIFRPRE8gbWFyayBiZWZvcmVVcGRhdGUgYW5kIGFmdGVyVXBkYXRlIGFzIGRlcHJlY2F0ZWQgaW4gU3ZlbHRlIDZcblxuLyoqXG4gKiBTY2hlZHVsZXMgYSBjYWxsYmFjayB0byBydW4gaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgdXBkYXRlZCBhZnRlciBhbnkgc3RhdGUgY2hhbmdlLlxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBydW5zIHdpbGwgYmUgYmVmb3JlIHRoZSBpbml0aWFsIGBvbk1vdW50YC5cbiAqXG4gKiBJbiBydW5lcyBtb2RlIHVzZSBgJGVmZmVjdC5wcmVgIGluc3RlYWQuXG4gKlxuICogQGRlcHJlY2F0ZWQgVXNlIFtgJGVmZmVjdC5wcmVgXShodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUvJGVmZmVjdCMkZWZmZWN0LnByZSkgaW5zdGVhZFxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBmblxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiZWZvcmVVcGRhdGUoZm4pIHtcblx0aWYgKGNvbXBvbmVudF9jb250ZXh0ID09PSBudWxsKSB7XG5cdFx0ZS5saWZlY3ljbGVfb3V0c2lkZV9jb21wb25lbnQoJ2JlZm9yZVVwZGF0ZScpO1xuXHR9XG5cblx0aWYgKGNvbXBvbmVudF9jb250ZXh0LmwgPT09IG51bGwpIHtcblx0XHRlLmxpZmVjeWNsZV9sZWdhY3lfb25seSgnYmVmb3JlVXBkYXRlJyk7XG5cdH1cblxuXHRpbml0X3VwZGF0ZV9jYWxsYmFja3MoY29tcG9uZW50X2NvbnRleHQpLmIucHVzaChmbik7XG59XG5cbi8qKlxuICogU2NoZWR1bGVzIGEgY2FsbGJhY2sgdG8gcnVuIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBjb21wb25lbnQgaGFzIGJlZW4gdXBkYXRlZC5cbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgcnVucyB3aWxsIGJlIGFmdGVyIHRoZSBpbml0aWFsIGBvbk1vdW50YC5cbiAqXG4gKiBJbiBydW5lcyBtb2RlIHVzZSBgJGVmZmVjdGAgaW5zdGVhZC5cbiAqXG4gKiBAZGVwcmVjYXRlZCBVc2UgW2AkZWZmZWN0YF0oaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLyRlZmZlY3QpIGluc3RlYWRcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWZ0ZXJVcGRhdGUoZm4pIHtcblx0aWYgKGNvbXBvbmVudF9jb250ZXh0ID09PSBudWxsKSB7XG5cdFx0ZS5saWZlY3ljbGVfb3V0c2lkZV9jb21wb25lbnQoJ2FmdGVyVXBkYXRlJyk7XG5cdH1cblxuXHRpZiAoY29tcG9uZW50X2NvbnRleHQubCA9PT0gbnVsbCkge1xuXHRcdGUubGlmZWN5Y2xlX2xlZ2FjeV9vbmx5KCdhZnRlclVwZGF0ZScpO1xuXHR9XG5cblx0aW5pdF91cGRhdGVfY2FsbGJhY2tzKGNvbXBvbmVudF9jb250ZXh0KS5hLnB1c2goZm4pO1xufVxuXG4vKipcbiAqIExlZ2FjeS1tb2RlOiBJbml0IGNhbGxiYWNrcyBvYmplY3QgZm9yIG9uTW91bnQvYmVmb3JlVXBkYXRlL2FmdGVyVXBkYXRlXG4gKiBAcGFyYW0ge0NvbXBvbmVudENvbnRleHR9IGNvbnRleHRcbiAqL1xuZnVuY3Rpb24gaW5pdF91cGRhdGVfY2FsbGJhY2tzKGNvbnRleHQpIHtcblx0dmFyIGwgPSAvKiogQHR5cGUge0NvbXBvbmVudENvbnRleHRMZWdhY3l9ICovIChjb250ZXh0KS5sO1xuXHRyZXR1cm4gKGwudSA/Pz0geyBhOiBbXSwgYjogW10sIG06IFtdIH0pO1xufVxuXG5leHBvcnQgeyBmbHVzaFN5bmMsIGZvcmsgfSBmcm9tICcuL2ludGVybmFsL2NsaWVudC9yZWFjdGl2aXR5L2JhdGNoLmpzJztcbmV4cG9ydCB7XG5cdGNyZWF0ZUNvbnRleHQsXG5cdGdldENvbnRleHQsXG5cdGdldEFsbENvbnRleHRzLFxuXHRoYXNDb250ZXh0LFxuXHRzZXRDb250ZXh0XG59IGZyb20gJy4vaW50ZXJuYWwvY2xpZW50L2NvbnRleHQuanMnO1xuZXhwb3J0IHsgaHlkcmF0YWJsZSB9IGZyb20gJy4vaW50ZXJuYWwvY2xpZW50L2h5ZHJhdGFibGUuanMnO1xuZXhwb3J0IHsgaHlkcmF0ZSwgbW91bnQsIHVubW91bnQgfSBmcm9tICcuL2ludGVybmFsL2NsaWVudC9yZW5kZXIuanMnO1xuZXhwb3J0IHsgdGljaywgdW50cmFjaywgc2V0dGxlZCB9IGZyb20gJy4vaW50ZXJuYWwvY2xpZW50L3J1bnRpbWUuanMnO1xuZXhwb3J0IHsgY3JlYXRlUmF3U25pcHBldCB9IGZyb20gJy4vaW50ZXJuYWwvY2xpZW50L2RvbS9ibG9ja3Mvc25pcHBldC5qcyc7XG4iLCIvKiogQGltcG9ydCB7IFJlYWRhYmxlIH0gZnJvbSAnLi9wdWJsaWMnICovXG5pbXBvcnQgeyB1bnRyYWNrIH0gZnJvbSAnLi4vaW5kZXgtY2xpZW50LmpzJztcbmltcG9ydCB7IG5vb3AgfSBmcm9tICcuLi9pbnRlcm5hbC9zaGFyZWQvdXRpbHMuanMnO1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge1JlYWRhYmxlPFQ+IHwgbnVsbCB8IHVuZGVmaW5lZH0gc3RvcmVcbiAqIEBwYXJhbSB7KHZhbHVlOiBUKSA9PiB2b2lkfSBydW5cbiAqIEBwYXJhbSB7KHZhbHVlOiBUKSA9PiB2b2lkfSBbaW52YWxpZGF0ZV1cbiAqIEByZXR1cm5zIHsoKSA9PiB2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3Vic2NyaWJlX3RvX3N0b3JlKHN0b3JlLCBydW4sIGludmFsaWRhdGUpIHtcblx0aWYgKHN0b3JlID09IG51bGwpIHtcblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0cnVuKHVuZGVmaW5lZCk7XG5cblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdFx0aWYgKGludmFsaWRhdGUpIGludmFsaWRhdGUodW5kZWZpbmVkKTtcblxuXHRcdHJldHVybiBub29wO1xuXHR9XG5cblx0Ly8gU3ZlbHRlIHN0b3JlIHRha2VzIGEgcHJpdmF0ZSBzZWNvbmQgYXJndW1lbnRcblx0Ly8gU3RhcnRTdG9wTm90aWZpZXIgY291bGQgbXV0YXRlIHN0YXRlLCBhbmQgd2Ugd2FudCB0byBzaWxlbmNlIHRoZSBjb3JyZXNwb25kaW5nIHZhbGlkYXRpb24gZXJyb3Jcblx0Y29uc3QgdW5zdWIgPSB1bnRyYWNrKCgpID0+XG5cdFx0c3RvcmUuc3Vic2NyaWJlKFxuXHRcdFx0cnVuLFxuXHRcdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdFx0aW52YWxpZGF0ZVxuXHRcdClcblx0KTtcblxuXHQvLyBBbHNvIHN1cHBvcnQgUnhKU1xuXHQvLyBAdHMtZXhwZWN0LWVycm9yIFRPRE8gZml4IHRoaXMgaW4gdGhlIHR5cGVzP1xuXHRyZXR1cm4gdW5zdWIudW5zdWJzY3JpYmUgPyAoKSA9PiB1bnN1Yi51bnN1YnNjcmliZSgpIDogdW5zdWI7XG59XG4iLCIvKiogQGltcG9ydCB7IFJlYWRhYmxlLCBTdGFydFN0b3BOb3RpZmllciwgU3Vic2NyaWJlciwgVW5zdWJzY3JpYmVyLCBVcGRhdGVyLCBXcml0YWJsZSB9IGZyb20gJy4uL3B1YmxpYy5qcycgKi9cbi8qKiBAaW1wb3J0IHsgU3RvcmVzLCBTdG9yZXNWYWx1ZXMsIFN1YnNjcmliZUludmFsaWRhdGVUdXBsZSB9IGZyb20gJy4uL3ByaXZhdGUuanMnICovXG5pbXBvcnQgeyBub29wLCBydW5fYWxsIH0gZnJvbSAnLi4vLi4vaW50ZXJuYWwvc2hhcmVkL3V0aWxzLmpzJztcbmltcG9ydCB7IHNhZmVfbm90X2VxdWFsIH0gZnJvbSAnLi4vLi4vaW50ZXJuYWwvY2xpZW50L3JlYWN0aXZpdHkvZXF1YWxpdHkuanMnO1xuaW1wb3J0IHsgc3Vic2NyaWJlX3RvX3N0b3JlIH0gZnJvbSAnLi4vdXRpbHMuanMnO1xuXG4vKipcbiAqIEB0eXBlIHtBcnJheTxTdWJzY3JpYmVJbnZhbGlkYXRlVHVwbGU8YW55PiB8IGFueT59XG4gKi9cbmNvbnN0IHN1YnNjcmliZXJfcXVldWUgPSBbXTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgYFJlYWRhYmxlYCBzdG9yZSB0aGF0IGFsbG93cyByZWFkaW5nIGJ5IHN1YnNjcmlwdGlvbi5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtUfSBbdmFsdWVdIGluaXRpYWwgdmFsdWVcbiAqIEBwYXJhbSB7U3RhcnRTdG9wTm90aWZpZXI8VD59IFtzdGFydF1cbiAqIEByZXR1cm5zIHtSZWFkYWJsZTxUPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlYWRhYmxlKHZhbHVlLCBzdGFydCkge1xuXHRyZXR1cm4ge1xuXHRcdHN1YnNjcmliZTogd3JpdGFibGUodmFsdWUsIHN0YXJ0KS5zdWJzY3JpYmVcblx0fTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBgV3JpdGFibGVgIHN0b3JlIHRoYXQgYWxsb3dzIGJvdGggdXBkYXRpbmcgYW5kIHJlYWRpbmcgYnkgc3Vic2NyaXB0aW9uLlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge1R9IFt2YWx1ZV0gaW5pdGlhbCB2YWx1ZVxuICogQHBhcmFtIHtTdGFydFN0b3BOb3RpZmllcjxUPn0gW3N0YXJ0XVxuICogQHJldHVybnMge1dyaXRhYmxlPFQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gd3JpdGFibGUodmFsdWUsIHN0YXJ0ID0gbm9vcCkge1xuXHQvKiogQHR5cGUge1Vuc3Vic2NyaWJlciB8IG51bGx9ICovXG5cdGxldCBzdG9wID0gbnVsbDtcblxuXHQvKiogQHR5cGUge1NldDxTdWJzY3JpYmVJbnZhbGlkYXRlVHVwbGU8VD4+fSAqL1xuXHRjb25zdCBzdWJzY3JpYmVycyA9IG5ldyBTZXQoKTtcblxuXHQvKipcblx0ICogQHBhcmFtIHtUfSBuZXdfdmFsdWVcblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRmdW5jdGlvbiBzZXQobmV3X3ZhbHVlKSB7XG5cdFx0aWYgKHNhZmVfbm90X2VxdWFsKHZhbHVlLCBuZXdfdmFsdWUpKSB7XG5cdFx0XHR2YWx1ZSA9IG5ld192YWx1ZTtcblx0XHRcdGlmIChzdG9wKSB7XG5cdFx0XHRcdC8vIHN0b3JlIGlzIHJlYWR5XG5cdFx0XHRcdGNvbnN0IHJ1bl9xdWV1ZSA9ICFzdWJzY3JpYmVyX3F1ZXVlLmxlbmd0aDtcblx0XHRcdFx0Zm9yIChjb25zdCBzdWJzY3JpYmVyIG9mIHN1YnNjcmliZXJzKSB7XG5cdFx0XHRcdFx0c3Vic2NyaWJlclsxXSgpO1xuXHRcdFx0XHRcdHN1YnNjcmliZXJfcXVldWUucHVzaChzdWJzY3JpYmVyLCB2YWx1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHJ1bl9xdWV1ZSkge1xuXHRcdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgc3Vic2NyaWJlcl9xdWV1ZS5sZW5ndGg7IGkgKz0gMikge1xuXHRcdFx0XHRcdFx0c3Vic2NyaWJlcl9xdWV1ZVtpXVswXShzdWJzY3JpYmVyX3F1ZXVlW2kgKyAxXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHN1YnNjcmliZXJfcXVldWUubGVuZ3RoID0gMDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge1VwZGF0ZXI8VD59IGZuXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0ZnVuY3Rpb24gdXBkYXRlKGZuKSB7XG5cdFx0c2V0KGZuKC8qKiBAdHlwZSB7VH0gKi8gKHZhbHVlKSkpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7U3Vic2NyaWJlcjxUPn0gcnVuXG5cdCAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gW2ludmFsaWRhdGVdXG5cdCAqIEByZXR1cm5zIHtVbnN1YnNjcmliZXJ9XG5cdCAqL1xuXHRmdW5jdGlvbiBzdWJzY3JpYmUocnVuLCBpbnZhbGlkYXRlID0gbm9vcCkge1xuXHRcdC8qKiBAdHlwZSB7U3Vic2NyaWJlSW52YWxpZGF0ZVR1cGxlPFQ+fSAqL1xuXHRcdGNvbnN0IHN1YnNjcmliZXIgPSBbcnVuLCBpbnZhbGlkYXRlXTtcblx0XHRzdWJzY3JpYmVycy5hZGQoc3Vic2NyaWJlcik7XG5cdFx0aWYgKHN1YnNjcmliZXJzLnNpemUgPT09IDEpIHtcblx0XHRcdHN0b3AgPSBzdGFydChzZXQsIHVwZGF0ZSkgfHwgbm9vcDtcblx0XHR9XG5cdFx0cnVuKC8qKiBAdHlwZSB7VH0gKi8gKHZhbHVlKSk7XG5cdFx0cmV0dXJuICgpID0+IHtcblx0XHRcdHN1YnNjcmliZXJzLmRlbGV0ZShzdWJzY3JpYmVyKTtcblx0XHRcdGlmIChzdWJzY3JpYmVycy5zaXplID09PSAwICYmIHN0b3ApIHtcblx0XHRcdFx0c3RvcCgpO1xuXHRcdFx0XHRzdG9wID0gbnVsbDtcblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cdHJldHVybiB7IHNldCwgdXBkYXRlLCBzdWJzY3JpYmUgfTtcbn1cblxuLyoqXG4gKiBEZXJpdmVkIHZhbHVlIHN0b3JlIGJ5IHN5bmNocm9uaXppbmcgb25lIG9yIG1vcmUgcmVhZGFibGUgc3RvcmVzIGFuZFxuICogYXBwbHlpbmcgYW4gYWdncmVnYXRpb24gZnVuY3Rpb24gb3ZlciBpdHMgaW5wdXQgdmFsdWVzLlxuICpcbiAqIEB0ZW1wbGF0ZSB7U3RvcmVzfSBTXG4gKiBAdGVtcGxhdGUgVFxuICogQG92ZXJsb2FkXG4gKiBAcGFyYW0ge1N9IHN0b3Jlc1xuICogQHBhcmFtIHsodmFsdWVzOiBTdG9yZXNWYWx1ZXM8Uz4sIHNldDogKHZhbHVlOiBUKSA9PiB2b2lkLCB1cGRhdGU6IChmbjogVXBkYXRlcjxUPikgPT4gdm9pZCkgPT4gVW5zdWJzY3JpYmVyIHwgdm9pZH0gZm5cbiAqIEBwYXJhbSB7VH0gW2luaXRpYWxfdmFsdWVdXG4gKiBAcmV0dXJucyB7UmVhZGFibGU8VD59XG4gKi9cbi8qKlxuICogRGVyaXZlZCB2YWx1ZSBzdG9yZSBieSBzeW5jaHJvbml6aW5nIG9uZSBvciBtb3JlIHJlYWRhYmxlIHN0b3JlcyBhbmRcbiAqIGFwcGx5aW5nIGFuIGFnZ3JlZ2F0aW9uIGZ1bmN0aW9uIG92ZXIgaXRzIGlucHV0IHZhbHVlcy5cbiAqXG4gKiBAdGVtcGxhdGUge1N0b3Jlc30gU1xuICogQHRlbXBsYXRlIFRcbiAqIEBvdmVybG9hZFxuICogQHBhcmFtIHtTfSBzdG9yZXNcbiAqIEBwYXJhbSB7KHZhbHVlczogU3RvcmVzVmFsdWVzPFM+KSA9PiBUfSBmblxuICogQHBhcmFtIHtUfSBbaW5pdGlhbF92YWx1ZV1cbiAqIEByZXR1cm5zIHtSZWFkYWJsZTxUPn1cbiAqL1xuLyoqXG4gKiBAdGVtcGxhdGUge1N0b3Jlc30gU1xuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7U30gc3RvcmVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtUfSBbaW5pdGlhbF92YWx1ZV1cbiAqIEByZXR1cm5zIHtSZWFkYWJsZTxUPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlcml2ZWQoc3RvcmVzLCBmbiwgaW5pdGlhbF92YWx1ZSkge1xuXHRjb25zdCBzaW5nbGUgPSAhQXJyYXkuaXNBcnJheShzdG9yZXMpO1xuXHQvKiogQHR5cGUge0FycmF5PFJlYWRhYmxlPGFueT4+fSAqL1xuXHRjb25zdCBzdG9yZXNfYXJyYXkgPSBzaW5nbGUgPyBbc3RvcmVzXSA6IHN0b3Jlcztcblx0aWYgKCFzdG9yZXNfYXJyYXkuZXZlcnkoQm9vbGVhbikpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ2Rlcml2ZWQoKSBleHBlY3RzIHN0b3JlcyBhcyBpbnB1dCwgZ290IGEgZmFsc3kgdmFsdWUnKTtcblx0fVxuXHRjb25zdCBhdXRvID0gZm4ubGVuZ3RoIDwgMjtcblx0cmV0dXJuIHJlYWRhYmxlKGluaXRpYWxfdmFsdWUsIChzZXQsIHVwZGF0ZSkgPT4ge1xuXHRcdGxldCBzdGFydGVkID0gZmFsc2U7XG5cdFx0LyoqIEB0eXBlIHtUW119ICovXG5cdFx0Y29uc3QgdmFsdWVzID0gW107XG5cdFx0bGV0IHBlbmRpbmcgPSAwO1xuXHRcdGxldCBjbGVhbnVwID0gbm9vcDtcblx0XHRjb25zdCBzeW5jID0gKCkgPT4ge1xuXHRcdFx0aWYgKHBlbmRpbmcpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0Y2xlYW51cCgpO1xuXHRcdFx0Y29uc3QgcmVzdWx0ID0gZm4oc2luZ2xlID8gdmFsdWVzWzBdIDogdmFsdWVzLCBzZXQsIHVwZGF0ZSk7XG5cdFx0XHRpZiAoYXV0bykge1xuXHRcdFx0XHRzZXQocmVzdWx0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNsZWFudXAgPSB0eXBlb2YgcmVzdWx0ID09PSAnZnVuY3Rpb24nID8gcmVzdWx0IDogbm9vcDtcblx0XHRcdH1cblx0XHR9O1xuXHRcdGNvbnN0IHVuc3Vic2NyaWJlcnMgPSBzdG9yZXNfYXJyYXkubWFwKChzdG9yZSwgaSkgPT5cblx0XHRcdHN1YnNjcmliZV90b19zdG9yZShcblx0XHRcdFx0c3RvcmUsXG5cdFx0XHRcdCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHZhbHVlc1tpXSA9IHZhbHVlO1xuXHRcdFx0XHRcdHBlbmRpbmcgJj0gfigxIDw8IGkpO1xuXHRcdFx0XHRcdGlmIChzdGFydGVkKSB7XG5cdFx0XHRcdFx0XHRzeW5jKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHQoKSA9PiB7XG5cdFx0XHRcdFx0cGVuZGluZyB8PSAxIDw8IGk7XG5cdFx0XHRcdH1cblx0XHRcdClcblx0XHQpO1xuXHRcdHN0YXJ0ZWQgPSB0cnVlO1xuXHRcdHN5bmMoKTtcblx0XHRyZXR1cm4gZnVuY3Rpb24gc3RvcCgpIHtcblx0XHRcdHJ1bl9hbGwodW5zdWJzY3JpYmVycyk7XG5cdFx0XHRjbGVhbnVwKCk7XG5cdFx0XHQvLyBXZSBuZWVkIHRvIHNldCB0aGlzIHRvIGZhbHNlIGJlY2F1c2UgY2FsbGJhY2tzIGNhbiBzdGlsbCBoYXBwZW4gZGVzcGl0ZSBoYXZpbmcgdW5zdWJzY3JpYmVkOlxuXHRcdFx0Ly8gQ2FsbGJhY2tzIG1pZ2h0IGFscmVhZHkgYmUgcGxhY2VkIGluIHRoZSBxdWV1ZSB3aGljaCBkb2Vzbid0IGtub3cgaXQgc2hvdWxkIG5vIGxvbmdlclxuXHRcdFx0Ly8gaW52b2tlIHRoaXMgZGVyaXZlZCBzdG9yZS5cblx0XHRcdHN0YXJ0ZWQgPSBmYWxzZTtcblx0XHR9O1xuXHR9KTtcbn1cblxuLyoqXG4gKiBUYWtlcyBhIHN0b3JlIGFuZCByZXR1cm5zIGEgbmV3IG9uZSBkZXJpdmVkIGZyb20gdGhlIG9sZCBvbmUgdGhhdCBpcyByZWFkYWJsZS5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtSZWFkYWJsZTxUPn0gc3RvcmUgIC0gc3RvcmUgdG8gbWFrZSByZWFkb25seVxuICogQHJldHVybnMge1JlYWRhYmxlPFQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVhZG9ubHkoc3RvcmUpIHtcblx0cmV0dXJuIHtcblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yIFRPRE8gaSBzdXNwZWN0IHRoZSBiaW5kIGlzIHVubmVjZXNzYXJ5XG5cdFx0c3Vic2NyaWJlOiBzdG9yZS5zdWJzY3JpYmUuYmluZChzdG9yZSlcblx0fTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGN1cnJlbnQgdmFsdWUgZnJvbSBhIHN0b3JlIGJ5IHN1YnNjcmliaW5nIGFuZCBpbW1lZGlhdGVseSB1bnN1YnNjcmliaW5nLlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge1JlYWRhYmxlPFQ+fSBzdG9yZVxuICogQHJldHVybnMge1R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXQoc3RvcmUpIHtcblx0bGV0IHZhbHVlO1xuXHRzdWJzY3JpYmVfdG9fc3RvcmUoc3RvcmUsIChfKSA9PiAodmFsdWUgPSBfKSkoKTtcblx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRyZXR1cm4gdmFsdWU7XG59XG4iLCJleHBvcnQgY29uc3QgRlJPTlRNQVRURVJfVEFCTEVQQVJTRVJfS0VZID0gJ3RhYmxlLXJvbGxlcic7XHJcbmV4cG9ydCBjb25zdCBGUk9OVE1BVFRFUl9OQU1FX0tFWSA9ICduYW1lJztcclxuZXhwb3J0IGNvbnN0IEZST05UTUFUVEVSX1JFUk9MTF9UQUJMRV9LRVkgPSAncmVyb2xsLXRhYmxlJztcclxuZXhwb3J0IGNvbnN0IEZST05UTUFUVEVSX0lTX0hJRERFTl9LRVkgPSAnaGlkZGVuJztcclxuZXhwb3J0IGNvbnN0IEZST05UTUFUVEVSX0RJQ0VfQ09MVU1OX0tFWSA9ICdkaWNlLWNvbHVtbic7IiwiaW1wb3J0IHsgcmFuZG9tVVVJRCB9IGZyb20gXCJub2RlOmNyeXB0b1wiO1xyXG5pbXBvcnQgeyBcclxuXHRGUk9OVE1BVFRFUl9ESUNFX0NPTFVNTl9LRVksIFxyXG5cdEZST05UTUFUVEVSX0lTX0hJRERFTl9LRVksIFxyXG5cdEZST05UTUFUVEVSX05BTUVfS0VZLCBcclxuXHRGUk9OVE1BVFRFUl9SRVJPTExfVEFCTEVfS0VZLFxyXG5cdEZST05UTUFUVEVSX1RBQkxFUEFSU0VSX0tFWSB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xyXG5pbXBvcnQgdHlwZSB7IFRhYmxlQ29sdW1uIH0gZnJvbSBcInNyYy90eXBlcy90YWJsZXMvdGFibGUtY29sdW1uXCI7XHJcbmltcG9ydCB0eXBlIHsgVGFibGVSb3cgfSBmcm9tIFwic3JjL3R5cGVzL3RhYmxlcy90YWJsZS1yb3dcIjtcclxuaW1wb3J0IHR5cGUgeyBUYWJsZSB9IGZyb20gXCJzcmMvdHlwZXMvdGFibGVzL3RhYmxlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVGFibGVQYXJzZXIge1xyXG5cdHN0YXRpYyBpc1RhYmxlUGFyc2VyVGFibGUoZmlsZVBhdGg6IHN0cmluZywgZmlsZUNvbnRlbnQ6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG5cdFx0bGV0IHsgZnJvbnRtYXR0ZXIgfSA9IHRoaXMuZXh0cmFjdEZyb250bWF0dGVyQW5kQm9keShmaWxlUGF0aCwgZmlsZUNvbnRlbnQpO1xyXG5cdFx0bGV0IGZyb250TWF0dGVyS2V5VmFsdWVzID0gdGhpcy5wYXJzZUZyb250TWF0dGVyKGZyb250bWF0dGVyKTtcclxuXHRcdHJldHVybiBmcm9udE1hdHRlcktleVZhbHVlc1tGUk9OVE1BVFRFUl9UQUJMRVBBUlNFUl9LRVldID09PSB0cnVlO1xyXG5cdH1cclxuXHJcblx0c3RhdGljIHBhcnNlVGFibGUoZmlsZVBhdGg6IHN0cmluZywgZmlsZUNvbnRlbnQ6IHN0cmluZyl7XHJcblx0XHRsZXQgeyBmcm9udG1hdHRlciwgY29udGVudCB9ID0gdGhpcy5leHRyYWN0RnJvbnRtYXR0ZXJBbmRCb2R5KGZpbGVQYXRoLCBmaWxlQ29udGVudCk7XHJcblx0XHRsZXQgZnJvbnRNYXR0ZXJLZXlWYWx1ZXMgPSB0aGlzLnBhcnNlRnJvbnRNYXR0ZXIoZnJvbnRtYXR0ZXIpO1xyXG5cdFx0bGV0IHtjb2x1bW5zLCByb3dzfSA9IHRoaXMucGFyc2VUYWJsZUJvZHkoY29udGVudCk7XHJcblxyXG5cdFx0bGV0IHRhYmxlOiBUYWJsZSA9IHtcclxuXHRcdFx0bmFtZTogZnJvbnRNYXR0ZXJLZXlWYWx1ZXNbRlJPTlRNQVRURVJfTkFNRV9LRVldIHx8ICdVbm5hbWVkIFRhYmxlJyxcclxuXHRcdFx0cmVyb2xsVGFibGU6IGZyb250TWF0dGVyS2V5VmFsdWVzW0ZST05UTUFUVEVSX1JFUk9MTF9UQUJMRV9LRVldIHx8IHVuZGVmaW5lZCxcclxuXHRcdFx0aXNIaWRkZW46IGZyb250TWF0dGVyS2V5VmFsdWVzW0ZST05UTUFUVEVSX0lTX0hJRERFTl9LRVldIHx8IGZhbHNlLFxyXG5cdFx0XHRkaWNlQ29sdW1uOiBmcm9udE1hdHRlcktleVZhbHVlc1tGUk9OVE1BVFRFUl9ESUNFX0NPTFVNTl9LRVldIHx8IHVuZGVmaW5lZCxcclxuXHRcdFx0Y29sdW1uczogY29sdW1ucyxcclxuXHRcdFx0cm93czogcm93cyxcclxuXHRcdH07XHJcblxyXG5cdFx0cmV0dXJuIHRhYmxlO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgZXh0cmFjdEZyb250bWF0dGVyQW5kQm9keShmaWxlUGF0aDogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcpOiB7IGZyb250bWF0dGVyOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZyB9IHtcclxuXHRcdGNvbnNvbGUuZGVidWcoYFBhcnNpbmcgZmlsZTogJHtmaWxlUGF0aH1gKTtcclxuXHRcdGNvbnN0IGZyb250bWF0dGVyUmVnZXggPSAvXi0tLVxcbihbXFxzXFxTXSo/KVxcbi0tLVxcbihbXFxzXFxTXSopJC87XHJcblx0XHRjb25zdCBtYXRjaCA9IGNvbnRlbnQubWF0Y2goZnJvbnRtYXR0ZXJSZWdleCk7XHJcblxyXG5cdFx0aWYgKCFtYXRjaCkge1xyXG5cdFx0XHRjb25zb2xlLmRlYnVnKGBDb250ZW50IHdpdGggbm8gZnJvbnRtYXR0ZXIgZm91bmQgaW4gZmlsZTogJHtmaWxlUGF0aH1gKTtcclxuXHRcdFx0cmV0dXJuIHsgZnJvbnRtYXR0ZXI6IFwiXCIsIGNvbnRlbnQgfTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBmcm9udG1hdHRlclRleHQgPSBtYXRjaFsxXTtcclxuXHRcdGNvbnN0IGJvZHlDb250ZW50ID0gbWF0Y2hbMl07XHJcblxyXG5cdFx0XHRjb25zb2xlLmRlYnVnKGBGcm9udG1hdHRlciBleHRyYWN0ZWQgZnJvbSBmaWxlOiAke2ZpbGVQYXRofVxcbiR7ZnJvbnRtYXR0ZXJUZXh0fWApO1xyXG5cdFx0cmV0dXJuIHsgZnJvbnRtYXR0ZXI6IGZyb250bWF0dGVyVGV4dCwgY29udGVudDogYm9keUNvbnRlbnQgfTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIHBhcnNlRnJvbnRNYXR0ZXIoY29udGVudDogc3RyaW5nKTogUmVjb3JkPHN0cmluZywgYW55PiB7XHJcblx0XHRsZXQga2V5VmFsdWVzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XHJcblx0XHRcclxuXHRcdC8vIFBhcnNlIFlBTUwtbGlrZSBmcm9udG1hdHRlclxyXG5cdFx0Zm9yIChjb25zdCBsaW5lIG9mIGNvbnRlbnQuc3BsaXQoJ1xcbicpKSB7XHJcblx0XHRcdGNvbnN0IGtleVZhbHVlID0gbGluZS5tYXRjaCgvXihcXHcrKD86LVxcdyspKilcXHMqOlxccyooLispJC8pO1xyXG5cdFx0XHRpZiAoa2V5VmFsdWUpIHtcclxuXHRcdFx0XHRjb25zdCBrZXkgPSBrZXlWYWx1ZVsxXS50cmltKCk7XHJcblx0XHRcdFx0bGV0IHZhbHVlOiBhbnkgPSBrZXlWYWx1ZVsyXS50cmltKCk7XHJcblxyXG5cdFx0XHRcdC8vIEhhbmRsZSBib29sZWFuIHZhbHVlc1xyXG5cdFx0XHRcdGlmICh2YWx1ZSA9PT0gJ3RydWUnKSB2YWx1ZSA9IHRydWU7XHJcblx0XHRcdFx0ZWxzZSBpZiAodmFsdWUgPT09ICdmYWxzZScpIHZhbHVlID0gZmFsc2U7XHJcblx0XHRcdFx0Ly8gUmVtb3ZlIHF1b3Rlc1xyXG5cdFx0XHRcdGVsc2UgaWYgKCh2YWx1ZS5zdGFydHNXaXRoKCdcIicpICYmIHZhbHVlLmVuZHNXaXRoKCdcIicpKSB8fFxyXG5cdFx0XHRcdFx0KHZhbHVlLnN0YXJ0c1dpdGgoXCInXCIpICYmIHZhbHVlLmVuZHNXaXRoKFwiJ1wiKSkpIHtcclxuXHRcdFx0XHRcdHZhbHVlID0gdmFsdWUuc2xpY2UoMSwgLTEpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0a2V5VmFsdWVzW2tleV0gPSB2YWx1ZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGtleVZhbHVlcztcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIHBhcnNlVGFibGVCb2R5KGNvbnRlbnQ6IHN0cmluZywgZGljZUNvbHVtbj86IHN0cmluZyk6IHsgY29sdW1uczogVGFibGVDb2x1bW5bXSwgcm93czogVGFibGVSb3dbXSB9IHtcclxuXHRcdGNvbnN0IGxpbmVzID0gY29udGVudC5zcGxpdCgnXFxuJykuZmlsdGVyKGxpbmUgPT4gbGluZS50cmltKCkubGVuZ3RoID4gMCk7XHJcblx0XHRpZiAobGluZXMubGVuZ3RoIDwgMikge1xyXG5cdFx0XHRyZXR1cm4geyBjb2x1bW5zOiBbXSwgcm93czogW10gfTtcclxuXHRcdH1cclxuXHRcdGNvbnN0IGhlYWRlckxpbmUgPSBsaW5lc1swXTtcclxuXHRcdGNvbnN0IHNlcGFyYXRvckxpbmUgPSBsaW5lc1sxXTtcclxuXHRcdGNvbnN0IGRhdGFMaW5lcyA9IGxpbmVzLnNsaWNlKDIpO1xyXG5cclxuXHRcdGNvbnN0IGhlYWRlcnMgPSBoZWFkZXJMaW5lLnNwbGl0KCd8JykubWFwKGggPT4gaC50cmltKCkpLmZpbHRlcihoID0+IGgubGVuZ3RoID4gMCk7XHJcblx0XHRjb25zdCBjb2x1bW5zOiBUYWJsZUNvbHVtbltdID0gaGVhZGVycy5tYXAoKGhlYWRlciwgaW5kZXgpID0+ICh7XHJcblx0XHRcdGlkOiBgJHtyYW5kb21VVUlEKCl9YCxcclxuXHRcdFx0bmFtZTogaGVhZGVyLFxyXG5cdFx0XHR0eXBlOiB0aGlzLmRldGVybWluZUNvbHVtblR5cGUoaGVhZGVyLCBkaWNlQ29sdW1uKSxcclxuXHRcdH0pKTtcclxuXHJcblx0XHRjb25zdCByb3dzOiBUYWJsZVJvd1tdID0gW107XHJcblx0XHRmb3IgKGxldCBpID0gMjsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG5cdFx0XHQvLyBSZW1vdmUgbGVhZGluZy90cmFpbGluZyBwaXBlcyBhbmQgc3BsaXRcclxuXHRcdFx0bGV0IGNlbGxzID0gbGluZXNbaV0ucmVwbGFjZSgvXlxcfC8sICcnKS5yZXBsYWNlKC9cXHwkLywgJycpLnNwbGl0KCd8JykubWFwKGMgPT4gYy50cmltKCkpO1xyXG5cclxuXHRcdFx0Ly8gUGFkIGNlbGxzIHRvIG1hdGNoIGhlYWRlcnMgbGVuZ3RoXHJcblx0XHRcdHdoaWxlIChjZWxscy5sZW5ndGggPCBoZWFkZXJzLmxlbmd0aCkgY2VsbHMucHVzaCgnJyk7XHJcblx0XHRcdGNvbnN0IHJvdzogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xyXG5cdFx0XHRoZWFkZXJzLmZvckVhY2goKGhlYWRlciwgaWR4KSA9PiB7XHJcblx0XHRcdFx0cm93W2hlYWRlcl0gPSBjZWxsc1tpZHhdID8/ICcnO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0cm93cy5wdXNoKHJvdyk7XHJcblx0XHR9XHJcblxyXG5cclxuXHRcdHJldHVybiB7IGNvbHVtbnMsIHJvd3MgfTtcclxuXHR9XHJcblxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBkZXRlcm1pbmVDb2x1bW5UeXBlKGNvbHVtbk5hbWU6IHN0cmluZywgZGljZUNvbHVtbj8gOiBzdHJpbmcpOiAnZGljZScgfCAncmVndWxhcicgfCAncmVyb2xsJyB7XHJcblx0XHRpZiAoZGljZUNvbHVtbiAmJiBjb2x1bW5OYW1lID09PSBkaWNlQ29sdW1uKSB7XHJcblx0XHRcdHJldHVybiAnZGljZSc7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGNvbHVtbk5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3Jlcm9sbCcpIHtcclxuXHRcdFx0cmV0dXJuICdyZXJvbGwnO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiAncmVndWxhcic7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCB7IHR5cGUgVGFibGUgfSBmcm9tIFwic3JjL3R5cGVzL3RhYmxlcy90YWJsZVwiO1xyXG5pbXBvcnQgeyB0eXBlIFdyaXRhYmxlLCB3cml0YWJsZSwgZ2V0IH0gZnJvbSBcInN2ZWx0ZS9zdG9yZVwiO1xyXG5pbXBvcnQgdHlwZSB7IEFwcCB9IGZyb20gXCJvYnNpZGlhblwiOyBcclxuaW1wb3J0IHsgVGFibGVQYXJzZXIgfSBmcm9tIFwic3JjL3NlcnZpY2VzL3RhYmxlcy90YWJsZS1wYXJzZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBUYWJsZVN0b3JlIGltcGxlbWVudHMgV3JpdGFibGU8VGFibGVbXT4ge1xyXG4gICAgcHJpdmF0ZSBfc3RvcmU6IFdyaXRhYmxlPFRhYmxlW10+ID0gd3JpdGFibGU8VGFibGVbXT4oW10pO1xyXG5cclxuICAgIHN1YnNjcmliZSA9IHRoaXMuX3N0b3JlLnN1YnNjcmliZVxyXG4gICAgc2V0ID0gdGhpcy5fc3RvcmUuc2V0XHJcbiAgICB1cGRhdGUgPSB0aGlzLl9zdG9yZS51cGRhdGVcclxuICAgIGFwcDogQXBwO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwKSB7XHJcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhgQ3JlYXRpbmcgbmV3IFRhYmxlU3RvcmUgaW5zdGFuY2VgKTtcclxuICAgICAgICB0aGlzLmFwcCA9IGFwcDtcclxuICAgICAgICB0aGlzLl9zdG9yZSA9IHdyaXRhYmxlPFRhYmxlW10+KFtdKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyByZWxvYWRUYWJsZXMoKSB7XHJcbiAgICAgICAgLy8gR2V0IGFsbCBtYXJrZG93biBmaWxlc1xyXG4gICAgICAgIGxldCBmaWxlcyA9IHRoaXMuYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKTtcclxuXHJcbiAgICAgICAgLy8gRmlsdGVyIGZpbGVzIGFzeW5jaHJvbm91c2x5IGJhc2VkIG9uIGZyb250bWF0dGVyIGtleVxyXG4gICAgICAgIGxldCB0YWJsZXMgPSBbXTtcclxuICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgZmlsZXMpIHtcclxuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQoZmlsZSk7XHJcbiAgICAgICAgICAgIGlmKFRhYmxlUGFyc2VyLmlzVGFibGVQYXJzZXJUYWJsZShmaWxlLnBhdGgsIGNvbnRlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGFibGUgPSBUYWJsZVBhcnNlci5wYXJzZVRhYmxlKGZpbGUucGF0aCwgY29udGVudCk7XHJcbiAgICAgICAgICAgICAgICB0YWJsZXMucHVzaCh0YWJsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2V0KHRhYmxlcyk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY29uc3QgVEFCTEVfUk9MTEVSX1ZJRVdfVFlQRSA9ICd0YWJsZS1yb2xsZXItY29yZS12aWV3JzsiLCIvLyBnZW5lcmF0ZWQgZHVyaW5nIHJlbGVhc2UsIGRvIG5vdCBtb2RpZnlcblxuLyoqXG4gKiBUaGUgY3VycmVudCB2ZXJzaW9uLCBhcyBzZXQgaW4gcGFja2FnZS5qc29uLlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IFZFUlNJT04gPSAnNS40Ni4wJztcbmV4cG9ydCBjb25zdCBQVUJMSUNfVkVSU0lPTiA9ICc1JztcbiIsImltcG9ydCB7IFBVQkxJQ19WRVJTSU9OIH0gZnJvbSAnLi4vdmVyc2lvbi5qcyc7XG5cbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuXHQvLyBAdHMtZXhwZWN0LWVycm9yXG5cdCgod2luZG93Ll9fc3ZlbHRlID8/PSB7fSkudiA/Pz0gbmV3IFNldCgpKS5hZGQoUFVCTElDX1ZFUlNJT04pO1xufVxuIiwiaW1wb3J0IHsgZW5hYmxlX2xlZ2FjeV9tb2RlX2ZsYWcgfSBmcm9tICcuL2luZGV4LmpzJztcblxuZW5hYmxlX2xlZ2FjeV9tb2RlX2ZsYWcoKTtcbiIsIjxzY3JpcHQgbGFuZz1cInRzXCI+XHJcbiAgICBpbXBvcnQgdHlwZSB7IFRhYmxlIH0gZnJvbSBcInNyYy90eXBlcy90YWJsZXMvdGFibGVcIjtcclxuXHJcbiAgICBleHBvcnQgbGV0IHRhYmxlOiBUYWJsZTtcclxuXHJcbiAgICBmdW5jdGlvbiByb2xsVGFibGUoKXtcclxuICAgICAgICAvL1BlcmZvcm0gcm9sbCBvbiB0aGlzIHRhYmxlIGFuZCBvcGVuIHJlc3VsdCBtb2RhbCBmb3IgdGhlIHJvbGxcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlJvbGxpbmcgdGFibGU6IFwiICsgdGFibGUubmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2hvd0FkdmFuY2VkUm9sbFVJKCl7XHJcbiAgICAgICAgLy9PcGVuIEFkdmFuY2VkIFJvbGwgVUkgKG1vZGlmaWVycywgb3RoZXIgY3VzdG9taXphdGlvbnMpXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJPcGVuaW5nIGFkdmFuY2VkIHJvbGwgVUkgZm9yIHRhYmxlOiBcIiArIHRhYmxlLm5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGVkaXRUYWJsZSgpe1xyXG4gICAgICAgIC8vT3BlbiBUYWJsZSBlZGl0IFVJIGFuZCBsb2FkIHRoaXMgdGFibGUgaW50byBpdFxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRWRpdGluZyB0YWJsZTogXCIgKyB0YWJsZS5uYW1lKTtcclxuICAgIH1cclxuPC9zY3JpcHQ+XHJcblxyXG48ZGl2PlxyXG4gICAgPGRpdj5cclxuICAgICAgICA8c3Bhbj57dGFibGUubmFtZX08L3NwYW4+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXY+XHJcbiAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPXtyb2xsVGFibGV9PlJvbGw8L2J1dHRvbj4gXHJcbiAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPXtzaG93QWR2YW5jZWRSb2xsVUl9PkFkdmFuY2VkPC9idXR0b24+XHJcbiAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPXtlZGl0VGFibGV9PkVkaXQ8L2J1dHRvbj5cclxuICAgIDwvZGl2PlxyXG48L2Rpdj4iLCI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxyXG4gIGltcG9ydCB7IG9uTW91bnQgfSBmcm9tIFwic3ZlbHRlXCI7XHJcbiAgaW1wb3J0IFRhYmxlRGlzcGxheUl0ZW0gZnJvbSBcIi4vVGFibGVEaXNwbGF5SXRlbS5zdmVsdGVcIjtcclxuICBpbXBvcnQgdHlwZSB7IFRhYmxlU3RvcmUgfSBmcm9tIFwic3JjL3N0b3Jlcy90YWJsZS1zdG9yZVwiO1xyXG4gIGV4cG9ydCBsZXQgdGFibGVTdG9yZTogVGFibGVTdG9yZTtcclxuICBleHBvcnQgbGV0IEhlYWRlcjogc3RyaW5nO1xyXG5cclxuICBvbk1vdW50KCgpID0+IHtcclxuICAgIHRhYmxlU3RvcmUucmVsb2FkVGFibGVzKCk7XHJcbiAgfSk7XHJcbjwvc2NyaXB0PlxyXG5cclxuPGRpdj5cclxuICA8aDI+e0hlYWRlcn08L2gyPlxyXG4gIHsjaWYgJHRhYmxlU3RvcmUubGVuZ3RoID09PSAwfVxyXG4gICAgPHA+Tm8gdGFibGVzIGxvYWRlZC48L3A+XHJcbiAgezplbHNlfVxyXG4gICAgPHVsPlxyXG4gICAgICB7I2VhY2ggJHRhYmxlU3RvcmUgYXMgdGFibGV9XHJcbiAgICAgICAgPFRhYmxlRGlzcGxheUl0ZW0ge3RhYmxlfSAvPlxyXG4gICAgICB7L2VhY2h9XHJcbiAgICA8L3VsPlxyXG4gIHsvaWZ9XHJcbjwvZGl2PiIsImltcG9ydCB7IG1vdW50LCB1bm1vdW50IH0gZnJvbSBcInN2ZWx0ZVwiO1xyXG5pbXBvcnQgeyBJdGVtVmlldywgV29ya3NwYWNlTGVhZiB9IGZyb20gXCJvYnNpZGlhblwiOyBcclxuaW1wb3J0IHR5cGUgeyBUYWJsZVN0b3JlIH0gZnJvbSBcInNyYy9zdG9yZXMvdGFibGUtc3RvcmVcIjtcclxuaW1wb3J0IHsgVEFCTEVfUk9MTEVSX1ZJRVdfVFlQRSB9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcclxuaW1wb3J0IFRhYmxlRGlzcGxheSBmcm9tIFwiLi9UYWJsZURpc3BsYXkuc3ZlbHRlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVGFibGVTaWRlVmlldyBleHRlbmRzIEl0ZW1WaWV3IHtcclxuICB0YWJsZURpc3BsYXk6IFJldHVyblR5cGU8dHlwZW9mIFRhYmxlRGlzcGxheT4gfCB1bmRlZmluZWQ7XHJcbiAgdGFibGVTdG9yZTogVGFibGVTdG9yZTtcclxuXHJcbiAgY29uc3RydWN0b3IobGVhZjogV29ya3NwYWNlTGVhZiwgdGFibGVTdG9yZTogVGFibGVTdG9yZSkge1xyXG4gICAgc3VwZXIobGVhZik7XHJcbiAgICB0aGlzLnRhYmxlU3RvcmUgPSB0YWJsZVN0b3JlO1xyXG4gIH1cclxuXHJcbiAgZ2V0Vmlld1R5cGUoKSB7XHJcbiAgICByZXR1cm4gVEFCTEVfUk9MTEVSX1ZJRVdfVFlQRTtcclxuICB9XHJcblxyXG4gIGdldERpc3BsYXlUZXh0KCkge1xyXG4gICAgcmV0dXJuICdUYWJsZSBSb2xsZXInO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgb25PcGVuKCkge1xyXG4gICAgdGhpcy50YWJsZURpc3BsYXkgPSBtb3VudChUYWJsZURpc3BsYXksIHtcclxuICAgICAgdGFyZ2V0OiB0aGlzLmNvbnRlbnRFbCxcclxuICAgICAgcHJvcHM6IHtcclxuICAgICAgICBIZWFkZXI6IFwiVGFibGUgUm9sbGVyXCIsXHJcbiAgICAgICAgdGFibGVTdG9yZTogdGhpcy50YWJsZVN0b3JlXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgb25DbG9zZSgpIHtcclxuICAgIGlmICh0aGlzLnRhYmxlRGlzcGxheSkge1xyXG4gICAgICB1bm1vdW50KHRoaXMudGFibGVEaXNwbGF5KTtcclxuICAgIH1cclxuICB9XHJcbn0iLCJpbXBvcnQgeyBQbHVnaW4gfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IFRhYmxlU3RvcmUgfSBmcm9tICdzcmMvc3RvcmVzL3RhYmxlLXN0b3JlJztcclxuaW1wb3J0IHsgVEFCTEVfUk9MTEVSX1ZJRVdfVFlQRSB9IGZyb20gJy4uL2NvbnN0YW50cyc7XHJcbmltcG9ydCB7IFRhYmxlU2lkZVZpZXcgfSBmcm9tICcuLi90YWJsZS1zaWRlLXZpZXcnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFibGVSb2xsZXJQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xyXG4gIHRhYmxlU3RvcmU6IFRhYmxlU3RvcmUgPSBuZXcgVGFibGVTdG9yZSh0aGlzLmFwcCk7XHJcblxyXG4gIGFzeW5jIG9ubG9hZCgpIHtcclxuICAgIHRoaXMucmVnaXN0ZXJWaWV3KFxyXG4gICAgICBUQUJMRV9ST0xMRVJfVklFV19UWVBFLFxyXG4gICAgICAobGVhZikgPT4gbmV3IFRhYmxlU2lkZVZpZXcobGVhZiwgdGhpcy50YWJsZVN0b3JlKVxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLmFkZFJpYmJvbkljb24oJ2RpY2UnLCAnVGFibGUgUm9sbGVyJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLmFjdGl2YXRlVmlldygpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBvbnVubG9hZCgpIHtcclxuICB9XHJcblxyXG4gIGFzeW5jIGFjdGl2YXRlVmlldygpIHtcclxuICAgIGNvbnN0IHsgd29ya3NwYWNlIH0gPSB0aGlzLmFwcDtcclxuXHJcbiAgICBsZXQgbGVhZiA9IHdvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoVEFCTEVfUk9MTEVSX1ZJRVdfVFlQRSlbMF07XHJcblxyXG4gICAgaWYgKCFsZWFmKSB7XHJcbiAgICAgIGNvbnN0IHJpZ2h0TGVhZiA9IHdvcmtzcGFjZS5nZXRSaWdodExlYWYoZmFsc2UpO1xyXG4gICAgICBpZiAocmlnaHRMZWFmKSB7XHJcbiAgICAgICAgYXdhaXQgcmlnaHRMZWFmLnNldFZpZXdTdGF0ZSh7XHJcbiAgICAgICAgICB0eXBlOiBUQUJMRV9ST0xMRVJfVklFV19UWVBFLFxyXG4gICAgICAgICAgYWN0aXZlOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxlYWYgPSByaWdodExlYWY7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAobGVhZikge1xyXG4gICAgICB3b3Jrc3BhY2UucmV2ZWFsTGVhZihsZWFmKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbiJdLCJuYW1lcyI6WyJERVYiLCJpc19hcnJheSIsImluZGV4X29mIiwiYXJyYXlfZnJvbSIsImRlZmluZV9wcm9wZXJ0eSIsImdldF9kZXNjcmlwdG9yIiwiZ2V0X2Rlc2NyaXB0b3JzIiwib2JqZWN0X3Byb3RvdHlwZSIsImFycmF5X3Byb3RvdHlwZSIsImdldF9wcm90b3R5cGVfb2YiLCJpc19leHRlbnNpYmxlIiwibm9vcCIsInJ1biIsImZuIiwicnVuX2FsbCIsImFyciIsImkiLCJkZWZlcnJlZCIsInJlc29sdmUiLCJyZWplY3QiLCJwcm9taXNlIiwicmVzIiwicmVqIiwiREVSSVZFRCIsIkVGRkVDVCIsIlJFTkRFUl9FRkZFQ1QiLCJNQU5BR0VEX0VGRkVDVCIsIkJMT0NLX0VGRkVDVCIsIkJSQU5DSF9FRkZFQ1QiLCJST09UX0VGRkVDVCIsIkJPVU5EQVJZX0VGRkVDVCIsIkNPTk5FQ1RFRCIsIkNMRUFOIiwiRElSVFkiLCJNQVlCRV9ESVJUWSIsIklORVJUIiwiREVTVFJPWUVEIiwiRUZGRUNUX1JBTiIsIkVGRkVDVF9UUkFOU1BBUkVOVCIsIkVBR0VSX0VGRkVDVCIsIkhFQURfRUZGRUNUIiwiRUZGRUNUX1BSRVNFUlZFRCIsIlVTRVJfRUZGRUNUIiwiRUZGRUNUX09GRlNDUkVFTiIsIldBU19NQVJLRUQiLCJSRUFDVElPTl9JU19VUERBVElORyIsIkFTWU5DIiwiRVJST1JfVkFMVUUiLCJTVEFURV9TWU1CT0wiLCJMRUdBQ1lfUFJPUFMiLCJTVEFMRV9SRUFDVElPTiIsImVxdWFscyIsInZhbHVlIiwic2FmZV9ub3RfZXF1YWwiLCJhIiwiYiIsInNhZmVfZXF1YWxzIiwibGlmZWN5Y2xlX291dHNpZGVfY29tcG9uZW50IiwibmFtZSIsImFzeW5jX2Rlcml2ZWRfb3JwaGFuIiwiZWZmZWN0X2luX3RlYXJkb3duIiwicnVuZSIsImVmZmVjdF9pbl91bm93bmVkX2Rlcml2ZWQiLCJlZmZlY3Rfb3JwaGFuIiwiZWZmZWN0X3VwZGF0ZV9kZXB0aF9leGNlZWRlZCIsInN0YXRlX2Rlc2NyaXB0b3JzX2ZpeGVkIiwic3RhdGVfcHJvdG90eXBlX2ZpeGVkIiwic3RhdGVfdW5zYWZlX211dGF0aW9uIiwic3ZlbHRlX2JvdW5kYXJ5X3Jlc2V0X29uZXJyb3IiLCJsZWdhY3lfbW9kZV9mbGFnIiwidHJhY2luZ19tb2RlX2ZsYWciLCJlbmFibGVfbGVnYWN5X21vZGVfZmxhZyIsIkVBQ0hfSVRFTV9SRUFDVElWRSIsIkVBQ0hfSU5ERVhfUkVBQ1RJVkUiLCJFQUNIX0lURU1fSU1NVVRBQkxFIiwiUFJPUFNfSVNfUlVORVMiLCJQUk9QU19JU19VUERBVEVEIiwiUFJPUFNfSVNfQklOREFCTEUiLCJURU1QTEFURV9VU0VfSU1QT1JUX05PREUiLCJVTklOSVRJQUxJWkVEIiwiY29tcG9uZW50X2NvbnRleHQiLCJzZXRfY29tcG9uZW50X2NvbnRleHQiLCJjb250ZXh0IiwicHVzaCIsInByb3BzIiwicnVuZXMiLCJwb3AiLCJjb21wb25lbnQiLCJlZmZlY3RzIiwiY3JlYXRlX3VzZXJfZWZmZWN0IiwiaXNfcnVuZXMiLCJtaWNyb190YXNrcyIsInJ1bl9taWNyb190YXNrcyIsInRhc2tzIiwicXVldWVfbWljcm9fdGFzayIsInN2ZWx0ZV9ib3VuZGFyeV9yZXNldF9ub29wIiwicHJveHkiLCJwcm90b3R5cGUiLCJzb3VyY2VzIiwiaXNfcHJveGllZF9hcnJheSIsInZlcnNpb24iLCJzb3VyY2UiLCJwYXJlbnRfdmVyc2lvbiIsInVwZGF0ZV92ZXJzaW9uIiwid2l0aF9wYXJlbnQiLCJyZWFjdGlvbiIsImFjdGl2ZV9yZWFjdGlvbiIsInNldF9hY3RpdmVfcmVhY3Rpb24iLCJzZXRfdXBkYXRlX3ZlcnNpb24iLCJyZXN1bHQiLCJfIiwicHJvcCIsImRlc2NyaXB0b3IiLCJlLnN0YXRlX2Rlc2NyaXB0b3JzX2ZpeGVkIiwicyIsInNldCIsInRhcmdldCIsImluY3JlbWVudCIsInJlY2VpdmVyIiwiZXhpc3RzIiwicCIsInYiLCJnZXQiLCJoYXMiLCJhY3RpdmVfZWZmZWN0Iiwib3RoZXJfcyIsImxzIiwibiIsIm93bl9rZXlzIiwia2V5IiwiZS5zdGF0ZV9wcm90b3R5cGVfZml4ZWQiLCIkd2luZG93IiwiaXNfZmlyZWZveCIsImZpcnN0X2NoaWxkX2dldHRlciIsIm5leHRfc2libGluZ19nZXR0ZXIiLCJpbml0X29wZXJhdGlvbnMiLCJlbGVtZW50X3Byb3RvdHlwZSIsIm5vZGVfcHJvdG90eXBlIiwidGV4dF9wcm90b3R5cGUiLCJjcmVhdGVfdGV4dCIsImdldF9maXJzdF9jaGlsZCIsIm5vZGUiLCJnZXRfbmV4dF9zaWJsaW5nIiwiY2hpbGQiLCJpc190ZXh0Iiwic2libGluZyIsImNvdW50IiwibmV4dF9zaWJsaW5nIiwiY2xlYXJfdGV4dF9jb250ZW50Iiwic2hvdWxkX2RlZmVyX2FwcGVuZCIsImhhbmRsZV9lcnJvciIsImVycm9yIiwiZWZmZWN0IiwiaW52b2tlX2Vycm9yX2JvdW5kYXJ5IiwiZSIsImJhdGNoZXMiLCJjdXJyZW50X2JhdGNoIiwiYmF0Y2hfdmFsdWVzIiwicXVldWVkX3Jvb3RfZWZmZWN0cyIsImxhc3Rfc2NoZWR1bGVkX2VmZmVjdCIsImlzX2ZsdXNoaW5nIiwiQmF0Y2giLCIjY29tbWl0X2NhbGxiYWNrcyIsIiNkaXNjYXJkX2NhbGxiYWNrcyIsIiNwZW5kaW5nIiwiI2Jsb2NraW5nX3BlbmRpbmciLCIjZGVmZXJyZWQiLCIjZGlydHlfZWZmZWN0cyIsIiNtYXliZV9kaXJ0eV9lZmZlY3RzIiwicm9vdF9lZmZlY3RzIiwicm9vdCIsIiN0cmF2ZXJzZV9lZmZlY3RfdHJlZSIsIiNyZXNvbHZlIiwiI2RlZmVyX2VmZmVjdHMiLCJmbHVzaF9xdWV1ZWRfZWZmZWN0cyIsImZsYWdzIiwiaXNfYnJhbmNoIiwiaXNfc2tpcHBhYmxlX2JyYW5jaCIsInNraXAiLCJpc19kaXJ0eSIsInVwZGF0ZV9lZmZlY3QiLCJwYXJlbnQiLCIjY2xlYXJfbWFya2VkIiwic2V0X3NpZ25hbF9zdGF0dXMiLCJkZXBzIiwiZGVwIiwiZmx1c2hfZWZmZWN0cyIsIiNjb21taXQiLCJwcmV2aW91c19iYXRjaF92YWx1ZXMiLCJpc19lYXJsaWVyIiwiZHVtbXlfdGFyZ2V0IiwiYmF0Y2giLCJvdGhlcnMiLCJwcmV2X3F1ZXVlZF9yb290X2VmZmVjdHMiLCJtYXJrZWQiLCJjaGVja2VkIiwibWFya19lZmZlY3RzIiwiYmxvY2tpbmciLCJzY2hlZHVsZV9lZmZlY3QiLCJ0YXNrIiwid2FzX3VwZGF0aW5nX2VmZmVjdCIsImlzX3VwZGF0aW5nX2VmZmVjdCIsInNvdXJjZV9zdGFja3MiLCJmbHVzaF9jb3VudCIsInNldF9pc191cGRhdGluZ19lZmZlY3QiLCJ1cGRhdGVzIiwiZW50cnkiLCJpbmZpbml0ZV9sb29wX2d1YXJkIiwib2xkX3ZhbHVlcyIsImUuZWZmZWN0X3VwZGF0ZV9kZXB0aF9leGNlZWRlZCIsImVhZ2VyX2Jsb2NrX2VmZmVjdHMiLCJsZW5ndGgiLCJ1bmxpbmtfZWZmZWN0Iiwib3JkZXJlZF9lZmZlY3RzIiwiYW5jZXN0b3IiLCJqIiwiZGVwZW5kc19vbiIsImRlcGVuZHMiLCJzaWduYWwiLCJjcmVhdGVTdWJzY3JpYmVyIiwic3RhcnQiLCJzdWJzY3JpYmVycyIsInN0b3AiLCJlZmZlY3RfdHJhY2tpbmciLCJyZW5kZXJfZWZmZWN0IiwidW50cmFjayIsImJvdW5kYXJ5IiwiY2hpbGRyZW4iLCJCb3VuZGFyeSIsIiNhbmNob3IiLCIjaHlkcmF0ZV9vcGVuIiwiI3Byb3BzIiwiI2NoaWxkcmVuIiwiI2VmZmVjdCIsIiNtYWluX2VmZmVjdCIsIiNwZW5kaW5nX2VmZmVjdCIsIiNmYWlsZWRfZWZmZWN0IiwiI29mZnNjcmVlbl9mcmFnbWVudCIsIiNwZW5kaW5nX2FuY2hvciIsIiNsb2NhbF9wZW5kaW5nX2NvdW50IiwiI3BlbmRpbmdfY291bnQiLCIjaXNfY3JlYXRpbmdfZmFsbGJhY2siLCIjZWZmZWN0X3BlbmRpbmciLCIjZWZmZWN0X3BlbmRpbmdfc3Vic2NyaWJlciIsImJsb2NrIiwiYW5jaG9yIiwiI2dldF9hbmNob3IiLCJicmFuY2giLCIjc2hvd19wZW5kaW5nX3NuaXBwZXQiLCIjaHlkcmF0ZV9yZXNvbHZlZF9jb250ZW50IiwiI2h5ZHJhdGVfcGVuZGluZ19jb250ZW50IiwicGVuZGluZyIsIiNydW4iLCJwYXVzZV9lZmZlY3QiLCJwcmV2aW91c19lZmZlY3QiLCJwcmV2aW91c19yZWFjdGlvbiIsInByZXZpb3VzX2N0eCIsInNldF9hY3RpdmVfZWZmZWN0IiwibW92ZV9lZmZlY3QiLCIjdXBkYXRlX3BlbmRpbmdfY291bnQiLCJkIiwiaW50ZXJuYWxfc2V0Iiwib25lcnJvciIsImZhaWxlZCIsImRlc3Ryb3lfZWZmZWN0IiwiZGlkX3Jlc2V0IiwiY2FsbGluZ19vbl9lcnJvciIsInJlc2V0Iiwidy5zdmVsdGVfYm91bmRhcnlfcmVzZXRfbm9vcCIsImUuc3ZlbHRlX2JvdW5kYXJ5X3Jlc2V0X29uZXJyb3IiLCJmbGF0dGVuIiwiYmxvY2tlcnMiLCJzeW5jIiwiYXN5bmMiLCJkZXJpdmVkIiwiZGVyaXZlZF9zYWZlX2VxdWFsIiwicmVzdG9yZSIsImNhcHR1cmUiLCJleHByZXNzaW9uIiwiYXN5bmNfZGVyaXZlZCIsInVuc2V0X2NvbnRleHQiLCJwcmV2aW91c19jb21wb25lbnRfY29udGV4dCIsInByZXZpb3VzX2JhdGNoIiwiYWN0aXZhdGVfYmF0Y2giLCJwYXJlbnRfZGVyaXZlZCIsImxvY2F0aW9uIiwiZS5hc3luY19kZXJpdmVkX29ycGhhbiIsInNob3VsZF9zdXNwZW5kIiwiZGVmZXJyZWRzIiwiYXN5bmNfZWZmZWN0IiwiaGFuZGxlciIsInRlYXJkb3duIiwiZnVsZmlsIiwibmV4dCIsImdvIiwiZGVzdHJveV9kZXJpdmVkX2VmZmVjdHMiLCJnZXRfZGVyaXZlZF9wYXJlbnRfZWZmZWN0IiwiZXhlY3V0ZV9kZXJpdmVkIiwicHJldl9hY3RpdmVfZWZmZWN0IiwidXBkYXRlX3JlYWN0aW9uIiwidXBkYXRlX2Rlcml2ZWQiLCJpbmNyZW1lbnRfd3JpdGVfdmVyc2lvbiIsImlzX2Rlc3Ryb3lpbmdfZWZmZWN0Iiwic3RhdHVzIiwiZWFnZXJfZWZmZWN0cyIsImVhZ2VyX2VmZmVjdHNfZGVmZXJyZWQiLCJzdGFjayIsInN0YXRlIiwicHVzaF9yZWFjdGlvbl92YWx1ZSIsIm11dGFibGVfc291cmNlIiwiaW5pdGlhbF92YWx1ZSIsImltbXV0YWJsZSIsInRyYWNrYWJsZSIsInNob3VsZF9wcm94eSIsInVudHJhY2tpbmciLCJjdXJyZW50X3NvdXJjZXMiLCJlLnN0YXRlX3Vuc2FmZV9tdXRhdGlvbiIsIm5ld192YWx1ZSIsIm9sZF92YWx1ZSIsIm1hcmtfcmVhY3Rpb25zIiwidW50cmFja2VkX3dyaXRlcyIsInNldF91bnRyYWNrZWRfd3JpdGVzIiwiZmx1c2hfZWFnZXJfZWZmZWN0cyIsInByZXZfaXNfdXBkYXRpbmdfZWZmZWN0IiwiaW5zcGVjdHMiLCJyZWFjdGlvbnMiLCJub3RfZGlydHkiLCJ3aXRob3V0X3JlYWN0aXZlX2NvbnRleHQiLCJzZXRfaXNfZGVzdHJveWluZ19lZmZlY3QiLCJuZXdfZGVwcyIsInNraXBwZWRfZGVwcyIsIndyaXRlX3ZlcnNpb24iLCJyZWFkX3ZlcnNpb24iLCJkZXBlbmRlbmNpZXMiLCJkZXBlbmRlbmN5Iiwic2NoZWR1bGVfcG9zc2libGVfZWZmZWN0X3NlbGZfaW52YWxpZGF0aW9uIiwicHJldmlvdXNfZGVwcyIsInByZXZpb3VzX3NraXBwZWRfZGVwcyIsInByZXZpb3VzX3VudHJhY2tlZF93cml0ZXMiLCJwcmV2aW91c19zb3VyY2VzIiwicHJldmlvdXNfdW50cmFja2luZyIsInByZXZpb3VzX3VwZGF0ZV92ZXJzaW9uIiwicmVtb3ZlX3JlYWN0aW9ucyIsInJlbW92ZV9yZWFjdGlvbiIsImluZGV4IiwibmV3X2xlbmd0aCIsInN0YXJ0X2luZGV4IiwiZGVzdHJveV9ibG9ja19lZmZlY3RfY2hpbGRyZW4iLCJkZXN0cm95X2VmZmVjdF9jaGlsZHJlbiIsImV4ZWN1dGVfZWZmZWN0X3RlYXJkb3duIiwiaXNfZGVyaXZlZCIsImRlc3Ryb3llZCIsImRlcGVuZHNfb25fb2xkX3ZhbHVlcyIsInJlY29ubmVjdCIsIlNUQVRVU19NQVNLIiwiZGVlcF9yZWFkX3N0YXRlIiwiZGVlcF9yZWFkIiwidmlzaXRlZCIsInByb3RvIiwiZGVzY3JpcHRvcnMiLCJ2YWxpZGF0ZV9lZmZlY3QiLCJlLmVmZmVjdF9vcnBoYW4iLCJlLmVmZmVjdF9pbl91bm93bmVkX2Rlcml2ZWQiLCJlLmVmZmVjdF9pbl90ZWFyZG93biIsInB1c2hfZWZmZWN0IiwicGFyZW50X2VmZmVjdCIsInBhcmVudF9sYXN0IiwiY3JlYXRlX2VmZmVjdCIsInR5cGUiLCJ1c2VyX2VmZmVjdCIsImRlZmVyIiwidXNlcl9wcmVfZWZmZWN0IiwiY29tcG9uZW50X3Jvb3QiLCJvcHRpb25zIiwidGVtcGxhdGVfZWZmZWN0IiwidmFsdWVzIiwicHJldmlvdXNseV9kZXN0cm95aW5nX2VmZmVjdCIsInJlbW92ZV9kb20iLCJjb250cm9sbGVyIiwicmVtb3ZlZCIsInJlbW92ZV9lZmZlY3RfZG9tIiwidHJhbnNpdGlvbnMiLCJ0cmFuc2l0aW9uIiwiZW5kIiwicHJldiIsImNhbGxiYWNrIiwiZGVzdHJveSIsInBhdXNlX2NoaWxkcmVuIiwicmVtYWluaW5nIiwiY2hlY2siLCJsb2NhbCIsInQiLCJ0cmFuc3BhcmVudCIsInJlc3VtZV9lZmZlY3QiLCJyZXN1bWVfY2hpbGRyZW4iLCJmcmFnbWVudCIsIlBBU1NJVkVfRVZFTlRTIiwiaXNfcGFzc2l2ZV9ldmVudCIsImFsbF9yZWdpc3RlcmVkX2V2ZW50cyIsInJvb3RfZXZlbnRfaGFuZGxlcyIsImRlbGVnYXRlIiwiZXZlbnRzIiwibGFzdF9wcm9wYWdhdGVkX2V2ZW50IiwiaGFuZGxlX2V2ZW50X3Byb3BhZ2F0aW9uIiwiZXZlbnQiLCJoYW5kbGVyX2VsZW1lbnQiLCJvd25lcl9kb2N1bWVudCIsImV2ZW50X25hbWUiLCJwYXRoIiwiY3VycmVudF90YXJnZXQiLCJwYXRoX2lkeCIsImhhbmRsZWRfYXQiLCJhdF9pZHgiLCJoYW5kbGVyX2lkeCIsInRocm93X2Vycm9yIiwib3RoZXJfZXJyb3JzIiwicGFyZW50X2VsZW1lbnQiLCJkZWxlZ2F0ZWQiLCJjcmVhdGVfZnJhZ21lbnRfZnJvbV9odG1sIiwiaHRtbCIsImVsZW0iLCJhc3NpZ25fbm9kZXMiLCJmcm9tX2h0bWwiLCJjb250ZW50IiwidXNlX2ltcG9ydF9ub2RlIiwiaGFzX3N0YXJ0IiwiY2xvbmUiLCJhcHBlbmQiLCJkb20iLCJzZXRfdGV4dCIsInRleHQiLCJzdHIiLCJtb3VudCIsIl9tb3VudCIsImRvY3VtZW50X2xpc3RlbmVycyIsIkNvbXBvbmVudCIsImludHJvIiwicmVnaXN0ZXJlZF9ldmVudHMiLCJldmVudF9oYW5kbGUiLCJwYXNzaXZlIiwidW5tb3VudCIsImFuY2hvcl9ub2RlIiwiY3R4IiwibW91bnRlZF9jb21wb25lbnRzIiwiQnJhbmNoTWFuYWdlciIsIiNiYXRjaGVzIiwiI29uc2NyZWVuIiwiI29mZnNjcmVlbiIsIiNvdXRyb2luZyIsIiN0cmFuc2l0aW9uIiwib25zY3JlZW4iLCJvZmZzY3JlZW4iLCJrIiwib25fZGVzdHJveSIsIiNkaXNjYXJkIiwia2V5cyIsImlmX2Jsb2NrIiwiZWxzZWlmIiwiYnJhbmNoZXMiLCJ1cGRhdGVfYnJhbmNoIiwiY29uZGl0aW9uIiwiaGFzX2JyYW5jaCIsImZsYWciLCJwYXVzZV9lZmZlY3RzIiwidG9fZGVzdHJveSIsImNvbnRyb2xsZWRfYW5jaG9yIiwiZ3JvdXAiLCJncm91cHMiLCJkZXN0cm95X2VmZmVjdHMiLCJmYXN0X3BhdGgiLCJwYXJlbnRfbm9kZSIsIm9mZnNjcmVlbl9hbmNob3IiLCJlYWNoIiwiZ2V0X2NvbGxlY3Rpb24iLCJnZXRfa2V5IiwicmVuZGVyX2ZuIiwiZmFsbGJhY2tfZm4iLCJpdGVtcyIsImZhbGxiYWNrIiwiZWFjaF9hcnJheSIsImNvbGxlY3Rpb24iLCJhcnJheSIsImZpcnN0X3J1biIsImNvbW1pdCIsInJlY29uY2lsZSIsIm1vdmUiLCJpdGVtIiwiY3JlYXRlX2l0ZW0iLCJjdXJyZW50Iiwic2VlbiIsIm1hdGNoZWQiLCJzdGFzaGVkIiwibGluayIsImRlc3Ryb3lfbGVuZ3RoIiwiZGVzdCIsIm5leHRfbm9kZSIsImluaXQiLCJjYWxsYmFja3MiLCJjaGFuZ2VkIiwib2JzZXJ2ZV9hbGwiLCJmbnMiLCJpc19zdG9yZV9iaW5kaW5nIiwiSVNfVU5NT1VOVEVEIiwic3RvcmVfZ2V0Iiwic3RvcmUiLCJzdG9yZV9uYW1lIiwic3RvcmVzIiwiaXNfc3luY2hyb25vdXNfY2FsbGJhY2siLCJzdWJzY3JpYmVfdG9fc3RvcmUiLCJnZXRfc3RvcmUiLCJzZXR1cF9zdG9yZXMiLCJjbGVhbnVwIiwiY2FwdHVyZV9zdG9yZV9iaW5kaW5nIiwicHJldmlvdXNfaXNfc3RvcmVfYmluZGluZyIsImJpbmRhYmxlIiwiZmFsbGJhY2tfdmFsdWUiLCJmYWxsYmFja19kaXJ0eSIsImdldF9mYWxsYmFjayIsInNldHRlciIsImlzX2VudHJ5X3Byb3BzIiwiaXNfc3RvcmVfc3ViIiwiZ2V0dGVyIiwibGVnYWN5X3BhcmVudCIsIm11dGF0aW9uIiwib3ZlcnJpZGRlbiIsIm9uTW91bnQiLCJlLmxpZmVjeWNsZV9vdXRzaWRlX2NvbXBvbmVudCIsImluaXRfdXBkYXRlX2NhbGxiYWNrcyIsImwiLCJpbnZhbGlkYXRlIiwidW5zdWIiLCJzdWJzY3JpYmVyX3F1ZXVlIiwid3JpdGFibGUiLCJydW5fcXVldWUiLCJzdWJzY3JpYmVyIiwidXBkYXRlIiwic3Vic2NyaWJlIiwiRlJPTlRNQVRURVJfVEFCTEVQQVJTRVJfS0VZIiwiRlJPTlRNQVRURVJfTkFNRV9LRVkiLCJGUk9OVE1BVFRFUl9SRVJPTExfVEFCTEVfS0VZIiwiRlJPTlRNQVRURVJfSVNfSElEREVOX0tFWSIsIkZST05UTUFUVEVSX0RJQ0VfQ09MVU1OX0tFWSIsIlRhYmxlUGFyc2VyIiwiZmlsZVBhdGgiLCJmaWxlQ29udGVudCIsImZyb250bWF0dGVyIiwiZnJvbnRNYXR0ZXJLZXlWYWx1ZXMiLCJjb2x1bW5zIiwicm93cyIsImZyb250bWF0dGVyUmVnZXgiLCJtYXRjaCIsImZyb250bWF0dGVyVGV4dCIsImJvZHlDb250ZW50Iiwia2V5VmFsdWVzIiwibGluZSIsImtleVZhbHVlIiwiZGljZUNvbHVtbiIsImxpbmVzIiwiaGVhZGVyTGluZSIsImhlYWRlcnMiLCJoIiwiaGVhZGVyIiwicmFuZG9tVVVJRCIsImNlbGxzIiwiYyIsInJvdyIsImlkeCIsImNvbHVtbk5hbWUiLCJUYWJsZVN0b3JlIiwiYXBwIiwiZmlsZXMiLCJ0YWJsZXMiLCJmaWxlIiwidGFibGUiLCJUQUJMRV9ST0xMRVJfVklFV19UWVBFIiwiUFVCTElDX1ZFUlNJT04iLCIkLnByb3AiLCIkJHByb3BzIiwicm9sbFRhYmxlIiwic2hvd0FkdmFuY2VkUm9sbFVJIiwiZWRpdFRhYmxlIiwiZGl2IiwiZGl2XzEiLCJzcGFuIiwiZGl2XzIiLCJidXR0b24iLCJidXR0b25fMSIsImJ1dHRvbl8yIiwiJC51bnRyYWNrIiwidGFibGVTdG9yZSIsIkhlYWRlciIsImgyIiwicm9vdF8xIiwidWwiLCJyb290XzIiLCIkdGFibGVTdG9yZSIsIiQuaW5kZXgiLCIkJGFuY2hvciIsIlRhYmxlRGlzcGxheUl0ZW0iLCIkJHJlbmRlciIsImNvbnNlcXVlbnQiLCJhbHRlcm5hdGUiLCJUYWJsZVNpZGVWaWV3IiwiSXRlbVZpZXciLCJsZWFmIiwiVGFibGVEaXNwbGF5IiwiVGFibGVSb2xsZXJQbHVnaW4iLCJQbHVnaW4iLCJ3b3Jrc3BhY2UiLCJyaWdodExlYWYiXSwibWFwcGluZ3MiOiJtS0FBQUEsR0FBZSxHQ0VSLElBQUlDLEdBQVcsTUFBTSxRQUNqQkMsR0FBVyxNQUFNLFVBQVUsUUFDM0JDLEdBQWEsTUFBTSxLQUVuQkMsR0FBa0IsT0FBTyxlQUN6QkMsR0FBaUIsT0FBTyx5QkFDeEJDLEdBQWtCLE9BQU8sMEJBQ3pCQyxHQUFtQixPQUFPLFVBQzFCQyxHQUFrQixNQUFNLFVBQ3hCQyxHQUFtQixPQUFPLGVBQzFCQyxHQUFnQixPQUFPLGFBVTNCLE1BQU1DLEdBQU8sSUFBTSxDQUFDLEVBZXBCLFNBQVNDLEdBQUlDLEVBQUksQ0FDdkIsT0FBT0EsRUFBRSxDQUNWLENBR08sU0FBU0MsR0FBUUMsRUFBSyxDQUM1QixRQUFTQyxFQUFJLEVBQUdBLEVBQUlELEVBQUksT0FBUUMsSUFDL0JELEVBQUlDLENBQUMsRUFBQyxDQUVSLENBTU8sU0FBU0MsSUFBVyxDQUUxQixJ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QUFRLEtBQUssWUFBWSxDQUU3QixDQUNGLENDakNBLE1BQXFCc0ssV0FBMEJDLEdBQUFBLE1BQU8sQ0FDcEQsV0FBeUIsSUFBSXZDLEdBQVcsS0FBSyxHQUFHLEVBRWhELE1BQU0sUUFBUyxDQUNiLEtBQUssYUFDSE0sR0FDQzhCLEdBQVMsSUFBSUYsR0FBY0UsRUFBTSxLQUFLLFVBQVUsQ0FBQSxFQUduRCxLQUFLLGNBQWMsT0FBUSxlQUFnQixJQUFNLENBQy9DLEtBQUssYUFBQSxDQUNQLENBQUMsQ0FDSCxDQUVBLE1BQU0sVUFBVyxDQUNqQixDQUVBLE1BQU0sY0FBZSxDQUNuQixLQUFNLENBQUUsVUFBQUksR0FBYyxLQUFLLElBRTNCLElBQUlKLEVBQU9JLEVBQVUsZ0JBQWdCbEMsRUFBc0IsRUFBRSxDQUFDLEVBRTlELEdBQUksQ0FBQzhCLEVBQU0sQ0FDVCxNQUFNSyxFQUFZRCxFQUFVLGFBQWEsRUFBSyxFQUMxQ0MsSUFDRixNQUFNQSxFQUFVLGFBQWEsQ0FDM0IsS0FBTW5DLEdBQ04sT0FBUSxFQUFBLENBQ1QsRUFDRDhCLEVBQU9LLEVBRVgsQ0FFSUwsR0FDRkksRUFBVSxXQUFXSixDQUFJLENBRTdCLENBQ0YiLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMCwxLDIsMyw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSwxNiwxNywxOCwxOSwyMCwyMSwyMiwyMywyNCwyNSwyNiwyNywyOCwyOSwzMCwzMSwzMiwzMywzNCwzNSwzNiw0MSw0Miw0M119
